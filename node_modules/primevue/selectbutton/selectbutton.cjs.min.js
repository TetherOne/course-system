"use strict";var e=require("primevue/ripple"),t=require("primevue/utils"),n=require("primevue/basecomponent"),i=require("primevue/selectbutton/style"),l=require("vue");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p={name:"SelectButton",extends:{name:"BaseSelectButton",extends:r(n).default,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},invalid:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,ariaLabelledby:{type:String,default:null}},style:r(i).default,provide:function(){return{$parentInstance:this}}},inheritAttrs:!1,emits:["update:modelValue","focus","blur","change"],data:function(){return{focusedIndex:0}},mounted:function(){this.defaultTabIndexes()},methods:{defaultTabIndexes:function(){for(var e=t.DomHandler.find(this.$refs.container,'[data-pc-section="button"]'),n=t.DomHandler.findSingle(this.$refs.container,'[data-p-highlight="true"]'),i=0;i<e.length;i++)(!0===t.DomHandler.getAttribute(e[i],"data-p-highlight")&&t.ObjectUtils.equals(e[i],n)||null===n&&0==i)&&(this.focusedIndex=i)},getOptionLabel:function(e){return this.optionLabel?t.ObjectUtils.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?t.ObjectUtils.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?t.ObjectUtils.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getPTOptions:function(e,t){return this.ptm(t,{context:{active:this.isSelected(e),disabled:this.isOptionDisabled(e),option:e}})},isOptionDisabled:function(e){return!!this.optionDisabled&&t.ObjectUtils.resolveFieldData(e,this.optionDisabled)},onOptionSelect:function(e,n,i){var l=this;if(!this.disabled&&!this.isOptionDisabled(n)){var r=this.isSelected(n);if(!r||this.unselectable&&this.allowEmpty){var o,a,f=this.getOptionValue(n);o=this.multiple?r?this.modelValue.filter((function(e){return!t.ObjectUtils.equals(e,f,l.equalityKey)})):this.modelValue?[].concat(c(a=this.modelValue)||d(a)||u(a)||s(),[f]):[f]:r?null:f,this.focusedIndex=i,this.$emit("update:modelValue",o),this.$emit("change",{event:e,value:o})}}},isSelected:function(e){var n=!1,i=this.getOptionValue(e);if(this.multiple){if(this.modelValue){var l,r=a(this.modelValue);try{for(r.s();!(l=r.n()).done;){if(t.ObjectUtils.equals(l.value,i,this.equalityKey)){n=!0;break}}}catch(e){r.e(e)}finally{r.f()}}}else n=t.ObjectUtils.equals(this.modelValue,i,this.equalityKey);return n},onKeydown:function(e,t,n){switch(e.code){case"Space":this.onOptionSelect(e,t,n),e.preventDefault();break;case"ArrowDown":case"ArrowRight":this.onArrowRightKey(e.target),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.onArrowLeftKey(e.target),e.preventDefault()}},onArrowRightKey:function(e){var n=this.findNextElement(e);n&&(this.focusedIndex=t.ObjectUtils.findIndexInList(n,this.findAllElements()),t.DomHandler.focus(n))},onArrowLeftKey:function(e){var n=this.findPrevElement(e);n&&(this.focusedIndex=t.ObjectUtils.findIndexInList(n,this.findAllElements()),t.DomHandler.focus(n))},findAllElements:function(){return t.DomHandler.find(this.$refs.container,'[data-pc-section="button"]')},findNextElement:function(e){return e.nextElementSibling?t.DomHandler.getAttribute(e.nextElementSibling,"data-p-disabled")?this.findNextElement(e.nextElementSibling):e.nextElementSibling:null},findPrevElement:function(e){return e.previousElementSibling?t.DomHandler.getAttribute(e.previousElementSibling,"data-p-disabled")?this.findPrevElement(e.previousElementSibling):e.previousElementSibling:null},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e,t){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,t)},findTabindex:function(e,t){return this.disabled||this.isOptionDisabled(e)||t!==this.focusedIndex?"-1":"0"}},computed:{equalityKey:function(){return this.optionValue?null:this.dataKey}},directives:{ripple:o.default}},b=["aria-labelledby"],h=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur","data-p-highlight","data-p-disabled"];p.render=function(e,t,n,i,r,o){var a=l.resolveDirective("ripple");return l.openBlock(),l.createElementBlock("div",l.mergeProps({ref:"container",class:e.cx("root"),role:"group","aria-labelledby":e.ariaLabelledby},e.ptmi("root")),[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(e.options,(function(n,i){return l.withDirectives((l.openBlock(),l.createElementBlock("div",l.mergeProps({key:o.getOptionRenderKey(n),tabindex:o.findTabindex(n,i),"aria-label":o.getOptionLabel(n),role:e.multiple?"checkbox":"radio","aria-checked":o.isSelected(n),"aria-disabled":o.isOptionDisabled(n),class:e.cx("button",{option:n}),onClick:function(e){return o.onOptionSelect(e,n,i)},onKeydown:function(e){return o.onKeydown(e,n,i)},onFocus:t[0]||(t[0]=function(e){return o.onFocus(e)}),onBlur:function(e){return o.onBlur(e,n)}},o.getPTOptions(n,"button"),{"data-p-highlight":o.isSelected(n),"data-p-disabled":o.isOptionDisabled(n)}),[l.renderSlot(e.$slots,"option",{option:n,index:i,class:l.normalizeClass(e.cx("label"))},(function(){return[l.createElementVNode("span",l.mergeProps({class:e.cx("label")},o.getPTOptions(n,"label")),l.toDisplayString(o.getOptionLabel(n)),17)]}))],16,h)),[[a]])})),128))],16,b)},module.exports=p;
