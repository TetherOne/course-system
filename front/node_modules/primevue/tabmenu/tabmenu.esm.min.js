import e from"primevue/ripple";import{DomHandler as t}from"primevue/utils";import{mergeProps as i,resolveDirective as n,openBlock as a,createElementBlock as r,createElementVNode as l,Fragment as s,renderList as o,withDirectives as d,createBlock as c,resolveDynamicComponent as u,normalizeClass as f,createCommentVNode as m,toDisplayString as b}from"vue";import p from"primevue/basecomponent";import h from"primevue/tabmenu/style";var v={name:"TabMenu",extends:{name:"BaseTabMenu",extends:p,props:{model:{type:Array,default:null},activeIndex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:h,provide:function(){return{$parentInstance:this}}},inheritAttrs:!1,emits:["update:activeIndex","tab-change"],timeout:null,data:function(){return{d_activeIndex:this.activeIndex}},watch:{activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.updateInkBar();var e=this.findActiveItem();e&&(e.tabIndex="0")},updated:function(){this.updateInkBar()},beforeUnmount:function(){clearTimeout(this.timeout)},methods:{getPTOptions:function(e,t,i){return this.ptm(e,{context:{item:t,index:i}})},onItemClick:function(e,t,i){this.disabled(t)?e.preventDefault():(t.command&&t.command({originalEvent:e,item:t}),i!==this.d_activeIndex&&(this.d_activeIndex=i,this.$emit("update:activeIndex",this.d_activeIndex)),this.$emit("tab-change",{originalEvent:e,index:i}))},onKeydownItem:function(e,t,i){switch(e.code){case"ArrowRight":this.navigateToNextItem(e.target),e.preventDefault();break;case"ArrowLeft":this.navigateToPrevItem(e.target),e.preventDefault();break;case"Home":this.navigateToFirstItem(e.target),e.preventDefault();break;case"End":this.navigateToLastItem(e.target),e.preventDefault();break;case"Space":case"NumpadEnter":case"Enter":this.onItemClick(e,t,i),e.preventDefault();break;case"Tab":this.onTabKey()}},navigateToNextItem:function(e){var t=this.findNextItem(e);t&&this.setFocusToMenuitem(e,t)},navigateToPrevItem:function(e){var t=this.findPrevItem(e);t&&this.setFocusToMenuitem(e,t)},navigateToFirstItem:function(e){var t=this.findFirstItem(e);t&&this.setFocusToMenuitem(e,t)},navigateToLastItem:function(e){var t=this.findLastItem(e);t&&this.setFocusToMenuitem(e,t)},findNextItem:function(e){var i=e.parentElement.nextElementSibling;return i?!0===t.getAttribute(i,"data-p-disabled")?this.findNextItem(i.children[0]):i.children[0]:null},findPrevItem:function(e){var i=e.parentElement.previousElementSibling;return i?!0===t.getAttribute(i,"data-p-disabled")?this.findPrevItem(i.children[0]):i.children[0]:null},findFirstItem:function(){var e=t.findSingle(this.$refs.nav,'[data-pc-section="menuitem"][data-p-disabled="false"]');return e?e.children[0]:null},findLastItem:function(){var e=t.find(this.$refs.nav,'[data-pc-section="menuitem"][data-p-disabled="false"]');return e?e[e.length-1].children[0]:null},findActiveItem:function(){var e=t.findSingle(this.$refs.nav,'[data-pc-section="menuitem"][data-p-disabled="false"][data-p-highlight="true"]');return e?e.children[0]:null},setFocusToMenuitem:function(e,t){e.tabIndex="-1",t.tabIndex="0",t.focus()},onTabKey:function(){var e=t.findSingle(this.$refs.nav,'[data-pc-section="menuitem"][data-p-disabled="false"][data-p-highlight="true"]'),i=t.findSingle(this.$refs.nav,'[data-pc-section="action"][tabindex="0"]');i!==e.children[0]&&(e&&(e.children[0].tabIndex="0"),i.tabIndex="-1")},visible:function(e){return"function"==typeof e.visible?e.visible():!1!==e.visible},disabled:function(e){return"function"==typeof e.disabled?e.disabled():!0===e.disabled},label:function(e){return"function"==typeof e.label?e.label():e.label},updateInkBar:function(){for(var e=this.$refs.nav.children,i=!1,n=0;n<e.length;n++){var a=e[n];t.getAttribute(a,"data-p-highlight")&&(this.$refs.inkbar.style.width=t.getWidth(a)+"px",this.$refs.inkbar.style.left=t.getOffset(a).left-t.getOffset(this.$refs.nav).left+"px",i=!0)}i||(this.$refs.inkbar.style.width="0px",this.$refs.inkbar.style.left="0px")},getMenuItemProps:function(e,t){var n=this;return{action:i({class:this.cx("action"),tabindex:-1,onClick:function(i){return n.onItemClick(i,e,t)},onKeyDown:function(i){return n.onKeydownItem(i,e,t)}},this.getPTOptions("action",e,t)),icon:i({class:[this.cx("icon"),e.icon]},this.getPTOptions("icon",e,t)),label:i({class:this.cx("label")},this.getPTOptions("label",e,t))}}},directives:{ripple:e}},g=["aria-labelledby","aria-label"],x=["onClick","onKeydown","data-p-highlight","data-p-disabled"],I=["href","target","aria-label","aria-disabled"];v.render=function(e,t,p,h,v,y){var k=n("ripple");return a(),r("div",i({class:e.cx("root")},e.ptmi("root")),[l("ul",i({ref:"nav",class:e.cx("menu"),role:"menubar","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptm("menu")),[(a(!0),r(s,null,o(e.model,(function(t,n){return a(),r(s,{key:y.label(t)+"_"+n.toString()},[y.visible(t)?(a(),r("li",i({key:0,ref_for:!0,ref:"tab",class:[e.cx("menuitem",{item:t,index:n}),t.class],role:"presentation",onClick:function(e){return y.onItemClick(e,t,n)},onKeydown:function(e){return y.onKeydownItem(e,t,n)}},y.getPTOptions("menuitem",t,n),{"data-p-highlight":v.d_activeIndex===n,"data-p-disabled":y.disabled(t)}),[e.$slots.item?(a(),c(u(e.$slots.item),{key:1,item:t,index:n,active:n===v.d_activeIndex,label:y.label(t),props:y.getMenuItemProps(t,n)},null,8,["item","index","active","label","props"])):d((a(),r("a",i({key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:t.url,class:e.cx("action"),target:t.target,"aria-label":y.label(t),"aria-disabled":y.disabled(t),tabindex:-1},y.getPTOptions("action",t,n)),[e.$slots.itemicon?(a(),c(u(e.$slots.itemicon),{key:0,item:t,class:f(e.cx("icon"))},null,8,["item","class"])):t.icon?(a(),r("span",i({key:1,class:[e.cx("icon"),t.icon]},y.getPTOptions("icon",t,n)),null,16)):m("",!0),l("span",i({class:e.cx("label")},y.getPTOptions("label",t,n)),b(y.label(t)),17)],16,I)),[[k]])],16,x)):m("",!0)],64)})),128)),l("li",i({ref:"inkbar",role:"none",class:e.cx("inkbar")},e.ptm("inkbar")),null,16)],16,g)],16)};export{v as default};
