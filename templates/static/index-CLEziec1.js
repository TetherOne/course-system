var R2=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var vz=R2((pn,gn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cc(n,e){const t=new Set(n.split(","));return i=>t.has(i)}const Ue={},Sr=[],Jt=()=>{},M2=()=>!1,Da=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Pf=n=>n.startsWith("onUpdate:"),it=Object.assign,Af=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},L2=Object.prototype.hasOwnProperty,$e=(n,e)=>L2.call(n,e),oe=Array.isArray,Pr=n=>eo(n)==="[object Map]",Ys=n=>eo(n)==="[object Set]",dm=n=>eo(n)==="[object Date]",B2=n=>eo(n)==="[object RegExp]",ge=n=>typeof n=="function",lt=n=>typeof n=="string",Ai=n=>typeof n=="symbol",Ze=n=>n!==null&&typeof n=="object",xf=n=>(Ze(n)||ge(n))&&ge(n.then)&&ge(n.catch),A0=Object.prototype.toString,eo=n=>A0.call(n),D2=n=>eo(n).slice(8,-1),x0=n=>eo(n)==="[object Object]",Of=n=>lt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ar=Cc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kc=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},V2=/-(\w)/g,qt=kc(n=>n.replace(V2,(e,t)=>t?t.toUpperCase():"")),$2=/\B([A-Z])/g,fn=kc(n=>n.replace($2,"-$1").toLowerCase()),Va=kc(n=>n.charAt(0).toUpperCase()+n.slice(1)),Oo=kc(n=>n?`on${Va(n)}`:""),Hn=(n,e)=>!Object.is(n,e),xr=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},O0=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Kl=n=>{const e=parseFloat(n);return isNaN(e)?n:e},ql=n=>{const e=lt(n)?Number(n):NaN;return isNaN(e)?n:e};let fm;const I0=()=>fm||(fm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),F2="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",N2=Cc(F2);function $a(n){if(oe(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],s=lt(i)?z2(i):$a(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(lt(n)||Ze(n))return n}const H2=/;(?![^(]*\))/g,j2=/:([^]+)/,U2=/\/\*[^]*?\*\//g;function z2(n){const e={};return n.replace(U2,"").split(H2).forEach(t=>{if(t){const i=t.split(j2);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Nt(n){let e="";if(lt(n))e=n;else if(oe(n))for(let t=0;t<n.length;t++){const i=Nt(n[t]);i&&(e+=i+" ")}else if(Ze(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function If(n){if(!n)return null;let{class:e,style:t}=n;return e&&!lt(e)&&(n.class=Nt(e)),t&&(n.style=$a(t)),n}const W2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",K2=Cc(W2);function R0(n){return!!n||n===""}function q2(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=ls(n[i],e[i]);return t}function ls(n,e){if(n===e)return!0;let t=dm(n),i=dm(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=Ai(n),i=Ai(e),t||i)return n===e;if(t=oe(n),i=oe(e),t||i)return t&&i?q2(n,e):!1;if(t=Ze(n),i=Ze(e),t||i){if(!t||!i)return!1;const s=Object.keys(n).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ls(n[o],e[o]))return!1}}return String(n)===String(e)}function Ec(n,e){return n.findIndex(t=>ls(t,e))}const _e=n=>lt(n)?n:n==null?"":oe(n)||Ze(n)&&(n.toString===A0||!ge(n.toString))?JSON.stringify(n,M0,2):String(n),M0=(n,e)=>e&&e.__v_isRef?M0(n,e.value):Pr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,s],r)=>(t[du(i,r)+" =>"]=s,t),{})}:Ys(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>du(t))}:Ai(e)?du(e):Ze(e)&&!oe(e)&&!x0(e)?String(e):e,du=(n,e="")=>{var t;return Ai(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cn;class Rf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cn,!e&&cn&&(this.index=(cn.scopes||(cn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=cn;try{return cn=this,e()}finally{cn=t}}}on(){cn=this}off(){cn=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Mf(n){return new Rf(n)}function L0(n,e=cn){e&&e.active&&e.effects.push(n)}function Lf(){return cn}function B0(n){cn&&cn.cleanups.push(n)}let Rs;class Vr{constructor(e,t,i,s){this.fn=e,this.trigger=t,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,L0(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,fs();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(G2(t.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),hs()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ns,t=Rs;try{return ns=!0,Rs=this,this._runnings++,hm(this),this.fn()}finally{mm(this),this._runnings--,Rs=t,ns=e}}stop(){this.active&&(hm(this),mm(this),this.onStop&&this.onStop(),this.active=!1)}}function G2(n){return n.value}function hm(n){n._trackId++,n._depsLength=0}function mm(n){if(n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)D0(n.deps[e],n);n.deps.length=n._depsLength}}function D0(n,e){const t=n.get(e);t!==void 0&&e._trackId!==t&&(n.delete(e),n.size===0&&n.cleanup())}function Z2(n,e){n.effect instanceof Vr&&(n=n.effect.fn);const t=new Vr(n,Jt,()=>{t.dirty&&t.run()});e&&(it(t,e),e.scope&&L0(t,e.scope)),(!e||!e.lazy)&&t.run();const i=t.run.bind(t);return i.effect=t,i}function J2(n){n.effect.stop()}let ns=!0,od=0;const V0=[];function fs(){V0.push(ns),ns=!1}function hs(){const n=V0.pop();ns=n===void 0?!0:n}function Bf(){od++}function Df(){for(od--;!od&&ad.length;)ad.shift()()}function $0(n,e,t){if(e.get(n)!==n._trackId){e.set(n,n._trackId);const i=n.deps[n._depsLength];i!==e?(i&&D0(i,n),n.deps[n._depsLength++]=e):n._depsLength++}}const ad=[];function F0(n,e,t){Bf();for(const i of n.keys()){let s;i._dirtyLevel<e&&(s??(s=n.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=n.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&ad.push(i.scheduler)))}Df()}const N0=(n,e)=>{const t=new Map;return t.cleanup=n,t.computed=e,t},Gl=new WeakMap,Ms=Symbol(""),ld=Symbol("");function nn(n,e,t){if(ns&&Rs){let i=Gl.get(n);i||Gl.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=N0(()=>i.delete(t))),$0(Rs,s)}}function Ci(n,e,t,i,s,r){const o=Gl.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&oe(n)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!Ai(u)&&u>=l)&&a.push(c)})}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":oe(n)?Of(t)&&a.push(o.get("length")):(a.push(o.get(Ms)),Pr(n)&&a.push(o.get(ld)));break;case"delete":oe(n)||(a.push(o.get(Ms)),Pr(n)&&a.push(o.get(ld)));break;case"set":Pr(n)&&a.push(o.get(Ms));break}Bf();for(const l of a)l&&F0(l,4);Df()}function Y2(n,e){const t=Gl.get(n);return t&&t.get(e)}const X2=Cc("__proto__,__v_isRef,__isVue"),H0=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ai)),pm=Q2();function Q2(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=Me(this);for(let r=0,o=this.length;r<o;r++)nn(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(Me)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){fs(),Bf();const i=Me(this)[e].apply(this,t);return Df(),hs(),i}}),n}function e5(n){Ai(n)||(n=String(n));const e=Me(this);return nn(e,"has",n),e.hasOwnProperty(n)}class j0{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){const s=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return r;if(t==="__v_raw")return i===(s?r?G0:q0:r?K0:W0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=oe(e);if(!s){if(o&&$e(pm,t))return Reflect.get(pm,t,i);if(t==="hasOwnProperty")return e5}const a=Reflect.get(e,t,i);return(Ai(t)?H0.has(t):X2(t))||(s||nn(e,"get",t),r)?a:wt(a)?o&&Of(t)?a:a.value:Ze(a)?s?Pc(a):Xs(a):a}}class U0 extends j0{constructor(e=!1){super(!1,e)}set(e,t,i,s){let r=e[t];if(!this._isShallow){const l=$r(r);if(!Zo(i)&&!$r(i)&&(r=Me(r),i=Me(i)),!oe(e)&&wt(r)&&!wt(i))return l?!1:(r.value=i,!0)}const o=oe(e)&&Of(t)?Number(t)<e.length:$e(e,t),a=Reflect.set(e,t,i,s);return e===Me(s)&&(o?Hn(i,r)&&Ci(e,"set",t,i):Ci(e,"add",t,i)),a}deleteProperty(e,t){const i=$e(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&i&&Ci(e,"delete",t,void 0),s}has(e,t){const i=Reflect.has(e,t);return(!Ai(t)||!H0.has(t))&&nn(e,"has",t),i}ownKeys(e){return nn(e,"iterate",oe(e)?"length":Ms),Reflect.ownKeys(e)}}class z0 extends j0{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const t5=new U0,n5=new z0,i5=new U0(!0),s5=new z0(!0),Vf=n=>n,Tc=n=>Reflect.getPrototypeOf(n);function sl(n,e,t=!1,i=!1){n=n.__v_raw;const s=Me(n),r=Me(e);t||(Hn(e,r)&&nn(s,"get",e),nn(s,"get",r));const{has:o}=Tc(s),a=i?Vf:t?Nf:Jo;if(o.call(s,e))return a(n.get(e));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(e)}function rl(n,e=!1){const t=this.__v_raw,i=Me(t),s=Me(n);return e||(Hn(n,s)&&nn(i,"has",n),nn(i,"has",s)),n===s?t.has(n):t.has(n)||t.has(s)}function ol(n,e=!1){return n=n.__v_raw,!e&&nn(Me(n),"iterate",Ms),Reflect.get(n,"size",n)}function gm(n){n=Me(n);const e=Me(this);return Tc(e).has.call(e,n)||(e.add(n),Ci(e,"add",n,n)),this}function bm(n,e){e=Me(e);const t=Me(this),{has:i,get:s}=Tc(t);let r=i.call(t,n);r||(n=Me(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?Hn(e,o)&&Ci(t,"set",n,e):Ci(t,"add",n,e),this}function vm(n){const e=Me(this),{has:t,get:i}=Tc(e);let s=t.call(e,n);s||(n=Me(n),s=t.call(e,n)),i&&i.call(e,n);const r=e.delete(n);return s&&Ci(e,"delete",n,void 0),r}function ym(){const n=Me(this),e=n.size!==0,t=n.clear();return e&&Ci(n,"clear",void 0,void 0),t}function al(n,e){return function(i,s){const r=this,o=r.__v_raw,a=Me(o),l=e?Vf:n?Nf:Jo;return!n&&nn(a,"iterate",Ms),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function ll(n,e,t){return function(...i){const s=this.__v_raw,r=Me(s),o=Pr(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=t?Vf:e?Nf:Jo;return!e&&nn(r,"iterate",l?ld:Ms),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Hi(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function r5(){const n={get(r){return sl(this,r)},get size(){return ol(this)},has:rl,add:gm,set:bm,delete:vm,clear:ym,forEach:al(!1,!1)},e={get(r){return sl(this,r,!1,!0)},get size(){return ol(this)},has:rl,add:gm,set:bm,delete:vm,clear:ym,forEach:al(!1,!0)},t={get(r){return sl(this,r,!0)},get size(){return ol(this,!0)},has(r){return rl.call(this,r,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:al(!0,!1)},i={get(r){return sl(this,r,!0,!0)},get size(){return ol(this,!0)},has(r){return rl.call(this,r,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:al(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=ll(r,!1,!1),t[r]=ll(r,!0,!1),e[r]=ll(r,!1,!0),i[r]=ll(r,!0,!0)}),[n,t,e,i]}const[o5,a5,l5,c5]=r5();function Sc(n,e){const t=e?n?c5:l5:n?a5:o5;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get($e(t,s)&&s in i?t:i,s,r)}const u5={get:Sc(!1,!1)},d5={get:Sc(!1,!0)},f5={get:Sc(!0,!1)},h5={get:Sc(!0,!0)},W0=new WeakMap,K0=new WeakMap,q0=new WeakMap,G0=new WeakMap;function m5(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p5(n){return n.__v_skip||!Object.isExtensible(n)?0:m5(D2(n))}function Xs(n){return $r(n)?n:Ac(n,!1,t5,u5,W0)}function $f(n){return Ac(n,!1,i5,d5,K0)}function Pc(n){return Ac(n,!0,n5,f5,q0)}function g5(n){return Ac(n,!0,s5,h5,G0)}function Ac(n,e,t,i,s){if(!Ze(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=p5(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function is(n){return $r(n)?is(n.__v_raw):!!(n&&n.__v_isReactive)}function $r(n){return!!(n&&n.__v_isReadonly)}function Zo(n){return!!(n&&n.__v_isShallow)}function Ff(n){return n?!!n.__v_raw:!1}function Me(n){const e=n&&n.__v_raw;return e?Me(e):n}function xc(n){return Object.isExtensible(n)&&O0(n,"__v_skip",!0),n}const Jo=n=>Ze(n)?Xs(n):n,Nf=n=>Ze(n)?Pc(n):n;class Z0{constructor(e,t,i,s){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Vr(()=>e(this._value),()=>Or(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Me(this);return(!e._cacheable||e.effect.dirty)&&Hn(e._value,e._value=e.effect.run())&&Or(e,4),Hf(e),e.effect._dirtyLevel>=2&&Or(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function b5(n,e,t=!1){let i,s;const r=ge(n);return r?(i=n,s=Jt):(i=n.get,s=n.set),new Z0(i,s,r||!s,t)}function Hf(n){var e;ns&&Rs&&(n=Me(n),$0(Rs,(e=n.dep)!=null?e:n.dep=N0(()=>n.dep=void 0,n instanceof Z0?n:void 0)))}function Or(n,e=4,t){n=Me(n);const i=n.dep;i&&F0(i,e)}function wt(n){return!!(n&&n.__v_isRef===!0)}function se(n){return Y0(n,!1)}function J0(n){return Y0(n,!0)}function Y0(n,e){return wt(n)?n:new v5(n,e)}class v5{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Me(e),this._value=t?e:Jo(e)}get value(){return Hf(this),this._value}set value(e){const t=this.__v_isShallow||Zo(e)||$r(e);e=t?e:Me(e),Hn(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Jo(e),Or(this,4))}}function y5(n){Or(n,4)}function A(n){return wt(n)?n.value:n}function w5(n){return ge(n)?n():A(n)}const _5={get:(n,e,t)=>A(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const s=n[e];return wt(s)&&!wt(t)?(s.value=t,!0):Reflect.set(n,e,t,i)}};function jf(n){return is(n)?n:new Proxy(n,_5)}class C5{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:i}=e(()=>Hf(this),()=>Or(this));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function X0(n){return new C5(n)}function Q0(n){const e=oe(n)?new Array(n.length):{};for(const t in n)e[t]=eb(n,t);return e}class k5{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Y2(Me(this._object),this._key)}}class E5{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function T5(n,e,t){return wt(n)?n:ge(n)?new E5(n):Ze(n)&&arguments.length>1?eb(n,e,t):se(n)}function eb(n,e,t){const i=n[e];return wt(i)?i:new k5(n,e,t)}const S5={GET:"get",HAS:"has",ITERATE:"iterate"},P5={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function A5(n,e){}const x5={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},O5={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function ki(n,e,t,i){try{return i?n(...i):n()}catch(s){Qs(s,e,t)}}function bn(n,e,t,i){if(ge(n)){const s=ki(n,e,t,i);return s&&xf(s)&&s.catch(r=>{Qs(r,e,t)}),s}if(oe(n)){const s=[];for(let r=0;r<n.length;r++)s.push(bn(n[r],e,t,i));return s}}function Qs(n,e,t,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${t}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){fs(),ki(l,null,10,[n,o,a]),hs();return}}I5(n,t,s,i)}function I5(n,e,t,i=!0){console.error(n)}let Yo=!1,cd=!1;const $t=[];let ei=0;const Ir=[];let Ji=null,As=0;const tb=Promise.resolve();let Uf=null;function er(n){const e=Uf||tb;return n?e.then(this?n.bind(this):n):e}function R5(n){let e=ei+1,t=$t.length;for(;e<t;){const i=e+t>>>1,s=$t[i],r=Xo(s);r<n||r===n&&s.pre?e=i+1:t=i}return e}function Oc(n){(!$t.length||!$t.includes(n,Yo&&n.allowRecurse?ei+1:ei))&&(n.id==null?$t.push(n):$t.splice(R5(n.id),0,n),nb())}function nb(){!Yo&&!cd&&(cd=!0,Uf=tb.then(ib))}function M5(n){const e=$t.indexOf(n);e>ei&&$t.splice(e,1)}function Zl(n){oe(n)?Ir.push(...n):(!Ji||!Ji.includes(n,n.allowRecurse?As+1:As))&&Ir.push(n),nb()}function wm(n,e,t=Yo?ei+1:0){for(;t<$t.length;t++){const i=$t[t];if(i&&i.pre){if(n&&i.id!==n.uid)continue;$t.splice(t,1),t--,i()}}}function Jl(n){if(Ir.length){const e=[...new Set(Ir)].sort((t,i)=>Xo(t)-Xo(i));if(Ir.length=0,Ji){Ji.push(...e);return}for(Ji=e,As=0;As<Ji.length;As++)Ji[As]();Ji=null,As=0}}const Xo=n=>n.id==null?1/0:n.id,L5=(n,e)=>{const t=Xo(n)-Xo(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function ib(n){cd=!1,Yo=!0,$t.sort(L5);try{for(ei=0;ei<$t.length;ei++){const e=$t[ei];e&&e.active!==!1&&ki(e,null,14)}}finally{ei=0,$t.length=0,Jl(),Yo=!1,Uf=null,($t.length||Ir.length)&&ib()}}let vr,cl=[];function sb(n,e){var t,i;vr=n,vr?(vr.enabled=!0,cl.forEach(({event:s,args:r})=>vr.emit(s,...r)),cl=[]):typeof window<"u"&&window.HTMLElement&&!((i=(t=window.navigator)==null?void 0:t.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{sb(r,e)}),setTimeout(()=>{vr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,cl=[])},3e3)):cl=[]}function B5(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Ue;let s=t;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=i[u]||Ue;f&&(s=t.map(h=>lt(h)?h.trim():h)),d&&(s=t.map(Kl))}let a,l=i[a=Oo(e)]||i[a=Oo(qt(e))];!l&&r&&(l=i[a=Oo(fn(e))]),l&&bn(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,bn(c,n,6,s)}}function rb(n,e,t=!1){const i=e.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!ge(n)){const l=c=>{const u=rb(c,e,!0);u&&(a=!0,it(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(Ze(n)&&i.set(n,null),null):(oe(r)?r.forEach(l=>o[l]=null):it(o,r),Ze(n)&&i.set(n,o),o)}function Ic(n,e){return!n||!Da(e)?!1:(e=e.slice(2).replace(/Once$/,""),$e(n,e[0].toLowerCase()+e.slice(1))||$e(n,fn(e))||$e(n,e))}let Et=null,Rc=null;function Qo(n){const e=Et;return Et=n,Rc=n&&n.type.__scopeId||null,e}function Fa(n){Rc=n}function Na(){Rc=null}const D5=n=>ie;function ie(n,e=Et,t){if(!e||n._n)return n;const i=(...s)=>{i._d&&bd(-1);const r=Qo(e);let o;try{o=n(...s)}finally{Qo(r),i._d&&bd(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ll(n){const{type:e,vnode:t,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:p}=n,v=Qo(n);let _,E;try{if(t.shapeFlag&4){const C=s||i,P=C;_=un(c.call(P,C,u,d,h,f,m)),E=a}else{const C=e;_=un(C.length>1?C(d,{attrs:a,slots:o,emit:l}):C(d,null)),E=e.props?a:$5(a)}}catch(C){Lo.length=0,Qs(C,n,1),_=I(Mt)}let w=_;if(E&&p!==!1){const C=Object.keys(E),{shapeFlag:P}=w;C.length&&P&7&&(r&&C.some(Pf)&&(E=F5(E,r)),w=ri(w,E,!1,!0))}return t.dirs&&(w=ri(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&(w.transition=t.transition),_=w,Qo(v),_}function V5(n,e=!0){let t;for(let i=0;i<n.length;i++){const s=n[i];if(cs(s)){if(s.type!==Mt||s.children==="v-if"){if(t)return;t=s}}else return}return t}const $5=n=>{let e;for(const t in n)(t==="class"||t==="style"||Da(t))&&((e||(e={}))[t]=n[t]);return e},F5=(n,e)=>{const t={};for(const i in n)(!Pf(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function N5(n,e,t){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?_m(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==i[f]&&!Ic(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?_m(i,o,c):!0:!!o;return!1}function _m(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==n[r]&&!Ic(t,r))return!0}return!1}function zf({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const Wf="components",H5="directives";function Tt(n,e){return Kf(Wf,n,!0,e)||n}const ob=Symbol.for("v-ndc");function kt(n){return lt(n)?Kf(Wf,n,!1)||n:n||ob}function xi(n){return Kf(H5,n)}function Kf(n,e,t=!0,i=!1){const s=Et||St;if(s){const r=s.type;if(n===Wf){const a=Cd(r,!1);if(a&&(a===e||a===qt(e)||a===Va(qt(e))))return r}const o=Cm(s[n]||r[n],e)||Cm(s.appContext[n],e);return!o&&i?r:o}}function Cm(n,e){return n&&(n[e]||n[qt(e)]||n[Va(qt(e))])}const ab=n=>n.__isSuspense;let ud=0;const j5={name:"Suspense",__isSuspense:!0,process(n,e,t,i,s,r,o,a,l,c){if(n==null)U5(e,t,i,s,r,o,a,l,c);else{if(r&&r.deps>0&&!n.suspense.isInFallback){e.suspense=n.suspense,e.suspense.vnode=e,e.el=n.el;return}z5(n,e,t,i,s,o,a,l,c)}},hydrate:W5,create:Gf,normalize:K5},qf=j5;function ea(n,e){const t=n.props&&n.props[e];ge(t)&&t()}function U5(n,e,t,i,s,r,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=n.suspense=Gf(n,s,i,e,d,t,r,o,a,l);c(null,f.pendingBranch=n.ssContent,d,null,i,f,r,o),f.deps>0?(ea(n,"onPending"),ea(n,"onFallback"),c(null,n.ssFallback,e,t,i,null,r,o),Rr(f,n.ssFallback)):f.resolve(!1,!0)}function z5(n,e,t,i,s,r,o,a,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=n.suspense;d.vnode=e,e.el=n.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:m,pendingBranch:p,isInFallback:v,isHydrating:_}=d;if(p)d.pendingBranch=f,Dn(f,p)?(l(p,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():v&&(_||(l(m,h,t,i,s,null,r,o,a),Rr(d,h)))):(d.pendingId=ud++,_?(d.isHydrating=!1,d.activeBranch=p):c(p,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0?d.resolve():(l(m,h,t,i,s,null,r,o,a),Rr(d,h))):m&&Dn(f,m)?(l(m,f,t,i,s,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0&&d.resolve()));else if(m&&Dn(f,m))l(m,f,t,i,s,d,r,o,a),Rr(d,f);else if(ea(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=ud++,l(null,f,d.hiddenContainer,null,s,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:E,pendingId:w}=d;E>0?setTimeout(()=>{d.pendingId===w&&d.fallback(h)},E):E===0&&d.fallback(h)}}function Gf(n,e,t,i,s,r,o,a,l,c,u=!1){const{p:d,m:f,um:h,n:m,o:{parentNode:p,remove:v}}=c;let _;const E=q5(n);E&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const w=n.props?ql(n.props.timeout):void 0,C=r,P={vnode:n,parent:e,parentComponent:t,namespace:o,container:i,hiddenContainer:s,deps:0,pendingId:ud++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(b=!1,M=!1){const{vnode:T,activeBranch:L,pendingBranch:z,pendingId:re,effects:W,parentComponent:de,container:Le}=P;let xe=!1;P.isHydrating?P.isHydrating=!1:b||(xe=L&&z.transition&&z.transition.mode==="out-in",xe&&(L.transition.afterLeave=()=>{re===P.pendingId&&(f(z,Le,r===C?m(L):r,0),Zl(W))}),L&&(p(L.el)!==P.hiddenContainer&&(r=m(L)),h(L,de,P,!0)),xe||f(z,Le,r,0)),Rr(P,z),P.pendingBranch=null,P.isInFallback=!1;let J=P.parent,be=!1;for(;J;){if(J.pendingBranch){J.effects.push(...W),be=!0;break}J=J.parent}!be&&!xe&&Zl(W),P.effects=[],E&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!M&&e.resolve()),ea(T,"onResolve")},fallback(b){if(!P.pendingBranch)return;const{vnode:M,activeBranch:T,parentComponent:L,container:z,namespace:re}=P;ea(M,"onFallback");const W=m(T),de=()=>{P.isInFallback&&(d(null,b,z,W,L,null,re,a,l),Rr(P,b))},Le=b.transition&&b.transition.mode==="out-in";Le&&(T.transition.afterLeave=de),P.isInFallback=!0,h(T,L,null,!0),Le||de()},move(b,M,T){P.activeBranch&&f(P.activeBranch,b,M,T),P.container=b},next(){return P.activeBranch&&m(P.activeBranch)},registerDep(b,M){const T=!!P.pendingBranch;T&&P.deps++;const L=b.vnode.el;b.asyncDep.catch(z=>{Qs(z,b,0)}).then(z=>{if(b.isUnmounted||P.isUnmounted||P.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:re}=b;wd(b,z,!1),L&&(re.el=L);const W=!L&&b.subTree.el;M(b,re,p(L||b.subTree.el),L?null:m(b.subTree),P,o,l),W&&v(W),zf(b,re.el),T&&--P.deps===0&&P.resolve()})},unmount(b,M){P.isUnmounted=!0,P.activeBranch&&h(P.activeBranch,t,b,M),P.pendingBranch&&h(P.pendingBranch,t,b,M)}};return P}function W5(n,e,t,i,s,r,o,a,l){const c=e.suspense=Gf(e,i,t,n.parentNode,document.createElement("div"),null,s,r,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function K5(n){const{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=km(i?t.default:t),n.ssFallback=i?km(t.fallback):I(Mt)}function km(n){let e;if(ge(n)){const t=Ws&&n._c;t&&(n._d=!1,S()),n=n(),t&&(n._d=!0,e=Yt,Wb())}return oe(n)&&(n=V5(n)),n=un(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function lb(n,e){e&&e.pendingBranch?oe(n)?e.effects.push(...n):e.effects.push(n):Zl(n)}function Rr(n,e){n.activeBranch=e;const{vnode:t,parentComponent:i}=n;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;t.el=s,i&&i.subTree===t&&(i.vnode.el=s,zf(i,s))}function q5(n){const e=n.props&&n.props.suspensible;return e!=null&&e!==!1}const cb=Symbol.for("v-scx"),ub=()=>at(cb);function G5(n,e){return Ha(n,null,e)}function db(n,e){return Ha(n,null,{flush:"post"})}function fb(n,e){return Ha(n,null,{flush:"sync"})}const ul={};function ss(n,e,t){return Ha(n,e,t)}function Ha(n,e,{immediate:t,deep:i,flush:s,once:r,onTrack:o,onTrigger:a}=Ue){if(e&&r){const b=e;e=(...M)=>{b(...M),P()}}const l=St,c=b=>i===!0?b:Os(b,i===!1?1:void 0);let u,d=!1,f=!1;if(wt(n)?(u=()=>n.value,d=Zo(n)):is(n)?(u=()=>c(n),d=!0):oe(n)?(f=!0,d=n.some(b=>is(b)||Zo(b)),u=()=>n.map(b=>{if(wt(b))return b.value;if(is(b))return c(b);if(ge(b))return ki(b,l,2)})):ge(n)?e?u=()=>ki(n,l,2):u=()=>(h&&h(),bn(n,l,3,[m])):u=Jt,e&&i){const b=u;u=()=>Os(b())}let h,m=b=>{h=w.onStop=()=>{ki(b,l,4),h=w.onStop=void 0}},p;if(Ua)if(m=Jt,e?t&&bn(e,l,3,[u(),f?[]:void 0,m]):u(),s==="sync"){const b=ub();p=b.__watcherHandles||(b.__watcherHandles=[])}else return Jt;let v=f?new Array(n.length).fill(ul):ul;const _=()=>{if(!(!w.active||!w.dirty))if(e){const b=w.run();(i||d||(f?b.some((M,T)=>Hn(M,v[T])):Hn(b,v)))&&(h&&h(),bn(e,l,3,[b,v===ul?void 0:f&&v[0]===ul?[]:v,m]),v=b)}else w.run()};_.allowRecurse=!!e;let E;s==="sync"?E=_:s==="post"?E=()=>Rt(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),E=()=>Oc(_));const w=new Vr(u,Jt,E),C=Lf(),P=()=>{w.stop(),C&&Af(C.effects,w)};return e?t?_():v=w.run():s==="post"?Rt(w.run.bind(w),l&&l.suspense):w.run(),p&&p.push(P),P}function Z5(n,e,t){const i=this.proxy,s=lt(n)?n.includes(".")?hb(i,n):()=>i[n]:n.bind(i,i);let r;ge(e)?r=e:(r=e.handler,t=e);const o=Ks(this),a=Ha(s,r.bind(i),t);return o(),a}function hb(n,e){const t=e.split(".");return()=>{let i=n;for(let s=0;s<t.length&&i;s++)i=i[t[s]];return i}}function Os(n,e=1/0,t){if(e<=0||!Ze(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,wt(n))Os(n.value,e,t);else if(oe(n))for(let i=0;i<n.length;i++)Os(n[i],e,t);else if(Ys(n)||Pr(n))n.forEach(i=>{Os(i,e,t)});else if(x0(n))for(const i in n)Os(n[i],e,t);return n}function vn(n,e){if(Et===null)return n;const t=$c(Et)||Et.proxy,i=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Ue]=e[s];r&&(ge(r)&&(r={mounted:r,updated:r}),r.deep&&Os(o),i.push({dir:r,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Xn(n,e,t,i){const s=n.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(fs(),bn(l,t,8,[n.el,a,n,e]),hs())}}const Yi=Symbol("_leaveCb"),dl=Symbol("_enterCb");function Zf(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return to(()=>{n.isMounted=!0}),Dc(()=>{n.isUnmounting=!0}),n}const Cn=[Function,Array],Jf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cn,onEnter:Cn,onAfterEnter:Cn,onEnterCancelled:Cn,onBeforeLeave:Cn,onLeave:Cn,onAfterLeave:Cn,onLeaveCancelled:Cn,onBeforeAppear:Cn,onAppear:Cn,onAfterAppear:Cn,onAppearCancelled:Cn},J5={name:"BaseTransition",props:Jf,setup(n,{slots:e}){const t=li(),i=Zf();return()=>{const s=e.default&&Mc(e.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){for(const f of s)if(f.type!==Mt){r=f;break}}const o=Me(n),{mode:a}=o;if(i.isLeaving)return fu(r);const l=Em(r);if(!l)return fu(r);const c=Fr(l,o,i,t);Us(l,c);const u=t.subTree,d=u&&Em(u);if(d&&d.type!==Mt&&!Dn(l,d)){const f=Fr(d,o,i,t);if(Us(d,f),a==="out-in"&&l.type!==Mt)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&(t.effect.dirty=!0,t.update())},fu(r);a==="in-out"&&l.type!==Mt&&(f.delayLeave=(h,m,p)=>{const v=pb(i,d);v[String(d.key)]=d,h[Yi]=()=>{m(),h[Yi]=void 0,delete c.delayedLeave},c.delayedLeave=p})}return r}}},mb=J5;function pb(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Fr(n,e,t,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:p,onAppear:v,onAfterAppear:_,onAppearCancelled:E}=e,w=String(n.key),C=pb(t,n),P=(T,L)=>{T&&bn(T,i,9,L)},b=(T,L)=>{const z=L[1];P(T,L),oe(T)?T.every(re=>re.length<=1)&&z():T.length<=1&&z()},M={mode:r,persisted:o,beforeEnter(T){let L=a;if(!t.isMounted)if(s)L=p||a;else return;T[Yi]&&T[Yi](!0);const z=C[w];z&&Dn(n,z)&&z.el[Yi]&&z.el[Yi](),P(L,[T])},enter(T){let L=l,z=c,re=u;if(!t.isMounted)if(s)L=v||l,z=_||c,re=E||u;else return;let W=!1;const de=T[dl]=Le=>{W||(W=!0,Le?P(re,[T]):P(z,[T]),M.delayedLeave&&M.delayedLeave(),T[dl]=void 0)};L?b(L,[T,de]):de()},leave(T,L){const z=String(n.key);if(T[dl]&&T[dl](!0),t.isUnmounting)return L();P(d,[T]);let re=!1;const W=T[Yi]=de=>{re||(re=!0,L(),de?P(m,[T]):P(h,[T]),T[Yi]=void 0,C[z]===n&&delete C[z])};C[z]=n,f?b(f,[T,W]):W()},clone(T){return Fr(T,e,t,i)}};return M}function fu(n){if(ja(n))return n=ri(n),n.children=null,n}function Em(n){if(!ja(n))return n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&ge(t.default))return t.default()}}function Us(n,e){n.shapeFlag&6&&n.component?Us(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Mc(n,e=!1,t){let i=[],s=0;for(let r=0;r<n.length;r++){let o=n[r];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:r);o.type===ye?(o.patchFlag&128&&s++,i=i.concat(Mc(o.children,e,a))):(e||o.type!==Mt)&&i.push(a!=null?ri(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Ct(n,e){return ge(n)?it({name:n.name},e,{setup:n}):n}const Ls=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Y5(n){ge(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:s=200,timeout:r,suspensible:o=!0,onError:a}=n;let l=null,c,u=0;const d=()=>(u++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((p,v)=>{a(m,()=>p(d()),()=>v(m),u+1)});throw m}).then(m=>h!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Ct({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const h=St;if(c)return()=>hu(c,h);const m=E=>{l=null,Qs(E,h,13,!i)};if(o&&h.suspense||Ua)return f().then(E=>()=>hu(E,h)).catch(E=>(m(E),()=>i?I(i,{error:E}):null));const p=se(!1),v=se(),_=se(!!s);return s&&setTimeout(()=>{_.value=!1},s),r!=null&&setTimeout(()=>{if(!p.value&&!v.value){const E=new Error(`Async component timed out after ${r}ms.`);m(E),v.value=E}},r),f().then(()=>{p.value=!0,h.parent&&ja(h.parent.vnode)&&(h.parent.effect.dirty=!0,Oc(h.parent.update))}).catch(E=>{m(E),v.value=E}),()=>{if(p.value&&c)return hu(c,h);if(v.value&&i)return I(i,{error:v.value});if(t&&!_.value)return I(t)}}})}function hu(n,e){const{ref:t,props:i,children:s,ce:r}=e.vnode,o=I(n,i,s);return o.ref=t,o.ce=r,delete e.vnode.ce,o}const ja=n=>n.type.__isKeepAlive,X5={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=li(),i=t.ctx;if(!i.renderer)return()=>{const E=e.default&&e.default();return E&&E.length===1?E[0]:E};const s=new Map,r=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=i,f=d("div");i.activate=(E,w,C,P,b)=>{const M=E.component;c(E,w,C,0,a),l(M.vnode,E,w,C,M,a,P,E.slotScopeIds,b),Rt(()=>{M.isDeactivated=!1,M.a&&xr(M.a);const T=E.props&&E.props.onVnodeMounted;T&&Zt(T,M.parent,E)},a)},i.deactivate=E=>{const w=E.component;c(E,f,null,1,a),Rt(()=>{w.da&&xr(w.da);const C=E.props&&E.props.onVnodeUnmounted;C&&Zt(C,w.parent,E),w.isDeactivated=!0},a)};function h(E){mu(E),u(E,t,a,!0)}function m(E){s.forEach((w,C)=>{const P=Cd(w.type);P&&(!E||!E(P))&&p(C)})}function p(E){const w=s.get(E);!o||!Dn(w,o)?h(w):o&&mu(o),s.delete(E),r.delete(E)}ss(()=>[n.include,n.exclude],([E,w])=>{E&&m(C=>So(E,C)),w&&m(C=>!So(w,C))},{flush:"post",deep:!0});let v=null;const _=()=>{v!=null&&s.set(v,pu(t.subTree))};return to(_),Bc(_),Dc(()=>{s.forEach(E=>{const{subTree:w,suspense:C}=t,P=pu(w);if(E.type===P.type&&E.key===P.key){mu(P);const b=P.component.da;b&&Rt(b,C);return}h(E)})}),()=>{if(v=null,!e.default)return null;const E=e.default(),w=E[0];if(E.length>1)return o=null,E;if(!cs(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let C=pu(w);const P=C.type,b=Cd(Ls(C)?C.type.__asyncResolved||{}:P),{include:M,exclude:T,max:L}=n;if(M&&(!b||!So(M,b))||T&&b&&So(T,b))return o=C,w;const z=C.key==null?P:C.key,re=s.get(z);return C.el&&(C=ri(C),w.shapeFlag&128&&(w.ssContent=C)),v=z,re?(C.el=re.el,C.component=re.component,C.transition&&Us(C,C.transition),C.shapeFlag|=512,r.delete(z),r.add(z)):(r.add(z),L&&r.size>parseInt(L,10)&&p(r.values().next().value)),C.shapeFlag|=256,o=C,ab(w.type)?w:C}}},Q5=X5;function So(n,e){return oe(n)?n.some(t=>So(t,e)):lt(n)?n.split(",").includes(e):B2(n)?n.test(e):!1}function gb(n,e){vb(n,"a",e)}function bb(n,e){vb(n,"da",e)}function vb(n,e,t=St){const i=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Lc(e,i,t),t){let s=t.parent;for(;s&&s.parent;)ja(s.parent.vnode)&&eC(i,e,t,s),s=s.parent}}function eC(n,e,t,i){const s=Lc(e,n,i,!0);Vc(()=>{Af(i[e],s)},t)}function mu(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function pu(n){return n.shapeFlag&128?n.ssContent:n}function Lc(n,e,t=St,i=!1){if(t){const s=t[n]||(t[n]=[]),r=e.__weh||(e.__weh=(...o)=>{if(t.isUnmounted)return;fs();const a=Ks(t),l=bn(e,t,n,o);return a(),hs(),l});return i?s.unshift(r):s.push(r),r}}const Mi=n=>(e,t=St)=>(!Ua||n==="sp")&&Lc(n,(...i)=>e(...i),t),yb=Mi("bm"),to=Mi("m"),wb=Mi("bu"),Bc=Mi("u"),Dc=Mi("bum"),Vc=Mi("um"),_b=Mi("sp"),Cb=Mi("rtg"),kb=Mi("rtc");function Eb(n,e=St){Lc("ec",n,e)}function Ft(n,e,t,i){let s;const r=t&&t[i];if(oe(n)||lt(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=e(n[o],o,void 0,r&&r[o])}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(Ze(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(n[c],c,a,r&&r[a])}}else s=[];return t&&(t[i]=s),s}function Io(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(oe(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return n}function Ie(n,e,t={},i,s){if(Et.isCE||Et.parent&&Ls(Et.parent)&&Et.parent.isCE)return e!=="default"&&(t.name=e),I("slot",t,i&&i());let r=n[e];r&&r._c&&(r._d=!1),S();const o=r&&Tb(r(t)),a=fe(ye,{key:t.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Tb(n){return n.some(e=>cs(e)?!(e.type===Mt||e.type===ye&&!Tb(e.children)):!0)?n:null}function tC(n,e){const t={};for(const i in n)t[e&&/[A-Z]/.test(i)?`on:${i}`:Oo(i)]=n[i];return t}const dd=n=>n?Jb(n)?$c(n)||n.proxy:dd(n.parent):null,Ro=it(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>dd(n.parent),$root:n=>dd(n.root),$emit:n=>n.emit,$options:n=>Yf(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,Oc(n.update)}),$nextTick:n=>n.n||(n.n=er.bind(n.proxy)),$watch:n=>Z5.bind(n)}),gu=(n,e)=>n!==Ue&&!n.__isScriptSetup&&$e(n,e),fd={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return s[e];case 4:return t[e];case 3:return r[e]}else{if(gu(i,e))return o[e]=1,i[e];if(s!==Ue&&$e(s,e))return o[e]=2,s[e];if((c=n.propsOptions[0])&&$e(c,e))return o[e]=3,r[e];if(t!==Ue&&$e(t,e))return o[e]=4,t[e];hd&&(o[e]=0)}}const u=Ro[e];let d,f;if(u)return e==="$attrs"&&nn(n.attrs,"get",""),u(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Ue&&$e(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,$e(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:s,ctx:r}=n;return gu(s,e)?(s[e]=t,!0):i!==Ue&&$e(i,e)?(i[e]=t,!0):$e(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(r[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!t[o]||n!==Ue&&$e(n,o)||gu(e,o)||(a=r[0])&&$e(a,o)||$e(i,o)||$e(Ro,o)||$e(s.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:$e(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},nC=it({},fd,{get(n,e){if(e!==Symbol.unscopables)return fd.get(n,e,n)},has(n,e){return e[0]!=="_"&&!N2(e)}});function iC(){return null}function sC(){return null}function rC(n){}function oC(n){}function aC(){return null}function lC(){}function cC(n,e){return null}function uC(){return Sb().slots}function dC(){return Sb().attrs}function Sb(){const n=li();return n.setupContext||(n.setupContext=Qb(n))}function ta(n){return oe(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function fC(n,e){const t=ta(n);for(const i in e){if(i.startsWith("__skip"))continue;let s=t[i];s?oe(s)||ge(s)?s=t[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=t[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return t}function hC(n,e){return!n||!e?n||e:oe(n)&&oe(e)?n.concat(e):it({},ta(n),ta(e))}function mC(n,e){const t={};for(const i in n)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>n[i]});return t}function ht(n){const e=li();let t=n();return yd(),xf(t)&&(t=t.catch(i=>{throw Ks(e),i})),[t,()=>Ks(e)]}let hd=!0;function pC(n){const e=Yf(n),t=n.proxy,i=n.ctx;hd=!1,e.beforeCreate&&Tm(e.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:p,deactivated:v,beforeDestroy:_,beforeUnmount:E,destroyed:w,unmounted:C,render:P,renderTracked:b,renderTriggered:M,errorCaptured:T,serverPrefetch:L,expose:z,inheritAttrs:re,components:W,directives:de,filters:Le}=e;if(c&&gC(c,i,null),o)for(const be in o){const le=o[be];ge(le)&&(i[be]=le.bind(t))}if(s){const be=s.call(t,t);Ze(be)&&(n.data=Xs(be))}if(hd=!0,r)for(const be in r){const le=r[be],on=ge(le)?le.bind(t,t):ge(le.get)?le.get.bind(t,t):Jt,Zn=!ge(le)&&ge(le.set)?le.set.bind(t):Jt,an=Ne({get:on,set:Zn});Object.defineProperty(i,be,{enumerable:!0,configurable:!0,get:()=>an.value,set:Bt=>an.value=Bt})}if(a)for(const be in a)Pb(a[be],i,t,be);if(l){const be=ge(l)?l.call(t):l;Reflect.ownKeys(be).forEach(le=>{rs(le,be[le])})}u&&Tm(u,n,"c");function J(be,le){oe(le)?le.forEach(on=>be(on.bind(t))):le&&be(le.bind(t))}if(J(yb,d),J(to,f),J(wb,h),J(Bc,m),J(gb,p),J(bb,v),J(Eb,T),J(kb,b),J(Cb,M),J(Dc,E),J(Vc,C),J(_b,L),oe(z))if(z.length){const be=n.exposed||(n.exposed={});z.forEach(le=>{Object.defineProperty(be,le,{get:()=>t[le],set:on=>t[le]=on})})}else n.exposed||(n.exposed={});P&&n.render===Jt&&(n.render=P),re!=null&&(n.inheritAttrs=re),W&&(n.components=W),de&&(n.directives=de)}function gC(n,e,t=Jt){oe(n)&&(n=md(n));for(const i in n){const s=n[i];let r;Ze(s)?"default"in s?r=at(s.from||i,s.default,!0):r=at(s.from||i):r=at(s),wt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Tm(n,e,t){bn(oe(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Pb(n,e,t,i){const s=i.includes(".")?hb(t,i):()=>t[i];if(lt(n)){const r=e[n];ge(r)&&ss(s,r)}else if(ge(n))ss(s,n.bind(t));else if(Ze(n))if(oe(n))n.forEach(r=>Pb(r,e,t,i));else{const r=ge(n.handler)?n.handler.bind(t):e[n.handler];ge(r)&&ss(s,r,n)}}function Yf(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!t&&!i?l=e:(l={},s.length&&s.forEach(c=>Yl(l,c,o,!0)),Yl(l,e,o)),Ze(e)&&r.set(e,l),l}function Yl(n,e,t,i=!1){const{mixins:s,extends:r}=e;r&&Yl(n,r,t,!0),s&&s.forEach(o=>Yl(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=bC[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const bC={data:Sm,props:Pm,emits:Pm,methods:Po,computed:Po,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:Po,directives:Po,watch:yC,provide:Sm,inject:vC};function Sm(n,e){return e?n?function(){return it(ge(n)?n.call(this,this):n,ge(e)?e.call(this,this):e)}:e:n}function vC(n,e){return Po(md(n),md(e))}function md(n){if(oe(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Ut(n,e){return n?[...new Set([].concat(n,e))]:e}function Po(n,e){return n?it(Object.create(null),n,e):e}function Pm(n,e){return n?oe(n)&&oe(e)?[...new Set([...n,...e])]:it(Object.create(null),ta(n),ta(e??{})):e}function yC(n,e){if(!n)return e;if(!e)return n;const t=it(Object.create(null),n);for(const i in e)t[i]=Ut(n[i],e[i]);return t}function Ab(){return{app:null,config:{isNativeTag:M2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wC=0;function _C(n,e){return function(i,s=null){ge(i)||(i=it({},i)),s!=null&&!Ze(s)&&(s=null);const r=Ab(),o=new WeakSet;let a=!1;const l=r.app={_uid:wC++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:tv,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ge(c.install)?(o.add(c),c.install(l,...u)):ge(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,d){if(!a){const f=I(i,s);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):n(f,c,d),a=!0,l._container=c,c.__vue_app__=l,$c(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=Mr;Mr=l;try{return c()}finally{Mr=u}}};return l}}let Mr=null;function rs(n,e){if(St){let t=St.provides;const i=St.parent&&St.parent.provides;i===t&&(t=St.provides=Object.create(i)),t[n]=e}}function at(n,e,t=!1){const i=St||Et;if(i||Mr){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Mr._context.provides;if(s&&n in s)return s[n];if(arguments.length>1)return t&&ge(e)?e.call(i&&i.proxy):e}}function xb(){return!!(St||Et||Mr)}const Ob={},Ib=()=>Object.create(Ob),Rb=n=>Object.getPrototypeOf(n)===Ob;function CC(n,e,t,i=!1){const s={},r=Ib();n.propsDefaults=Object.create(null),Mb(n,e,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);t?n.props=i?s:$f(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function kC(n,e,t,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=Me(s),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Ic(n.emitsOptions,f))continue;const h=e[f];if(l)if($e(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const m=qt(f);s[m]=pd(l,a,m,h,n,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{Mb(n,e,s,r)&&(c=!0);let u;for(const d in a)(!e||!$e(e,d)&&((u=fn(d))===d||!$e(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(s[d]=pd(l,a,d,void 0,n,!0)):delete s[d]);if(r!==a)for(const d in r)(!e||!$e(e,d))&&(delete r[d],c=!0)}c&&Ci(n.attrs,"set","")}function Mb(n,e,t,i){const[s,r]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ar(l))continue;const c=e[l];let u;s&&$e(s,u=qt(l))?!r||!r.includes(u)?t[u]=c:(a||(a={}))[u]=c:Ic(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=Me(t),c=a||Ue;for(let u=0;u<r.length;u++){const d=r[u];t[d]=pd(s,l,d,c[d],n,!$e(c,d))}}return o}function pd(n,e,t,i,s,r){const o=n[t];if(o!=null){const a=$e(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ge(l)){const{propsDefaults:c}=s;if(t in c)i=c[t];else{const u=Ks(s);i=c[t]=l.call(null,e),u()}}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===fn(t))&&(i=!0))}return i}function Lb(n,e,t=!1){const i=e.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!ge(n)){const u=d=>{l=!0;const[f,h]=Lb(d,e,!0);it(o,f),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return Ze(n)&&i.set(n,Sr),Sr;if(oe(r))for(let u=0;u<r.length;u++){const d=qt(r[u]);Am(d)&&(o[d]=Ue)}else if(r)for(const u in r){const d=qt(u);if(Am(d)){const f=r[u],h=o[d]=oe(f)||ge(f)?{type:f}:it({},f);if(h){const m=Im(Boolean,h.type),p=Im(String,h.type);h[0]=m>-1,h[1]=p<0||m<p,(m>-1||$e(h,"default"))&&a.push(d)}}}const c=[o,a];return Ze(n)&&i.set(n,c),c}function Am(n){return n[0]!=="$"&&!Ar(n)}function xm(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function Om(n,e){return xm(n)===xm(e)}function Im(n,e){return oe(e)?e.findIndex(t=>Om(t,n)):ge(e)&&Om(e,n)?0:-1}const Bb=n=>n[0]==="_"||n==="$stable",Xf=n=>oe(n)?n.map(un):[un(n)],EC=(n,e,t)=>{if(e._n)return e;const i=ie((...s)=>Xf(e(...s)),t);return i._c=!1,i},Db=(n,e,t)=>{const i=n._ctx;for(const s in n){if(Bb(s))continue;const r=n[s];if(ge(r))e[s]=EC(s,r,i);else if(r!=null){const o=Xf(r);e[s]=()=>o}}},Vb=(n,e)=>{const t=Xf(e);n.slots.default=()=>t},TC=(n,e)=>{const t=n.slots=Ib();if(n.vnode.shapeFlag&32){const i=e._;i?(it(t,e),O0(t,"_",i,!0)):Db(e,t)}else e&&Vb(n,e)},SC=(n,e,t)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ue;if(i.shapeFlag&32){const a=e._;a?t&&a===1?r=!1:(it(s,e),!t&&a===1&&delete s._):(r=!e.$stable,Db(e,s)),o=e}else e&&(Vb(n,e),o={default:1});if(r)for(const a in s)!Bb(a)&&o[a]==null&&delete s[a]};function Xl(n,e,t,i,s=!1){if(oe(n)){n.forEach((f,h)=>Xl(f,e&&(oe(e)?e[h]:e),t,i,s));return}if(Ls(i)&&!s)return;const r=i.shapeFlag&4?$c(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Ue?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(lt(c)?(u[c]=null,$e(d,c)&&(d[c]=null)):wt(c)&&(c.value=null)),ge(l))ki(l,a,12,[o,u]);else{const f=lt(l),h=wt(l);if(f||h){const m=()=>{if(n.f){const p=f?$e(d,l)?d[l]:u[l]:l.value;s?oe(p)&&Af(p,r):oe(p)?p.includes(r)||p.push(r):f?(u[l]=[r],$e(d,l)&&(d[l]=u[l])):(l.value=[r],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,$e(d,l)&&(d[l]=o)):h&&(l.value=o,n.k&&(u[n.k]=o))};o?(m.id=-1,Rt(m,t)):m()}}}let ji=!1;const PC=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",AC=n=>n.namespaceURI.includes("MathML"),fl=n=>{if(PC(n))return"svg";if(AC(n))return"mathml"},hl=n=>n.nodeType===8;function xC(n){const{mt:e,p:t,o:{patchProp:i,createText:s,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(w,C)=>{if(!C.hasChildNodes()){t(null,w,C),Jl(),C._vnode=w;return}ji=!1,d(C.firstChild,w,null,null,null),Jl(),C._vnode=w,ji&&console.error("Hydration completed but contains mismatches.")},d=(w,C,P,b,M,T=!1)=>{T=T||!!C.dynamicChildren;const L=hl(w)&&w.data==="[",z=()=>p(w,C,P,b,M,L),{type:re,ref:W,shapeFlag:de,patchFlag:Le}=C;let xe=w.nodeType;C.el=w,Le===-2&&(T=!1,C.dynamicChildren=null);let J=null;switch(re){case zs:xe!==3?C.children===""?(l(C.el=s(""),o(w),w),J=w):J=z():(w.data!==C.children&&(ji=!0,w.data=C.children),J=r(w));break;case Mt:E(w)?(J=r(w),_(C.el=w.content.firstChild,w,P)):xe!==8||L?J=z():J=r(w);break;case Bs:if(L&&(w=r(w),xe=w.nodeType),xe===1||xe===3){J=w;const be=!C.children.length;for(let le=0;le<C.staticCount;le++)be&&(C.children+=J.nodeType===1?J.outerHTML:J.data),le===C.staticCount-1&&(C.anchor=J),J=r(J);return L?r(J):J}else z();break;case ye:L?J=m(w,C,P,b,M,T):J=z();break;default:if(de&1)(xe!==1||C.type.toLowerCase()!==w.tagName.toLowerCase())&&!E(w)?J=z():J=f(w,C,P,b,M,T);else if(de&6){C.slotScopeIds=M;const be=o(w);if(L?J=v(w):hl(w)&&w.data==="teleport start"?J=v(w,w.data,"teleport end"):J=r(w),e(C,be,null,P,b,fl(be),T),Ls(C)){let le;L?(le=I(ye),le.anchor=J?J.previousSibling:be.lastChild):le=w.nodeType===3?Lt(""):I("div"),le.el=w,C.component.subTree=le}}else de&64?xe!==8?J=z():J=C.type.hydrate(w,C,P,b,M,T,n,h):de&128&&(J=C.type.hydrate(w,C,P,b,fl(o(w)),M,T,n,d))}return W!=null&&Xl(W,null,b,C),J},f=(w,C,P,b,M,T)=>{T=T||!!C.dynamicChildren;const{type:L,props:z,patchFlag:re,shapeFlag:W,dirs:de,transition:Le}=C,xe=L==="input"||L==="option";if(xe||re!==-1){de&&Xn(C,null,P,"created");let J=!1;if(E(w)){J=Hb(b,Le)&&P&&P.vnode.props&&P.vnode.props.appear;const le=w.content.firstChild;J&&Le.beforeEnter(le),_(le,w,P),C.el=w=le}if(W&16&&!(z&&(z.innerHTML||z.textContent))){let le=h(w.firstChild,C,w,P,b,M,T);for(;le;){ji=!0;const on=le;le=le.nextSibling,a(on)}}else W&8&&w.textContent!==C.children&&(ji=!0,w.textContent=C.children);if(z)if(xe||!T||re&48)for(const le in z)(xe&&(le.endsWith("value")||le==="indeterminate")||Da(le)&&!Ar(le)||le[0]===".")&&i(w,le,null,z[le],void 0,void 0,P);else z.onClick&&i(w,"onClick",null,z.onClick,void 0,void 0,P);let be;(be=z&&z.onVnodeBeforeMount)&&Zt(be,P,C),de&&Xn(C,null,P,"beforeMount"),((be=z&&z.onVnodeMounted)||de||J)&&lb(()=>{be&&Zt(be,P,C),J&&Le.enter(w),de&&Xn(C,null,P,"mounted")},b)}return w.nextSibling},h=(w,C,P,b,M,T,L)=>{L=L||!!C.dynamicChildren;const z=C.children,re=z.length;for(let W=0;W<re;W++){const de=L?z[W]:z[W]=un(z[W]);if(w)w=d(w,de,b,M,T,L);else{if(de.type===zs&&!de.children)continue;ji=!0,t(null,de,P,null,b,M,fl(P),T)}}return w},m=(w,C,P,b,M,T)=>{const{slotScopeIds:L}=C;L&&(M=M?M.concat(L):L);const z=o(w),re=h(r(w),C,z,P,b,M,T);return re&&hl(re)&&re.data==="]"?r(C.anchor=re):(ji=!0,l(C.anchor=c("]"),z,re),re)},p=(w,C,P,b,M,T)=>{if(ji=!0,C.el=null,T){const re=v(w);for(;;){const W=r(w);if(W&&W!==re)a(W);else break}}const L=r(w),z=o(w);return a(w),t(null,C,z,L,P,b,fl(z),M),L},v=(w,C="[",P="]")=>{let b=0;for(;w;)if(w=r(w),w&&hl(w)&&(w.data===C&&b++,w.data===P)){if(b===0)return r(w);b--}return w},_=(w,C,P)=>{const b=C.parentNode;b&&b.replaceChild(w,C);let M=P;for(;M;)M.vnode.el===C&&(M.vnode.el=M.subTree.el=w),M=M.parent},E=w=>w.nodeType===1&&w.tagName.toLowerCase()==="template";return[u,d]}const Rt=lb;function $b(n){return Nb(n)}function Fb(n){return Nb(n,xC)}function Nb(n,e){const t=I0();t.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Jt,insertStaticContent:m}=n,p=(g,y,O,H=null,F=null,q=null,X=void 0,K=null,Z=!!y.dynamicChildren)=>{if(g===y)return;g&&!Dn(g,y)&&(H=V(g),Bt(g,F,q,!0),g=null),y.patchFlag===-2&&(Z=!1,y.dynamicChildren=null);const{type:j,ref:ee,shapeFlag:ue}=y;switch(j){case zs:v(g,y,O,H);break;case Mt:_(g,y,O,H);break;case Bs:g==null&&E(y,O,H,X);break;case ye:W(g,y,O,H,F,q,X,K,Z);break;default:ue&1?P(g,y,O,H,F,q,X,K,Z):ue&6?de(g,y,O,H,F,q,X,K,Z):(ue&64||ue&128)&&j.process(g,y,O,H,F,q,X,K,Z,ne)}ee!=null&&F&&Xl(ee,g&&g.ref,q,y||g,!y)},v=(g,y,O,H)=>{if(g==null)i(y.el=a(y.children),O,H);else{const F=y.el=g.el;y.children!==g.children&&c(F,y.children)}},_=(g,y,O,H)=>{g==null?i(y.el=l(y.children||""),O,H):y.el=g.el},E=(g,y,O,H)=>{[g.el,g.anchor]=m(g.children,y,O,H,g.el,g.anchor)},w=({el:g,anchor:y},O,H)=>{let F;for(;g&&g!==y;)F=f(g),i(g,O,H),g=F;i(y,O,H)},C=({el:g,anchor:y})=>{let O;for(;g&&g!==y;)O=f(g),s(g),g=O;s(y)},P=(g,y,O,H,F,q,X,K,Z)=>{y.type==="svg"?X="svg":y.type==="math"&&(X="mathml"),g==null?b(y,O,H,F,q,X,K,Z):L(g,y,F,q,X,K,Z)},b=(g,y,O,H,F,q,X,K)=>{let Z,j;const{props:ee,shapeFlag:ue,transition:he,dirs:we}=g;if(Z=g.el=o(g.type,q,ee&&ee.is,ee),ue&8?u(Z,g.children):ue&16&&T(g.children,Z,null,H,F,bu(g,q),X,K),we&&Xn(g,null,H,"created"),M(Z,g,g.scopeId,X,H),ee){for(const We in ee)We!=="value"&&!Ar(We)&&r(Z,We,null,ee[We],q,g.children,H,F,ze);"value"in ee&&r(Z,"value",null,ee.value,q),(j=ee.onVnodeBeforeMount)&&Zt(j,H,g)}we&&Xn(g,null,H,"beforeMount");const Oe=Hb(F,he);Oe&&he.beforeEnter(Z),i(Z,y,O),((j=ee&&ee.onVnodeMounted)||Oe||we)&&Rt(()=>{j&&Zt(j,H,g),Oe&&he.enter(Z),we&&Xn(g,null,H,"mounted")},F)},M=(g,y,O,H,F)=>{if(O&&h(g,O),H)for(let q=0;q<H.length;q++)h(g,H[q]);if(F){let q=F.subTree;if(y===q){const X=F.vnode;M(g,X,X.scopeId,X.slotScopeIds,F.parent)}}},T=(g,y,O,H,F,q,X,K,Z=0)=>{for(let j=Z;j<g.length;j++){const ee=g[j]=K?Xi(g[j]):un(g[j]);p(null,ee,y,O,H,F,q,X,K)}},L=(g,y,O,H,F,q,X)=>{const K=y.el=g.el;let{patchFlag:Z,dynamicChildren:j,dirs:ee}=y;Z|=g.patchFlag&16;const ue=g.props||Ue,he=y.props||Ue;let we;if(O&&ys(O,!1),(we=he.onVnodeBeforeUpdate)&&Zt(we,O,y,g),ee&&Xn(y,g,O,"beforeUpdate"),O&&ys(O,!0),j?z(g.dynamicChildren,j,K,O,H,bu(y,F),q):X||le(g,y,K,null,O,H,bu(y,F),q,!1),Z>0){if(Z&16)re(K,y,ue,he,O,H,F);else if(Z&2&&ue.class!==he.class&&r(K,"class",null,he.class,F),Z&4&&r(K,"style",ue.style,he.style,F),Z&8){const Oe=y.dynamicProps;for(let We=0;We<Oe.length;We++){const st=Oe[We],At=ue[st],Rn=he[st];(Rn!==At||st==="value")&&r(K,st,At,Rn,F,g.children,O,H,ze)}}Z&1&&g.children!==y.children&&u(K,y.children)}else!X&&j==null&&re(K,y,ue,he,O,H,F);((we=he.onVnodeUpdated)||ee)&&Rt(()=>{we&&Zt(we,O,y,g),ee&&Xn(y,g,O,"updated")},H)},z=(g,y,O,H,F,q,X)=>{for(let K=0;K<y.length;K++){const Z=g[K],j=y[K],ee=Z.el&&(Z.type===ye||!Dn(Z,j)||Z.shapeFlag&70)?d(Z.el):O;p(Z,j,ee,null,H,F,q,X,!0)}},re=(g,y,O,H,F,q,X)=>{if(O!==H){if(O!==Ue)for(const K in O)!Ar(K)&&!(K in H)&&r(g,K,O[K],null,X,y.children,F,q,ze);for(const K in H){if(Ar(K))continue;const Z=H[K],j=O[K];Z!==j&&K!=="value"&&r(g,K,j,Z,X,y.children,F,q,ze)}"value"in H&&r(g,"value",O.value,H.value,X)}},W=(g,y,O,H,F,q,X,K,Z)=>{const j=y.el=g?g.el:a(""),ee=y.anchor=g?g.anchor:a("");let{patchFlag:ue,dynamicChildren:he,slotScopeIds:we}=y;we&&(K=K?K.concat(we):we),g==null?(i(j,O,H),i(ee,O,H),T(y.children||[],O,ee,F,q,X,K,Z)):ue>0&&ue&64&&he&&g.dynamicChildren?(z(g.dynamicChildren,he,O,F,q,X,K),(y.key!=null||F&&y===F.subTree)&&Qf(g,y,!0)):le(g,y,O,ee,F,q,X,K,Z)},de=(g,y,O,H,F,q,X,K,Z)=>{y.slotScopeIds=K,g==null?y.shapeFlag&512?F.ctx.activate(y,O,H,X,Z):Le(y,O,H,F,q,X,Z):xe(g,y,Z)},Le=(g,y,O,H,F,q,X)=>{const K=g.component=Zb(g,H,F);if(ja(g)&&(K.ctx.renderer=ne),Yb(K),K.asyncDep){if(F&&F.registerDep(K,J),!g.el){const Z=K.subTree=I(Mt);_(null,Z,y,O)}}else J(K,g,y,O,F,q,X)},xe=(g,y,O)=>{const H=y.component=g.component;if(N5(g,y,O))if(H.asyncDep&&!H.asyncResolved){be(H,y,O);return}else H.next=y,M5(H.update),H.effect.dirty=!0,H.update();else y.el=g.el,H.vnode=y},J=(g,y,O,H,F,q,X)=>{const K=()=>{if(g.isMounted){let{next:ee,bu:ue,u:he,parent:we,vnode:Oe}=g;{const cr=jb(g);if(cr){ee&&(ee.el=Oe.el,be(g,ee,X)),cr.asyncDep.then(()=>{g.isUnmounted||K()});return}}let We=ee,st;ys(g,!1),ee?(ee.el=Oe.el,be(g,ee,X)):ee=Oe,ue&&xr(ue),(st=ee.props&&ee.props.onVnodeBeforeUpdate)&&Zt(st,we,ee,Oe),ys(g,!0);const At=Ll(g),Rn=g.subTree;g.subTree=At,p(Rn,At,d(Rn.el),V(Rn),g,F,q),ee.el=At.el,We===null&&zf(g,At.el),he&&Rt(he,F),(st=ee.props&&ee.props.onVnodeUpdated)&&Rt(()=>Zt(st,we,ee,Oe),F)}else{let ee;const{el:ue,props:he}=y,{bm:we,m:Oe,parent:We}=g,st=Ls(y);if(ys(g,!1),we&&xr(we),!st&&(ee=he&&he.onVnodeBeforeMount)&&Zt(ee,We,y),ys(g,!0),ue&&He){const At=()=>{g.subTree=Ll(g),He(ue,g.subTree,g,F,null)};st?y.type.__asyncLoader().then(()=>!g.isUnmounted&&At()):At()}else{const At=g.subTree=Ll(g);p(null,At,O,H,g,F,q),y.el=At.el}if(Oe&&Rt(Oe,F),!st&&(ee=he&&he.onVnodeMounted)){const At=y;Rt(()=>Zt(ee,We,At),F)}(y.shapeFlag&256||We&&Ls(We.vnode)&&We.vnode.shapeFlag&256)&&g.a&&Rt(g.a,F),g.isMounted=!0,y=O=H=null}},Z=g.effect=new Vr(K,Jt,()=>Oc(j),g.scope),j=g.update=()=>{Z.dirty&&Z.run()};j.id=g.uid,ys(g,!0),j()},be=(g,y,O)=>{y.component=g;const H=g.vnode.props;g.vnode=y,g.next=null,kC(g,y.props,H,O),SC(g,y.children,O),fs(),wm(g),hs()},le=(g,y,O,H,F,q,X,K,Z=!1)=>{const j=g&&g.children,ee=g?g.shapeFlag:0,ue=y.children,{patchFlag:he,shapeFlag:we}=y;if(he>0){if(he&128){Zn(j,ue,O,H,F,q,X,K,Z);return}else if(he&256){on(j,ue,O,H,F,q,X,K,Z);return}}we&8?(ee&16&&ze(j,F,q),ue!==j&&u(O,ue)):ee&16?we&16?Zn(j,ue,O,H,F,q,X,K,Z):ze(j,F,q,!0):(ee&8&&u(O,""),we&16&&T(ue,O,H,F,q,X,K,Z))},on=(g,y,O,H,F,q,X,K,Z)=>{g=g||Sr,y=y||Sr;const j=g.length,ee=y.length,ue=Math.min(j,ee);let he;for(he=0;he<ue;he++){const we=y[he]=Z?Xi(y[he]):un(y[he]);p(g[he],we,O,null,F,q,X,K,Z)}j>ee?ze(g,F,q,!0,!1,ue):T(y,O,H,F,q,X,K,Z,ue)},Zn=(g,y,O,H,F,q,X,K,Z)=>{let j=0;const ee=y.length;let ue=g.length-1,he=ee-1;for(;j<=ue&&j<=he;){const we=g[j],Oe=y[j]=Z?Xi(y[j]):un(y[j]);if(Dn(we,Oe))p(we,Oe,O,null,F,q,X,K,Z);else break;j++}for(;j<=ue&&j<=he;){const we=g[ue],Oe=y[he]=Z?Xi(y[he]):un(y[he]);if(Dn(we,Oe))p(we,Oe,O,null,F,q,X,K,Z);else break;ue--,he--}if(j>ue){if(j<=he){const we=he+1,Oe=we<ee?y[we].el:H;for(;j<=he;)p(null,y[j]=Z?Xi(y[j]):un(y[j]),O,Oe,F,q,X,K,Z),j++}}else if(j>he)for(;j<=ue;)Bt(g[j],F,q,!0),j++;else{const we=j,Oe=j,We=new Map;for(j=Oe;j<=he;j++){const ln=y[j]=Z?Xi(y[j]):un(y[j]);ln.key!=null&&We.set(ln.key,j)}let st,At=0;const Rn=he-Oe+1;let cr=!1,lm=0;const uo=new Array(Rn);for(j=0;j<Rn;j++)uo[j]=0;for(j=we;j<=ue;j++){const ln=g[j];if(At>=Rn){Bt(ln,F,q,!0);continue}let Jn;if(ln.key!=null)Jn=We.get(ln.key);else for(st=Oe;st<=he;st++)if(uo[st-Oe]===0&&Dn(ln,y[st])){Jn=st;break}Jn===void 0?Bt(ln,F,q,!0):(uo[Jn-Oe]=j+1,Jn>=lm?lm=Jn:cr=!0,p(ln,y[Jn],O,null,F,q,X,K,Z),At++)}const cm=cr?OC(uo):Sr;for(st=cm.length-1,j=Rn-1;j>=0;j--){const ln=Oe+j,Jn=y[ln],um=ln+1<ee?y[ln+1].el:H;uo[j]===0?p(null,Jn,O,um,F,q,X,K,Z):cr&&(st<0||j!==cm[st]?an(Jn,O,um,2):st--)}}},an=(g,y,O,H,F=null)=>{const{el:q,type:X,transition:K,children:Z,shapeFlag:j}=g;if(j&6){an(g.component.subTree,y,O,H);return}if(j&128){g.suspense.move(y,O,H);return}if(j&64){X.move(g,y,O,ne);return}if(X===ye){i(q,y,O);for(let ue=0;ue<Z.length;ue++)an(Z[ue],y,O,H);i(g.anchor,y,O);return}if(X===Bs){w(g,y,O);return}if(H!==2&&j&1&&K)if(H===0)K.beforeEnter(q),i(q,y,O),Rt(()=>K.enter(q),F);else{const{leave:ue,delayLeave:he,afterLeave:we}=K,Oe=()=>i(q,y,O),We=()=>{ue(q,()=>{Oe(),we&&we()})};he?he(q,Oe,We):We()}else i(q,y,O)},Bt=(g,y,O,H=!1,F=!1)=>{const{type:q,props:X,ref:K,children:Z,dynamicChildren:j,shapeFlag:ee,patchFlag:ue,dirs:he}=g;if(K!=null&&Xl(K,null,O,g,!0),ee&256){y.ctx.deactivate(g);return}const we=ee&1&&he,Oe=!Ls(g);let We;if(Oe&&(We=X&&X.onVnodeBeforeUnmount)&&Zt(We,y,g),ee&6)dt(g.component,O,H);else{if(ee&128){g.suspense.unmount(O,H);return}we&&Xn(g,null,y,"beforeUnmount"),ee&64?g.type.remove(g,y,O,F,ne,H):j&&(q!==ye||ue>0&&ue&64)?ze(j,y,O,!1,!0):(q===ye&&ue&384||!F&&ee&16)&&ze(Z,y,O),H&&G(g)}(Oe&&(We=X&&X.onVnodeUnmounted)||we)&&Rt(()=>{We&&Zt(We,y,g),we&&Xn(g,null,y,"unmounted")},O)},G=g=>{const{type:y,el:O,anchor:H,transition:F}=g;if(y===ye){Ee(O,H);return}if(y===Bs){C(g);return}const q=()=>{s(O),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(g.shapeFlag&1&&F&&!F.persisted){const{leave:X,delayLeave:K}=F,Z=()=>X(O,q);K?K(g.el,q,Z):Z()}else q()},Ee=(g,y)=>{let O;for(;g!==y;)O=f(g),s(g),g=O;s(y)},dt=(g,y,O)=>{const{bum:H,scope:F,update:q,subTree:X,um:K}=g;H&&xr(H),F.stop(),q&&(q.active=!1,Bt(X,g,y,O)),K&&Rt(K,y),Rt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},ze=(g,y,O,H=!1,F=!1,q=0)=>{for(let X=q;X<g.length;X++)Bt(g[X],y,O,H,F)},V=g=>g.shapeFlag&6?V(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el);let te=!1;const Y=(g,y,O)=>{g==null?y._vnode&&Bt(y._vnode,null,null,!0):p(y._vnode||null,g,y,null,null,null,O),te||(te=!0,wm(),Jl(),te=!1),y._vnode=g},ne={p,um:Bt,m:an,r:G,mt:Le,mc:T,pc:le,pbc:z,n:V,o:n};let Se,He;return e&&([Se,He]=e(ne)),{render:Y,hydrate:Se,createApp:_C(Y,Se)}}function bu({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ys({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function Hb(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Qf(n,e,t=!1){const i=n.children,s=e.children;if(oe(i)&&oe(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Xi(s[r]),a.el=o.el),t||Qf(o,a)),a.type===zs&&(a.el=o.el)}}function OC(n){const e=n.slice(),t=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=t[t.length-1],n[s]<c){e[i]=s,t.push(i);continue}for(r=0,o=t.length-1;r<o;)a=r+o>>1,n[t[a]]<c?r=a+1:o=a;c<n[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function jb(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jb(e)}const IC=n=>n.__isTeleport,Mo=n=>n&&(n.disabled||n.disabled===""),Rm=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Mm=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,gd=(n,e)=>{const t=n&&n.to;return lt(t)?e?e(t):null:t},RC={name:"Teleport",__isTeleport:!0,process(n,e,t,i,s,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:p,createComment:v}}=c,_=Mo(e.props);let{shapeFlag:E,children:w,dynamicChildren:C}=e;if(n==null){const P=e.el=p(""),b=e.anchor=p("");h(P,t,i),h(b,t,i);const M=e.target=gd(e.props,m),T=e.targetAnchor=p("");M&&(h(T,M),o==="svg"||Rm(M)?o="svg":(o==="mathml"||Mm(M))&&(o="mathml"));const L=(z,re)=>{E&16&&u(w,z,re,s,r,o,a,l)};_?L(t,b):M&&L(M,T)}else{e.el=n.el;const P=e.anchor=n.anchor,b=e.target=n.target,M=e.targetAnchor=n.targetAnchor,T=Mo(n.props),L=T?t:b,z=T?P:M;if(o==="svg"||Rm(b)?o="svg":(o==="mathml"||Mm(b))&&(o="mathml"),C?(f(n.dynamicChildren,C,L,s,r,o,a),Qf(n,e,!0)):l||d(n,e,L,z,s,r,o,a,!1),_)T?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):ml(e,t,P,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const re=e.target=gd(e.props,m);re&&ml(e,re,null,c,0)}else T&&ml(e,b,M,c,1)}zb(e)},remove(n,e,t,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&r(u),o&&r(c),a&16){const h=o||!Mo(f);for(let m=0;m<l.length;m++){const p=l[m];s(p,e,t,h,!!p.dynamicChildren)}}},move:ml,hydrate:MC};function ml(n,e,t,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,d=r===2;if(d&&i(o,e,t),(!d||Mo(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,t,2);d&&i(a,e,t)}function MC(n,e,t,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=gd(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Mo(e.props))e.anchor=c(o(n),e,a(n),t,i,s,r),e.targetAnchor=d;else{e.anchor=o(n);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,t,i,s,r)}zb(e)}return e.anchor&&o(e.anchor)}const Ub=RC;function zb(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t&&t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const ye=Symbol.for("v-fgt"),zs=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),Lo=[];let Yt=null;function S(n=!1){Lo.push(Yt=n?null:[])}function Wb(){Lo.pop(),Yt=Lo[Lo.length-1]||null}let Ws=1;function bd(n){Ws+=n}function Kb(n){return n.dynamicChildren=Ws>0?Yt||Sr:null,Wb(),Ws>0&&Yt&&Yt.push(n),n}function $(n,e,t,i,s,r){return Kb(R(n,e,t,i,s,r,!0))}function fe(n,e,t,i,s){return Kb(I(n,e,t,i,s,!0))}function cs(n){return n?n.__v_isVNode===!0:!1}function Dn(n,e){return n.type===e.type&&n.key===e.key}function LC(n){}const qb=({key:n})=>n??null,Bl=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?lt(n)||wt(n)||ge(n)?{i:Et,r:n,k:e,f:!!t}:n:null);function R(n,e=null,t=null,i=0,s=null,r=n===ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&qb(e),ref:e&&Bl(e),scopeId:Rc,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Et};return a?(eh(l,t),r&128&&n.normalize(l)):t&&(l.shapeFlag|=lt(t)?8:16),Ws>0&&!o&&Yt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Yt.push(l),l}const I=BC;function BC(n,e=null,t=null,i=0,s=null,r=!1){if((!n||n===ob)&&(n=Mt),cs(n)){const a=ri(n,e,!0);return t&&eh(a,t),Ws>0&&!r&&Yt&&(a.shapeFlag&6?Yt[Yt.indexOf(n)]=a:Yt.push(a)),a.patchFlag|=-2,a}if(UC(n)&&(n=n.__vccOpts),e){e=Gb(e);let{class:a,style:l}=e;a&&!lt(a)&&(e.class=Nt(a)),Ze(l)&&(Ff(l)&&!oe(l)&&(l=it({},l)),e.style=$a(l))}const o=lt(n)?1:ab(n)?128:IC(n)?64:Ze(n)?4:ge(n)?2:0;return R(n,e,t,i,s,o,r,!0)}function Gb(n){return n?Ff(n)||Rb(n)?it({},n):n:null}function ri(n,e,t=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=n,c=e?B(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&qb(c),ref:e&&e.ref?t&&r?oe(r)?r.concat(Bl(e)):[r,Bl(e)]:Bl(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==ye?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ri(n.ssContent),ssFallback:n.ssFallback&&ri(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&(u.transition=l.clone(u)),u}function Lt(n=" ",e=0){return I(zs,null,n,e)}function DC(n,e){const t=I(Bs,null,n);return t.staticCount=e,t}function me(n="",e=!1){return e?(S(),fe(Mt,null,n)):I(Mt,null,n)}function un(n){return n==null||typeof n=="boolean"?I(Mt):oe(n)?I(ye,null,n.slice()):typeof n=="object"?Xi(n):I(zs,null,String(n))}function Xi(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ri(n)}function eh(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(oe(e))t=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),eh(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!Rb(e)?e._ctx=Et:s===3&&Et&&(Et.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:Et},t=32):(e=String(e),i&64?(t=16,e=[Lt(e)]):t=8);n.children=e,n.shapeFlag|=t}function B(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Nt([e.class,i.class]));else if(s==="style")e.style=$a([e.style,i.style]);else if(Da(s)){const r=e[s],o=i[s];o&&r!==o&&!(oe(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function Zt(n,e,t,i=null){bn(n,e,7,[t,i])}const VC=Ab();let $C=0;function Zb(n,e,t){const i=n.type,s=(e?e.appContext:n.appContext)||VC,r={uid:$C++,vnode:n,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Rf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lb(i,s),emitsOptions:rb(i,s),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:i.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=B5.bind(null,r),n.ce&&n.ce(r),r}let St=null;const li=()=>St||Et;let Ql,vd;{const n=I0(),e=(t,i)=>{let s;return(s=n[t])||(s=n[t]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};Ql=e("__VUE_INSTANCE_SETTERS__",t=>St=t),vd=e("__VUE_SSR_SETTERS__",t=>Ua=t)}const Ks=n=>{const e=St;return Ql(n),n.scope.on(),()=>{n.scope.off(),Ql(e)}},yd=()=>{St&&St.scope.off(),Ql(null)};function Jb(n){return n.vnode.shapeFlag&4}let Ua=!1;function Yb(n,e=!1){e&&vd(e);const{props:t,children:i}=n.vnode,s=Jb(n);CC(n,t,s,e),TC(n,i);const r=s?FC(n,e):void 0;return e&&vd(!1),r}function FC(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,fd);const{setup:i}=t;if(i){const s=n.setupContext=i.length>1?Qb(n):null,r=Ks(n);fs();const o=ki(i,n,0,[n.props,s]);if(hs(),r(),xf(o)){if(o.then(yd,yd),e)return o.then(a=>{wd(n,a,e)}).catch(a=>{Qs(a,n,0)});n.asyncDep=o}else wd(n,o,e)}else Xb(n,e)}function wd(n,e,t){ge(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Ze(e)&&(n.setupState=jf(e)),Xb(n,t)}let ec,_d;function NC(n){ec=n,_d=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,nC))}}const HC=()=>!ec;function Xb(n,e,t){const i=n.type;if(!n.render){if(!e&&ec&&!i.render){const s=i.template||Yf(n).template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=it(it({isCustomElement:r,delimiters:a},o),l);i.render=ec(s,c)}}n.render=i.render||Jt,_d&&_d(n)}{const s=Ks(n);fs();try{pC(n)}finally{hs(),s()}}}const jC={get(n,e){return nn(n,"get",""),n[e]}};function Qb(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,jC),slots:n.slots,emit:n.emit,expose:e}}function $c(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(jf(xc(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ro)return Ro[t](n)},has(e,t){return t in e||t in Ro}}))}function Cd(n,e=!0){return ge(n)?n.displayName||n.name:n.name||e&&n.__name}function UC(n){return ge(n)&&"__vccOpts"in n}const Ne=(n,e)=>b5(n,e,Ua);function zC(n,e,t=Ue){const i=li(),s=qt(e),r=fn(e),o=X0((l,c)=>{let u;return fb(()=>{const d=n[e];Hn(u,d)&&(u=d,c())}),{get(){return l(),t.get?t.get(u):u},set(d){const f=i.vnode.props;!(f&&(e in f||s in f||r in f)&&(`onUpdate:${e}`in f||`onUpdate:${s}`in f||`onUpdate:${r}`in f))&&Hn(d,u)&&(u=d,c()),i.emit(`update:${e}`,t.set?t.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?n[a]||{}:o,done:!1}:{done:!0}}}},o}function Fc(n,e,t){const i=arguments.length;return i===2?Ze(e)&&!oe(e)?cs(e)?I(n,null,[e]):I(n,e):I(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&cs(t)&&(t=[t]),I(n,e,t))}function WC(){}function KC(n,e,t,i){const s=t[i];if(s&&ev(s,n))return s;const r=e();return r.memo=n.slice(),t[i]=r}function ev(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(Hn(t[i],e[i]))return!1;return Ws>0&&Yt&&Yt.push(n),!0}const tv="3.4.26",qC=Jt,GC=O5,ZC=vr,JC=sb,YC={createComponentInstance:Zb,setupComponent:Yb,renderComponentRoot:Ll,setCurrentRenderingInstance:Qo,isVNode:cs,normalizeVNode:un},XC=YC,QC=null,ek=null,tk=null;/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nk="http://www.w3.org/2000/svg",ik="http://www.w3.org/1998/Math/MathML",Qi=typeof document<"u"?document:null,Lm=Qi&&Qi.createElement("template"),sk={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const s=e==="svg"?Qi.createElementNS(nk,n):e==="mathml"?Qi.createElementNS(ik,n):Qi.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>Qi.createTextNode(n),createComment:n=>Qi.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Qi.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,s,r){const o=t?t.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===r||!(s=s.nextSibling)););else{Lm.innerHTML=i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n;const a=Lm.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Ui="transition",fo="animation",Nr=Symbol("_vtc"),tr=(n,{slots:e})=>Fc(mb,iv(n),e);tr.displayName="Transition";const nv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},rk=tr.props=it({},Jf,nv),ws=(n,e=[])=>{oe(n)?n.forEach(t=>t(...e)):n&&n(...e)},Bm=n=>n?oe(n)?n.some(e=>e.length>1):n.length>1:!1;function iv(n){const e={};for(const W in n)W in nv||(e[W]=n[W]);if(n.css===!1)return e;const{name:t="v",type:i,duration:s,enterFromClass:r=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,m=ok(s),p=m&&m[0],v=m&&m[1],{onBeforeEnter:_,onEnter:E,onEnterCancelled:w,onLeave:C,onLeaveCancelled:P,onBeforeAppear:b=_,onAppear:M=E,onAppearCancelled:T=w}=e,L=(W,de,Le)=>{qi(W,de?u:a),qi(W,de?c:o),Le&&Le()},z=(W,de)=>{W._isLeaving=!1,qi(W,d),qi(W,h),qi(W,f),de&&de()},re=W=>(de,Le)=>{const xe=W?M:E,J=()=>L(de,W,Le);ws(xe,[de,J]),Dm(()=>{qi(de,W?l:r),mi(de,W?u:a),Bm(xe)||Vm(de,i,p,J)})};return it(e,{onBeforeEnter(W){ws(_,[W]),mi(W,r),mi(W,o)},onBeforeAppear(W){ws(b,[W]),mi(W,l),mi(W,c)},onEnter:re(!1),onAppear:re(!0),onLeave(W,de){W._isLeaving=!0;const Le=()=>z(W,de);mi(W,d),mi(W,f),rv(),Dm(()=>{W._isLeaving&&(qi(W,d),mi(W,h),Bm(C)||Vm(W,i,v,Le))}),ws(C,[W,Le])},onEnterCancelled(W){L(W,!1),ws(w,[W])},onAppearCancelled(W){L(W,!0),ws(T,[W])},onLeaveCancelled(W){z(W),ws(P,[W])}})}function ok(n){if(n==null)return null;if(Ze(n))return[vu(n.enter),vu(n.leave)];{const e=vu(n);return[e,e]}}function vu(n){return ql(n)}function mi(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Nr]||(n[Nr]=new Set)).add(e)}function qi(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[Nr];t&&(t.delete(e),t.size||(n[Nr]=void 0))}function Dm(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let ak=0;function Vm(n,e,t,i){const s=n._endId=++ak,r=()=>{s===n._endId&&i()};if(t)return setTimeout(r,t);const{type:o,timeout:a,propCount:l}=sv(n,e);if(!o)return i();const c=o+"end";let u=0;const d=()=>{n.removeEventListener(c,f),r()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),n.addEventListener(c,f)}function sv(n,e){const t=window.getComputedStyle(n),i=m=>(t[m]||"").split(", "),s=i(`${Ui}Delay`),r=i(`${Ui}Duration`),o=$m(s,r),a=i(`${fo}Delay`),l=i(`${fo}Duration`),c=$m(a,l);let u=null,d=0,f=0;e===Ui?o>0&&(u=Ui,d=o,f=r.length):e===fo?c>0&&(u=fo,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Ui:fo:null,f=u?u===Ui?r.length:l.length:0);const h=u===Ui&&/\b(transform|all)(,|$)/.test(i(`${Ui}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function $m(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>Fm(t)+Fm(n[i])))}function Fm(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function rv(){return document.body.offsetHeight}function lk(n,e,t){const i=n[Nr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const tc=Symbol("_vod"),ov=Symbol("_vsh"),th={beforeMount(n,{value:e},{transition:t}){n[tc]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):ho(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),ho(n,!0),i.enter(n)):i.leave(n,()=>{ho(n,!1)}):ho(n,e))},beforeUnmount(n,{value:e}){ho(n,e)}};function ho(n,e){n.style.display=e?n[tc]:"none",n[ov]=!e}function ck(){th.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const av=Symbol("");function uk(n){const e=li();if(!e)return;const t=e.ut=(s=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Ed(r,s))},i=()=>{const s=n(e.proxy);kd(e.subTree,s),t(s)};to(()=>{db(i);const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),Vc(()=>s.disconnect())})}function kd(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{kd(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Ed(n.el,e);else if(n.type===ye)n.children.forEach(t=>kd(t,e));else if(n.type===Bs){let{el:t,anchor:i}=n;for(;t&&(Ed(t,e),t!==i);)t=t.nextSibling}}function Ed(n,e){if(n.nodeType===1){const t=n.style;let i="";for(const s in e)t.setProperty(`--${s}`,e[s]),i+=`--${s}: ${e[s]};`;t[av]=i}}const dk=/(^|;)\s*display\s*:/;function fk(n,e,t){const i=n.style,s=lt(t);let r=!1;if(t&&!s){if(e)if(lt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Dl(i,a,"")}else for(const o in e)t[o]==null&&Dl(i,o,"");for(const o in t)o==="display"&&(r=!0),Dl(i,o,t[o])}else if(s){if(e!==t){const o=i[av];o&&(t+=";"+o),i.cssText=t,r=dk.test(t)}}else e&&n.removeAttribute("style");tc in n&&(n[tc]=r?i.display:"",n[ov]&&(i.display="none"))}const Nm=/\s*!important$/;function Dl(n,e,t){if(oe(t))t.forEach(i=>Dl(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=hk(n,e);Nm.test(t)?n.setProperty(fn(i),t.replace(Nm,""),"important"):n[i]=t}}const Hm=["Webkit","Moz","ms"],yu={};function hk(n,e){const t=yu[e];if(t)return t;let i=qt(e);if(i!=="filter"&&i in n)return yu[e]=i;i=Va(i);for(let s=0;s<Hm.length;s++){const r=Hm[s]+i;if(r in n)return yu[e]=r}return e}const jm="http://www.w3.org/1999/xlink";function mk(n,e,t,i,s){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(jm,e.slice(6,e.length)):n.setAttributeNS(jm,e,t);else{const r=K2(e);t==null||r&&!R0(t)?n.removeAttribute(e):n.setAttribute(e,r?"":t)}}function pk(n,e,t,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?n.getAttribute("value")||"":n.value,u=t??"";(c!==u||!("_value"in n))&&(n.value=u),t==null&&n.removeAttribute(e),n._value=t;return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=R0(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function yi(n,e,t,i){n.addEventListener(e,t,i)}function gk(n,e,t,i){n.removeEventListener(e,t,i)}const Um=Symbol("_vei");function bk(n,e,t,i,s=null){const r=n[Um]||(n[Um]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=vk(e);if(i){const c=r[e]=_k(i,s);yi(n,a,c,l)}else o&&(gk(n,a,o,l),r[e]=void 0)}}const zm=/(?:Once|Passive|Capture)$/;function vk(n){let e;if(zm.test(n)){e={};let i;for(;i=n.match(zm);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):fn(n.slice(2)),e]}let wu=0;const yk=Promise.resolve(),wk=()=>wu||(yk.then(()=>wu=0),wu=Date.now());function _k(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;bn(Ck(i,t.value),e,5,[i])};return t.value=n,t.attached=wk(),t}function Ck(n,e){if(oe(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Wm=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,kk=(n,e,t,i,s,r,o,a,l)=>{const c=s==="svg";e==="class"?lk(n,i,c):e==="style"?fk(n,t,i):Da(e)?Pf(e)||bk(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ek(n,e,i,c))?pk(n,e,i,r,o,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),mk(n,e,i,c))};function Ek(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&Wm(e)&&ge(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Wm(e)&&lt(t)?!1:e in n}/*! #__NO_SIDE_EFFECTS__ */function lv(n,e){const t=Ct(n);class i extends Nc{constructor(r){super(t,r,e)}}return i.def=t,i}/*! #__NO_SIDE_EFFECTS__ */const Tk=n=>lv(n,wv),Sk=typeof HTMLElement<"u"?HTMLElement:class{};class Nc extends Sk{constructor(e,t={},i){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),er(()=>{this._connected||(Td(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{const{props:r,styles:o}=i;let a;if(r&&!oe(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=ql(this._props[l])),(a||(a=Object.create(null)))[qt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(i),this._applyStyles(o),this._update()},t=this._def.__asyncLoader;t?t().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,i=oe(t)?t:Object.keys(t||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(qt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(r){this._setProp(s,r)}})}_setAttr(e){let t=this.hasAttribute(e)?this.getAttribute(e):void 0;const i=qt(e);this._numberProps&&this._numberProps[i]&&(t=ql(t)),this._setProp(i,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,s=!0){t!==this._props[e]&&(this._props[e]=t,s&&this._instance&&this._update(),i&&(t===!0?this.setAttribute(fn(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(fn(e),t+""):t||this.removeAttribute(fn(e))))}_update(){Td(this._createVNode(),this.shadowRoot)}_createVNode(){const e=I(this._def,it({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,{detail:o}))};t.emit=(r,...o)=>{i(r,o),fn(r)!==r&&i(fn(r),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Nc){t.parent=s._instance,t.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const i=document.createElement("style");i.textContent=t,this.shadowRoot.appendChild(i)})}}function Pk(n="$style"){{const e=li();if(!e)return Ue;const t=e.type.__cssModules;if(!t)return Ue;const i=t[n];return i||Ue}}const cv=new WeakMap,uv=new WeakMap,nc=Symbol("_moveCb"),Km=Symbol("_enterCb"),dv={name:"TransitionGroup",props:it({},rk,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=li(),i=Zf();let s,r;return Bc(()=>{if(!s.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!Rk(s[0].el,t.vnode.el,o))return;s.forEach(xk),s.forEach(Ok);const a=s.filter(Ik);rv(),a.forEach(l=>{const c=l.el,u=c.style;mi(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[nc]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[nc]=null,qi(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Me(n),a=iv(o);let l=o.tag||ye;if(s=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(s.push(u),Us(u,Fr(u,a,i,t)),cv.set(u,u.el.getBoundingClientRect()))}r=e.default?Mc(e.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Us(u,Fr(u,a,i,t))}return I(l,null,r)}}},Ak=n=>delete n.mode;dv.props;const fv=dv;function xk(n){const e=n.el;e[nc]&&e[nc](),e[Km]&&e[Km]()}function Ok(n){uv.set(n,n.el.getBoundingClientRect())}function Ik(n){const e=cv.get(n),t=uv.get(n),i=e.left-t.left,s=e.top-t.top;if(i||s){const r=n.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",n}}function Rk(n,e,t){const i=n.cloneNode(),s=n[Nr];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),t.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=sv(i);return r.removeChild(i),o}const us=n=>{const e=n.props["onUpdate:modelValue"]||!1;return oe(e)?t=>xr(e,t):e};function Mk(n){n.target.composing=!0}function qm(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Tn=Symbol("_assign"),ic={created(n,{modifiers:{lazy:e,trim:t,number:i}},s){n[Tn]=us(s);const r=i||s.props&&s.props.type==="number";yi(n,e?"change":"input",o=>{if(o.target.composing)return;let a=n.value;t&&(a=a.trim()),r&&(a=Kl(a)),n[Tn](a)}),t&&yi(n,"change",()=>{n.value=n.value.trim()}),e||(yi(n,"compositionstart",Mk),yi(n,"compositionend",qm),yi(n,"change",qm))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:s}},r){if(n[Tn]=us(r),n.composing)return;const o=(s||n.type==="number")&&!/^0\d/.test(n.value)?Kl(n.value):n.value,a=e??"";o!==a&&(document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===a)||(n.value=a))}},nh={deep:!0,created(n,e,t){n[Tn]=us(t),yi(n,"change",()=>{const i=n._modelValue,s=Hr(n),r=n.checked,o=n[Tn];if(oe(i)){const a=Ec(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Ys(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(mv(n,r))})},mounted:Gm,beforeUpdate(n,e,t){n[Tn]=us(t),Gm(n,e,t)}};function Gm(n,{value:e,oldValue:t},i){n._modelValue=e,oe(e)?n.checked=Ec(e,i.props.value)>-1:Ys(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=ls(e,mv(n,!0)))}const ih={created(n,{value:e},t){n.checked=ls(e,t.props.value),n[Tn]=us(t),yi(n,"change",()=>{n[Tn](Hr(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n[Tn]=us(i),e!==t&&(n.checked=ls(e,i.props.value))}},hv={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const s=Ys(e);yi(n,"change",()=>{const r=Array.prototype.filter.call(n.options,o=>o.selected).map(o=>t?Kl(Hr(o)):Hr(o));n[Tn](n.multiple?s?new Set(r):r:r[0]),n._assigning=!0,er(()=>{n._assigning=!1})}),n[Tn]=us(i)},mounted(n,{value:e,modifiers:{number:t}}){Zm(n,e)},beforeUpdate(n,e,t){n[Tn]=us(t)},updated(n,{value:e,modifiers:{number:t}}){n._assigning||Zm(n,e)}};function Zm(n,e,t){const i=n.multiple,s=oe(e);if(!(i&&!s&&!Ys(e))){for(let r=0,o=n.options.length;r<o;r++){const a=n.options[r],l=Hr(a);if(i)if(s){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=Ec(e,l)>-1}else a.selected=e.has(l);else if(ls(Hr(a),e)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!i&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Hr(n){return"_value"in n?n._value:n.value}function mv(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const pv={created(n,e,t){pl(n,e,t,null,"created")},mounted(n,e,t){pl(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){pl(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){pl(n,e,t,i,"updated")}};function gv(n,e){switch(n){case"SELECT":return hv;case"TEXTAREA":return ic;default:switch(e){case"checkbox":return nh;case"radio":return ih;default:return ic}}}function pl(n,e,t,i,s){const o=gv(n.tagName,t.props&&t.props.type)[s];o&&o(n,e,t,i)}function Lk(){ic.getSSRProps=({value:n})=>({value:n}),ih.getSSRProps=({value:n},e)=>{if(e.props&&ls(e.props.value,n))return{checked:!0}},nh.getSSRProps=({value:n},e)=>{if(oe(n)){if(e.props&&Ec(n,e.props.value)>-1)return{checked:!0}}else if(Ys(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},pv.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=gv(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const Bk=["ctrl","shift","alt","meta"],Dk={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Bk.some(t=>n[`${t}Key`]&&!e.includes(t))},Vk=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=Dk[e[o]];if(a&&a(s,e))return}return n(s,...r)})},$k={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fk=(n,e)=>{const t=n._withKeys||(n._withKeys={}),i=e.join(".");return t[i]||(t[i]=s=>{if(!("key"in s))return;const r=fn(s.key);if(e.some(o=>o===r||$k[o]===r))return n(s)})},bv=it({patchProp:kk},sk);let Bo,Jm=!1;function vv(){return Bo||(Bo=$b(bv))}function yv(){return Bo=Jm?Bo:Fb(bv),Jm=!0,Bo}const Td=(...n)=>{vv().render(...n)},wv=(...n)=>{yv().hydrate(...n)},_v=(...n)=>{const e=vv().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=kv(i);if(!s)return;const r=e._component;!ge(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=t(s,!1,Cv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},Nk=(...n)=>{const e=yv().createApp(...n),{mount:t}=e;return e.mount=i=>{const s=kv(i);if(s)return t(s,!0,Cv(s))},e};function Cv(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function kv(n){return lt(n)?document.querySelector(n):n}let Ym=!1;const Hk=()=>{Ym||(Ym=!0,Lk(),ck())};/**
* vue v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jk=()=>{},Uk=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:mb,BaseTransitionPropsValidators:Jf,Comment:Mt,DeprecationTypes:tk,EffectScope:Rf,ErrorCodes:x5,ErrorTypeStrings:GC,Fragment:ye,KeepAlive:Q5,ReactiveEffect:Vr,Static:Bs,Suspense:qf,Teleport:Ub,Text:zs,TrackOpTypes:S5,Transition:tr,TransitionGroup:fv,TriggerOpTypes:P5,VueElement:Nc,assertNumber:A5,callWithAsyncErrorHandling:bn,callWithErrorHandling:ki,camelize:qt,capitalize:Va,cloneVNode:ri,compatUtils:ek,compile:jk,computed:Ne,createApp:_v,createBlock:fe,createCommentVNode:me,createElementBlock:$,createElementVNode:R,createHydrationRenderer:Fb,createPropsRestProxy:mC,createRenderer:$b,createSSRApp:Nk,createSlots:Io,createStaticVNode:DC,createTextVNode:Lt,createVNode:I,customRef:X0,defineAsyncComponent:Y5,defineComponent:Ct,defineCustomElement:lv,defineEmits:sC,defineExpose:rC,defineModel:lC,defineOptions:oC,defineProps:iC,defineSSRCustomElement:Tk,defineSlots:aC,devtools:ZC,effect:Z2,effectScope:Mf,getCurrentInstance:li,getCurrentScope:Lf,getTransitionRawChildren:Mc,guardReactiveProps:Gb,h:Fc,handleError:Qs,hasInjectionContext:xb,hydrate:wv,initCustomFormatter:WC,initDirectivesForSSR:Hk,inject:at,isMemoSame:ev,isProxy:Ff,isReactive:is,isReadonly:$r,isRef:wt,isRuntimeOnly:HC,isShallow:Zo,isVNode:cs,markRaw:xc,mergeDefaults:fC,mergeModels:hC,mergeProps:B,nextTick:er,normalizeClass:Nt,normalizeProps:If,normalizeStyle:$a,onActivated:gb,onBeforeMount:yb,onBeforeUnmount:Dc,onBeforeUpdate:wb,onDeactivated:bb,onErrorCaptured:Eb,onMounted:to,onRenderTracked:kb,onRenderTriggered:Cb,onScopeDispose:B0,onServerPrefetch:_b,onUnmounted:Vc,onUpdated:Bc,openBlock:S,popScopeId:Na,provide:rs,proxyRefs:jf,pushScopeId:Fa,queuePostFlushCb:Zl,reactive:Xs,readonly:Pc,ref:se,registerRuntimeCompiler:NC,render:Td,renderList:Ft,renderSlot:Ie,resolveComponent:Tt,resolveDirective:xi,resolveDynamicComponent:kt,resolveFilter:QC,resolveTransitionHooks:Fr,setBlockTracking:bd,setDevtoolsHook:JC,setTransitionHooks:Us,shallowReactive:$f,shallowReadonly:g5,shallowRef:J0,ssrContextKey:cb,ssrUtils:XC,stop:J2,toDisplayString:_e,toHandlerKey:Oo,toHandlers:tC,toRaw:Me,toRef:T5,toRefs:Q0,toValue:w5,transformVNodeArgs:LC,triggerRef:y5,unref:A,useAttrs:dC,useCssModule:Pk,useCssVars:uk,useModel:zC,useSSRContext:ub,useSlots:uC,useTransitionState:Zf,vModelCheckbox:nh,vModelDynamic:pv,vModelRadio:ih,vModelSelect:hv,vModelText:ic,vShow:th,version:tv,warn:qC,watch:ss,watchEffect:G5,watchPostEffect:db,watchSyncEffect:fb,withAsyncContext:ht,withCtx:ie,withDefaults:cC,withDirectives:vn,withKeys:Fk,withMemo:KC,withModifiers:Vk,withScopeId:D5},Symbol.toStringTag,{value:"Module"}));var zk=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ev;const Hc=n=>Ev=n,Tv=Symbol();function Sd(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Do;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Do||(Do={}));function Wk(){const n=Mf(!0),e=n.run(()=>se({}));let t=[],i=[];const s=xc({install(r){Hc(s),s._a=r,r.provide(Tv,s),r.config.globalProperties.$pinia=s,i.forEach(o=>t.push(o)),i=[]},use(r){return!this._a&&!zk?i.push(r):t.push(r),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return s}const Sv=()=>{};function Xm(n,e,t,i=Sv){n.push(e);const s=()=>{const r=n.indexOf(e);r>-1&&(n.splice(r,1),i())};return!t&&Lf()&&B0(s),s}function ur(n,...e){n.slice().forEach(t=>{t(...e)})}const Kk=n=>n();function Pd(n,e){n instanceof Map&&e instanceof Map&&e.forEach((t,i)=>n.set(i,t)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],s=n[t];Sd(s)&&Sd(i)&&n.hasOwnProperty(t)&&!wt(i)&&!is(i)?n[t]=Pd(s,i):n[t]=i}return n}const qk=Symbol();function Gk(n){return!Sd(n)||!n.hasOwnProperty(qk)}const{assign:Gi}=Object;function Zk(n){return!!(wt(n)&&n.effect)}function Jk(n,e,t,i){const{state:s,actions:r,getters:o}=e,a=t.state.value[n];let l;function c(){a||(t.state.value[n]=s?s():{});const u=Q0(t.state.value[n]);return Gi(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=xc(Ne(()=>{Hc(t);const h=t._s.get(n);return o[f].call(h,h)})),d),{}))}return l=Pv(n,c,e,t,i,!0),l}function Pv(n,e,t={},i,s,r){let o;const a=Gi({actions:{}},t),l={deep:!0};let c,u,d=[],f=[],h;const m=i.state.value[n];!r&&!m&&(i.state.value[n]={}),se({});let p;function v(T){let L;c=u=!1,typeof T=="function"?(T(i.state.value[n]),L={type:Do.patchFunction,storeId:n,events:h}):(Pd(i.state.value[n],T),L={type:Do.patchObject,payload:T,storeId:n,events:h});const z=p=Symbol();er().then(()=>{p===z&&(c=!0)}),u=!0,ur(d,L,i.state.value[n])}const _=r?function(){const{state:L}=t,z=L?L():{};this.$patch(re=>{Gi(re,z)})}:Sv;function E(){o.stop(),d=[],f=[],i._s.delete(n)}function w(T,L){return function(){Hc(i);const z=Array.from(arguments),re=[],W=[];function de(J){re.push(J)}function Le(J){W.push(J)}ur(f,{args:z,name:T,store:P,after:de,onError:Le});let xe;try{xe=L.apply(this&&this.$id===n?this:P,z)}catch(J){throw ur(W,J),J}return xe instanceof Promise?xe.then(J=>(ur(re,J),J)).catch(J=>(ur(W,J),Promise.reject(J))):(ur(re,xe),xe)}}const C={_p:i,$id:n,$onAction:Xm.bind(null,f),$patch:v,$reset:_,$subscribe(T,L={}){const z=Xm(d,T,L.detached,()=>re()),re=o.run(()=>ss(()=>i.state.value[n],W=>{(L.flush==="sync"?u:c)&&T({storeId:n,type:Do.direct,events:h},W)},Gi({},l,L)));return z},$dispose:E},P=Xs(C);i._s.set(n,P);const M=(i._a&&i._a.runWithContext||Kk)(()=>i._e.run(()=>(o=Mf()).run(e)));for(const T in M){const L=M[T];if(wt(L)&&!Zk(L)||is(L))r||(m&&Gk(L)&&(wt(L)?L.value=m[T]:Pd(L,m[T])),i.state.value[n][T]=L);else if(typeof L=="function"){const z=w(T,L);M[T]=z,a.actions[T]=L}}return Gi(P,M),Gi(Me(P),M),Object.defineProperty(P,"$state",{get:()=>i.state.value[n],set:T=>{v(L=>{Gi(L,T)})}}),i._p.forEach(T=>{Gi(P,o.run(()=>T({store:P,app:i._a,pinia:i,options:a})))}),m&&r&&t.hydrate&&t.hydrate(P.$state,m),c=!0,u=!0,P}function Yk(n,e,t){let i,s;const r=typeof e=="function";i=n,s=r?t:e;function o(a,l){const c=xb();return a=a||(c?at(Tv,null):null),a&&Hc(a),a=Ev,a._s.has(i)||(r?Pv(i,e,s,a):Jk(i,s,a)),a._s.get(i)}return o.$id=i,o}function _u(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=sh(n))||e){t&&(n=t);var i=0,s=function(){};return{s,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return r=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function Xk(n){return tE(n)||eE(n)||sh(n)||Qk()}function Qk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eE(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tE(n){if(Array.isArray(n))return Ad(n)}function Vo(n){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vo(n)}function Cu(n,e){return sE(n)||iE(n,e)||sh(n,e)||nE()}function nE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sh(n,e){if(n){if(typeof n=="string")return Ad(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ad(n,e)}}function Ad(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function iE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function sE(n){if(Array.isArray(n))return n}var D={innerWidth:function(e){if(e){var t=e.offsetWidth,i=getComputedStyle(e);return t+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t}return 0},width:function(e){if(e){var t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),t}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,t){if(e){var i=e.offsetWidth;if(t){var s=getComputedStyle(e);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}return 0},getOuterHeight:function(e,t){if(e){var i=e.offsetHeight;if(t){var s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}return 0},getClientHeight:function(e,t){if(e){var i=e.clientHeight;if(t){var s=getComputedStyle(e);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}return 0},getViewport:function(){var e=window,t=document,i=t.documentElement,s=t.getElementsByTagName("body")[0],r=e.innerWidth||i.clientWidth||s.clientWidth,o=e.innerHeight||i.clientHeight||s.clientHeight;return{width:r,height:o}},getOffset:function(e){if(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var t,i=(t=this.getParentNode(e))===null||t===void 0?void 0:t.childNodes,s=0,r=0;r<i.length;r++){if(i[r]===e)return s;i[r].nodeType===1&&s++}return-1},addMultipleClasses:function(e,t){var i=this;e&&t&&[t].flat().filter(Boolean).forEach(function(s){return s.split(" ").forEach(function(r){return i.addClass(e,r)})})},removeMultipleClasses:function(e,t){var i=this;e&&t&&[t].flat().filter(Boolean).forEach(function(s){return s.split(" ").forEach(function(r){return i.removeClass(e,r)})})},addClass:function(e,t){e&&t&&!this.hasClass(e,t)&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass:function(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},addStyles:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(t).forEach(function(i){var s=Cu(i,2),r=s[0],o=s[1];return e.style[r]=o})},find:function(e,t){return this.isElement(e)?e.querySelectorAll(t):[]},findSingle:function(e,t){return this.isElement(e)?e.querySelector(t):null},createElement:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var i=document.createElement(e);this.setAttributes(i,t);for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];return i.append.apply(i,r),i}},setAttribute:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&i!==null&&i!==void 0&&e.setAttribute(t,i)},setAttributes:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var s=function r(o,a){var l,c,u=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(c=e.$attrs)===null||c===void 0?void 0:c[o]]:[];return[a].flat().reduce(function(d,f){if(f!=null){var h=Vo(f);if(h==="string"||h==="number")d.push(f);else if(h==="object"){var m=Array.isArray(f)?r(o,f):Object.entries(f).map(function(p){var v=Cu(p,2),_=v[0],E=v[1];return o==="style"&&(E||E===0)?"".concat(_.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(E):E?_:void 0});d=m.length?d.concat(m.filter(function(p){return!!p})):d}}return d},u)};Object.entries(i).forEach(function(r){var o=Cu(r,2),a=o[0],l=o[1];if(l!=null){var c=a.match(/^on(.+)/);c?e.addEventListener(c[1].toLowerCase(),l):a==="p-bind"?t.setAttributes(e,l):(l=a==="class"?Xk(new Set(s("class",l))).join(" ").trim():a==="style"?s("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,t){if(this.isElement(e)){var i=e.getAttribute(t);return isNaN(i)?i==="true"||i==="false"?i==="true":i:+i}},isAttributeEquals:function(e,t,i){return this.isElement(e)?this.getAttribute(e,t)===i:!1},isAttributeNotEquals:function(e,t,i){return!this.isAttributeEquals(e,t,i)},getHeight:function(e){if(e){var t=e.offsetHeight,i=getComputedStyle(e);return t-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),t}return 0},getWidth:function(e){if(e){var t=e.offsetWidth,i=getComputedStyle(e);return t-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),t}return 0},absolutePosition:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=s.height,o=s.width,a=t.offsetHeight,l=t.offsetWidth,c=t.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),h,m,p="top";c.top+a+r>f.height?(h=c.top+u-r,p="bottom",h<0&&(h=u)):h=a+c.top+u,c.left+o>f.width?m=Math.max(0,c.left+d+l-o):m=c.left+d,e.style.top=h+"px",e.style.left=m+"px",e.style.transformOrigin=p,i&&(e.style.marginTop=p==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),r=t.offsetHeight,o=t.getBoundingClientRect(),a=this.getViewport(),l,c,u="top";o.top+r+s.height>a.height?(l=-1*s.height,u="bottom",o.top+l<0&&(l=-1*o.top)):l=r,s.width>a.width?c=o.left*-1:o.left+s.width>a.width?c=(o.left+s.width-a.width)*-1:c=0,e.style.top=l+"px",e.style.left=c+"px",e.style.transformOrigin=u,i&&(e.style.marginTop=u==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,t){if(e){var i=e.parentElement,s=this.getOffset(i),r=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(i.children[0]),l;parseInt(s.left,10)+a+o>r.width-this.calculateScrollbarWidth()?parseInt(s.left,10)<o?t%2===1?l=parseInt(s.left,10)?"-"+parseInt(s.left,10)+"px":"100%":t%2===0&&(l=r.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var t=e==null?void 0:e.parentNode;return t&&t instanceof ShadowRoot&&t.host&&(t=t.host),t},getParents:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.getParentNode(e);return i===null?t:this.getParents(i,t.concat([i]))},getScrollableParents:function(e){var t=[];if(e){var i=this.getParents(e),s=/(auto|scroll)/,r=function(v){try{var _=window.getComputedStyle(v,null);return s.test(_.getPropertyValue("overflow"))||s.test(_.getPropertyValue("overflowX"))||s.test(_.getPropertyValue("overflowY"))}catch{return!1}},o=_u(i),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,c=l.nodeType===1&&l.dataset.scrollselectors;if(c){var u=c.split(","),d=_u(u),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,m=this.findSingle(l,h);m&&r(m)&&t.push(m)}}catch(p){d.e(p)}finally{d.f()}}l.nodeType!==9&&r(l)&&t.push(l)}}catch(p){o.e(p)}finally{o.f()}}return t},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions:function(e){if(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn:function(e,t){if(e){e.style.opacity=0;var i=+new Date,s=0,r=function o(){s=+e.style.opacity+(new Date().getTime()-i)/t,e.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};r()}},fadeOut:function(e,t){if(e)var i=1,s=50,r=t,o=s/r,a=setInterval(function(){i-=o,i<=0&&(i=0,clearInterval(a)),e.style.opacity=i},s)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Vo(HTMLElement))==="object"?e instanceof HTMLElement:e&&Vo(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,t){var i=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,r=getComputedStyle(e).getPropertyValue("paddingTop"),o=r?parseFloat(r):0,a=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-s-o,u=e.scrollTop,d=e.clientHeight,f=this.getOuterHeight(t);c<0?e.scrollTop=u+c:c+f>d&&(e.scrollTop=u+c-d+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,t,i){e[t].apply(e,i)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,t){e&&document.activeElement!==e&&e.focus(t)},isFocusableElement:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(t,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t)):!1},getFocusableElements:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(t,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(t)),s=[],r=_u(i),o;try{for(r.s();!(o=r.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&s.push(a)}}catch(l){r.e(l)}finally{r.f()}return s},getFirstFocusableElement:function(e,t){var i=this.getFocusableElements(e,t);return i.length>0?i[0]:null},getLastFocusableElement:function(e,t){var i=this.getFocusableElements(e,t);return i.length>0?i[i.length-1]:null},getNextFocusableElement:function(e,t,i){var s=this.getFocusableElements(e,i),r=s.length>0?s.findIndex(function(a){return a===t}):-1,o=r>-1&&s.length>=r+1?r+1:-1;return o>-1?s[o]:null},getPreviousElementSibling:function(e,t){for(var i=e.previousElementSibling;i;){if(i.matches(t))return i;i=i.previousElementSibling}return null},getNextElementSibling:function(e,t){for(var i=e.nextElementSibling;i;){if(i.matches(t))return i;i=i.nextElementSibling}return null},isClickable:function(e){if(e){var t=e.nodeName,i=e.parentElement&&e.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||i==="INPUT"||i==="TEXTAREA"||i==="BUTTON"||i==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,t){if(typeof t=="string")e.style.cssText=t;else for(var i in t)e.style[i]=t[i]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var t=getComputedStyle(e),i=parseFloat(t.getPropertyValue("animation-duration")||"0");return i>0}return!1},hasCSSTransition:function(e){if(e){var t=getComputedStyle(e),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return i>0}return!1},exportCSV:function(e,t){var i=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,t+".csv");else{var s=document.createElement("a");s.download!==void 0?(s.setAttribute("href",URL.createObjectURL(i)),s.setAttribute("download",t+".csv"),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function na(n){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(n)}function rE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lE(i.key),i)}}function aE(n,e,t){return e&&oE(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function lE(n){var e=cE(n,"string");return na(e)=="symbol"?e:String(e)}function cE(n,e){if(na(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(na(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var rh=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};rE(this,n),this.element=e,this.listener=t}return aE(n,[{key:"bindScrollListener",value:function(){this.scrollableParents=D.getScrollableParents(this.element);for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),n}();function oh(){var n=new Map;return{on:function(t,i){var s=n.get(t);s?s.push(i):s=[i],n.set(t,s)},off:function(t,i){var s=n.get(t);s&&s.splice(s.indexOf(i)>>>0,1)},emit:function(t,i){var s=n.get(t);s&&s.slice().map(function(r){r(i)})}}}function Qm(n,e){return fE(n)||dE(n,e)||ah(n,e)||uE()}function uE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function fE(n){if(Array.isArray(n))return n}function ep(n){return pE(n)||mE(n)||ah(n)||hE()}function hE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mE(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function pE(n){if(Array.isArray(n))return xd(n)}function ku(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=ah(n))||e){t&&(n=t);var i=0,s=function(){};return{s,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return r=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function ah(n,e){if(n){if(typeof n=="string")return xd(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xd(n,e)}}function xd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function $o(n){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(n)}var ve={equals:function(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.deepEquals(e,t)},deepEquals:function(e,t){if(e===t)return!0;if(e&&t&&$o(e)=="object"&&$o(t)=="object"){var i=Array.isArray(e),s=Array.isArray(t),r,o,a;if(i&&s){if(o=e.length,o!=t.length)return!1;for(r=o;r--!==0;)if(!this.deepEquals(e[r],t[r]))return!1;return!0}if(i!=s)return!1;var l=e instanceof Date,c=t instanceof Date;if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var u=e instanceof RegExp,d=t instanceof RegExp;if(u!=d)return!1;if(u&&d)return e.toString()==t.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(t).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,f[r]))return!1;for(r=o;r--!==0;)if(a=f[r],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t},resolveFieldData:function(e,t){if(!e||!t)return null;try{var i=e[t];if(this.isNotEmpty(i))return i}catch{}if(Object.keys(e).length){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),r=e,o=0,a=s.length;o<a;++o){if(r==null)return null;r=r[s[o]]}return r}return null},getItemValue:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return this.isFunction(e)?e.apply(void 0,i):e},filter:function(e,t,i){var s=[];if(e){var r=ku(e),o;try{for(r.s();!(o=r.n()).done;){var a=o.value,l=ku(t),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(String(this.resolveFieldData(a,u)).toLowerCase().indexOf(i.toLowerCase())>-1){s.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}}return s},reorderArray:function(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))},findIndexInList:function(e,t){var i=-1;if(t){for(var s=0;s<t.length;s++)if(t[s]===e){i=s;break}}return i},contains:function(e,t){if(e!=null&&t&&t.length){var i=ku(t),s;try{for(i.s();!(s=i.n()).done;){var r=s.value;if(this.equals(e,r))return!0}}catch(o){i.e(o)}finally{i.f()}}return!1},insertIntoOrderedArray:function(e,t,i,s){if(i.length>0){for(var r=!1,o=0;o<i.length;o++){var a=this.findIndexInList(i[o],s);if(a>t){i.splice(o,0,e),r=!0;break}}r||i.push(e)}else i.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,t){if(e){var i=e.props;if(i){var s=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Object.prototype.hasOwnProperty.call(i,s)?s:t;return e.type.extends.props[t].type===Boolean&&i[r]===""?!0:i[r]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(t,i){return i===0?t:"-"+t.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&$o(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(t||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(t||e.length!==0)},isString:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(t||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,t){var i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=ep(e).reverse().find(t)}return i},findLastIndex:function(e,t){var i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf(ep(e).reverse().find(t))}return i},sort:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,t,s,i),a=i;return(this.isEmpty(e)||this.isEmpty(t))&&(a=r===1?i:r),a*o},compare:function(e,t,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,r=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?r=0:o?r=s:a?r=-s:typeof e=="string"&&typeof t=="string"?r=i(e,t):r=e<t?-1:e>t?1:0,r},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(t).reduce(function(s,r){var o=Qm(r,2),a=o[0],l=o[1],c=i?"".concat(i,".").concat(a):a;return e.isObject(l)?s=s.concat(e.nestedKeys(l,c)):s.push(c),s},[])},stringify:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=" ".repeat(s),o=" ".repeat(s+i);return this.isArray(e)?"["+e.map(function(a){return t.stringify(a,i,s+i)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=Qm(a,2),c=l[0],u=l[1];return"".concat(o).concat(c,": ").concat(t.stringify(u,i,s+i))}).join(`,
`)+`
`.concat(r)+"}":JSON.stringify(e)}},tp=0;function Ht(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return tp++,"".concat(n).concat(tp)}function gE(n){return wE(n)||yE(n)||vE(n)||bE()}function bE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vE(n,e){if(n){if(typeof n=="string")return Od(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Od(n,e)}}function yE(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function wE(n){if(Array.isArray(n))return Od(n)}function Od(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function _E(){var n=[],e=function(a,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,u=s(a,l,c),d=u.value+(u.key===a?0:c)+1;return n.push({key:a,value:d}),d},t=function(a){n=n.filter(function(l){return l.value!==a})},i=function(a,l){return s(a,l).value},s=function(a,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return gE(n).reverse().find(function(u){return!0})||{key:a,value:c}},r=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:r,set:function(a,l,c){l&&(l.style.zIndex=String(e(a,!0,c)))},clear:function(a){a&&(t(r(a)),a.style.zIndex="")},getCurrent:function(a){return i(a,!0)}}}var Xt=_E(),Dt={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function ia(n){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(n)}function np(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Eu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?np(Object(t),!0).forEach(function(i){CE(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):np(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CE(n,e,t){return e=kE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kE(n){var e=EE(n,"string");return ia(e)=="symbol"?e:String(e)}function EE(n,e){if(ia(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ia(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ip={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Dt.STARTS_WITH,Dt.CONTAINS,Dt.NOT_CONTAINS,Dt.ENDS_WITH,Dt.EQUALS,Dt.NOT_EQUALS],numeric:[Dt.EQUALS,Dt.NOT_EQUALS,Dt.LESS_THAN,Dt.LESS_THAN_OR_EQUAL_TO,Dt.GREATER_THAN,Dt.GREATER_THAN_OR_EQUAL_TO],date:[Dt.DATE_IS,Dt.DATE_IS_NOT,Dt.DATE_BEFORE,Dt.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},TE=Symbol();function SE(n,e,t,i){if(n!==e){var s=document.getElementById(t),r=s.cloneNode(!0),o=s.getAttribute("href").replace(n,e);r.setAttribute("id",t+"-clone"),r.setAttribute("href",o),r.addEventListener("load",function(){s.remove(),r.setAttribute("id",t),i&&i()}),s.parentNode&&s.parentNode.insertBefore(r,s.nextSibling)}}var PE={install:function(e,t){var i=t?Eu(Eu({},ip),t):Eu({},ip),s={config:Xs(i),changeTheme:SE};e.config.globalProperties.$primevue=s,e.provide(TE,s)}},En=oh(),Av=Symbol();function AE(){var n=at(Av);if(!n)throw new Error("No PrimeVue Toast provided!");return n}var xE={install:function(e){var t={add:function(s){En.emit("add",s)},remove:function(s){En.emit("remove",s)},removeGroup:function(s){En.emit("remove-group",s)},removeAllGroups:function(){En.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(Av,t)}},kr=oh(),xv=Symbol();function OE(){var n=at(xv);if(!n)throw new Error("No PrimeVue Confirmation provided!");return n}var IE={install:function(e){var t={require:function(s){kr.emit("confirm",s)},close:function(){kr.emit("close")}};e.config.globalProperties.$confirm=t,e.provide(xv,t)}};function sa(n){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(n)}function sp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function rp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(t),!0).forEach(function(i){RE(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RE(n,e,t){return e=ME(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ME(n){var e=LE(n,"string");return sa(e)=="symbol"?e:String(e)}function LE(n,e){if(sa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(sa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BE(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;li()?to(n):e?n():er(n)}var DE=0;function Ov(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=se(!1),i=se(n),s=se(null),r=D.isClient()?window.document:void 0,o=e.document,a=o===void 0?r:o,l=e.immediate,c=l===void 0?!0:l,u=e.manual,d=u===void 0?!1:u,f=e.name,h=f===void 0?"style_".concat(++DE):f,m=e.id,p=m===void 0?void 0:m,v=e.media,_=v===void 0?void 0:v,E=e.nonce,w=E===void 0?void 0:E,C=e.props,P=C===void 0?{}:C,b=function(){},M=function(z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var W=rp(rp({},P),re),de=W.name||h,Le=W.id||p,xe=W.nonce||w;s.value=a.querySelector('style[data-primevue-style-id="'.concat(de,'"]'))||a.getElementById(Le)||a.createElement("style"),s.value.isConnected||(i.value=z||n,D.setAttributes(s.value,{type:"text/css",id:Le,media:_,nonce:xe}),a.head.appendChild(s.value),D.setAttribute(s.value,"data-primevue-style-id",h),D.setAttributes(s.value,W)),!t.value&&(b=ss(i,function(J){s.value.textContent=J},{immediate:!0}),t.value=!0)}},T=function(){!a||!t.value||(b(),D.isExist(s.value)&&a.head.removeChild(s.value),t.value=!1)};return c&&!d&&BE(M),{id:p,name:h,css:i,unload:T,load:M,isLoaded:Pc(t)}}function ra(n){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(n)}function VE(n,e){return HE(n)||NE(n,e)||FE(n,e)||$E()}function $E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(n,e){if(n){if(typeof n=="string")return op(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return op(n,e)}}function op(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function NE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function HE(n){if(Array.isArray(n))return n}function ap(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Tu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ap(Object(t),!0).forEach(function(i){jE(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ap(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jE(n,e,t){return e=UE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UE(n){var e=zE(n,"string");return ra(e)=="symbol"?e:String(e)}function zE(n,e){if(ra(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ra(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WE=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,KE={},qE={},Je={name:"base",css:WE,classes:KE,inlineStyles:qE,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Ov(this.css,Tu({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var i=Object.entries(t).reduce(function(s,r){var o=VE(r,2),a=o[0],l=o[1];return s.push("".concat(a,'="').concat(l,'"'))&&s},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(i,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Tu(Tu({},this),{},{css:void 0},e)}};function oa(n){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(n)}function lp(n,e){return YE(n)||JE(n,e)||ZE(n,e)||GE()}function GE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZE(n,e){if(n){if(typeof n=="string")return cp(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cp(n,e)}}function cp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function JE(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function YE(n){if(Array.isArray(n))return n}function up(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function ft(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?up(Object(t),!0).forEach(function(i){Id(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):up(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Id(n,e,t){return e=XE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XE(n){var e=QE(n,"string");return oa(e)=="symbol"?e:String(e)}function QE(n,e){if(oa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(oa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Be={_getMeta:function(){return[ve.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],ve.getItemValue(ve.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,t){var i,s,r;return(i=(e==null||(s=e.instance)===null||s===void 0?void 0:s.$primevue)||(t==null||(r=t.ctx)===null||r===void 0||(r=r.appContext)===null||r===void 0||(r=r.config)===null||r===void 0||(r=r.globalProperties)===null||r===void 0?void 0:r.$primevue))===null||i===void 0?void 0:i.config},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ve.toFlatCase(t).split("."),r=s.shift();return r?ve.isObject(e)?Be._getOptionValue(ve.getItemValue(e[Object.keys(e).find(function(o){return ve.toFlatCase(o)===r})||""],i),s.join("."),i):void 0:ve.getItemValue(e,i)},_getPTValue:function(){var e,t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var E=Be._getOptionValue.apply(Be,arguments);return ve.isString(E)||ve.isArray(E)?{class:E}:E},c=((e=i.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((t=i.$config)===null||t===void 0?void 0:t.ptOptions)||{},u=c.mergeSections,d=u===void 0?!0:u,f=c.mergeProps,h=f===void 0?!1:f,m=a?Be._useDefaultPT(i,i.defaultPT(),l,r,o):void 0,p=Be._usePT(i,Be._getPT(s,i.$name),l,r,ft(ft({},o),{},{global:m||{}})),v=Be._getPTDatasets(i,r);return d||!d&&p?h?Be._mergeProps(i,h,m,p,v):ft(ft(ft({},m),p),v):ft(ft({},p),v)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i="data-pc-";return ft(ft({},t==="root"&&Id({},"".concat(i,"name"),ve.toFlatCase(e.$name))),{},Id({},"".concat(i,"section"),ve.toFlatCase(t)))},_getPT:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(o){var a,l=i?i(o):o,c=ve.toFlatCase(t);return(a=l==null?void 0:l[c])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=function(v){return i(v,s,r)};if(t!=null&&t.hasOwnProperty("_usept")){var a,l=t._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},c=l.mergeSections,u=c===void 0?!0:c,d=l.mergeProps,f=d===void 0?!1:d,h=o(t.originalValue),m=o(t.value);return h===void 0&&m===void 0?void 0:ve.isString(m)?m:ve.isString(h)?h:u||!u&&m?f?Be._mergeProps(e,f,h,m):ft(ft({},h),m):m}return o(t)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return Be._usePT(e,t,i,s,r)},_hook:function(e,t,i,s,r,o){var a,l,c="on".concat(ve.toCapitalCase(t)),u=Be._getConfig(s,r),d=i==null?void 0:i.$instance,f=Be._usePT(d,Be._getPT(s==null||(a=s.value)===null||a===void 0?void 0:a.pt,e),Be._getOptionValue,"hooks.".concat(c)),h=Be._useDefaultPT(d,u==null||(l=u.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Be._getOptionValue,"hooks.".concat(c)),m={el:i,binding:s,vnode:r,prevVnode:o};f==null||f(d,m),h==null||h(d,m)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return ve.isFunction(e)?e.apply(void 0,i):B.apply(void 0,i)},_extend:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=function(r,o,a,l,c){var u,d;o._$instances=o._$instances||{};var f=Be._getConfig(a,l),h=o._$instances[e]||{},m=ve.isEmpty(h)?ft(ft({},t),t==null?void 0:t.methods):{};o._$instances[e]=ft(ft({},h),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:h.$el||o||void 0,$style:ft({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},t==null?void 0:t.style),$config:f,defaultPT:function(){return Be._getPT(f==null?void 0:f.pt,void 0,function(v){var _;return v==null||(_=v.directives)===null||_===void 0?void 0:_[e]})},isUnstyled:function(){var v,_;return((v=o.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.unstyled)!==void 0?(_=o.$instance)===null||_===void 0||(_=_.$binding)===null||_===void 0||(_=_.value)===null||_===void 0?void 0:_.unstyled:f==null?void 0:f.unstyled},ptm:function(){var v,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Be._getPTValue(o.$instance,(v=o.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.pt,_,ft({},E))},ptmo:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Be._getPTValue(o.$instance,v,_,E,!1)},cx:function(){var v,_,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(v=o.$instance)!==null&&v!==void 0&&v.isUnstyled()?void 0:Be._getOptionValue((_=o.$instance)===null||_===void 0||(_=_.$style)===null||_===void 0?void 0:_.classes,E,ft({},w))},sx:function(){var v,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E?Be._getOptionValue((v=o.$instance)===null||v===void 0||(v=v.$style)===null||v===void 0?void 0:v.inlineStyles,_,ft({},w)):void 0}},m),o.$instance=o._$instances[e],(u=(d=o.$instance)[r])===null||u===void 0||u.call(d,o,a,l,c),o["$".concat(e)]=o.$instance,Be._hook(e,r,o,a,l,c)};return{created:function(r,o,a,l){i("created",r,o,a,l)},beforeMount:function(r,o,a,l){var c,u,d,f,h=Be._getConfig(o,a);Je.loadStyle({nonce:h==null||(c=h.csp)===null||c===void 0?void 0:c.nonce}),!((u=r.$instance)!==null&&u!==void 0&&u.isUnstyled())&&((d=r.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),i("beforeMount",r,o,a,l)},mounted:function(r,o,a,l){var c,u,d,f,h=Be._getConfig(o,a);Je.loadStyle({nonce:h==null||(c=h.csp)===null||c===void 0?void 0:c.nonce}),!((u=r.$instance)!==null&&u!==void 0&&u.isUnstyled())&&((d=r.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),i("mounted",r,o,a,l)},beforeUpdate:function(r,o,a,l){i("beforeUpdate",r,o,a,l)},updated:function(r,o,a,l){i("updated",r,o,a,l)},beforeUnmount:function(r,o,a,l){i("beforeUnmount",r,o,a,l)},unmounted:function(r,o,a,l){i("unmounted",r,o,a,l)}}},extend:function(){var e=Be._getMeta.apply(Be,arguments),t=lp(e,2),i=t[0],s=t[1];return ft({extend:function(){var o=Be._getMeta.apply(Be,arguments),a=lp(o,2),l=a[0],c=a[1];return Be.extend(l,ft(ft(ft({},s),s==null?void 0:s.methods),c))}},Be._extend(i,s))}},eT={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},tT=Je.extend({name:"tooltip",classes:eT}),nT=Be.extend({style:tT});function iT(n,e){return aT(n)||oT(n,e)||rT(n,e)||sT()}function sT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rT(n,e){if(n){if(typeof n=="string")return dp(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dp(n,e)}}function dp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function oT(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e!==0)for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function aT(n){if(Array.isArray(n))return n}function Fo(n){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(n)}var lT=nT.extend("tooltip",{beforeMount:function(e,t){var i,s=this.getTarget(e);if(s.$_ptooltipModifiers=this.getModifiers(t),t.value){if(typeof t.value=="string")s.$_ptooltipValue=t.value,s.$_ptooltipDisabled=!1,s.$_ptooltipEscape=!0,s.$_ptooltipClass=null,s.$_ptooltipFitContent=!0,s.$_ptooltipIdAttr=Ht()+"_tooltip",s.$_ptooltipShowDelay=0,s.$_ptooltipHideDelay=0,s.$_ptooltipAutoHide=!0;else if(Fo(t.value)==="object"&&t.value){if(ve.isEmpty(t.value.value)||t.value.value.trim()==="")return;s.$_ptooltipValue=t.value.value,s.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,s.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,s.$_ptooltipClass=t.value.class||"",s.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,s.$_ptooltipIdAttr=t.value.id||Ht()+"_tooltip",s.$_ptooltipShowDelay=t.value.showDelay||0,s.$_ptooltipHideDelay=t.value.hideDelay||0,s.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0}}else return;s.$_ptooltipZIndex=(i=t.instance.$primevue)===null||i===void 0||(i=i.config)===null||i===void 0||(i=i.zIndex)===null||i===void 0?void 0:i.tooltip,this.bindEvents(s,t),e.setAttribute("data-pd-tooltip",!0)},updated:function(e,t){var i=this.getTarget(e);if(i.$_ptooltipModifiers=this.getModifiers(t),this.unbindEvents(i),!!t.value){if(typeof t.value=="string")i.$_ptooltipValue=t.value,i.$_ptooltipDisabled=!1,i.$_ptooltipEscape=!0,i.$_ptooltipClass=null,i.$_ptooltipIdAttr=i.$_ptooltipIdAttr||Ht()+"_tooltip",i.$_ptooltipShowDelay=0,i.$_ptooltipHideDelay=0,i.$_ptooltipAutoHide=!0,this.bindEvents(i,t);else if(Fo(t.value)==="object"&&t.value)if(ve.isEmpty(t.value.value)||t.value.value.trim()===""){this.unbindEvents(i,t);return}else i.$_ptooltipValue=t.value.value,i.$_ptooltipDisabled=!!t.value.disabled===t.value.disabled?t.value.disabled:!1,i.$_ptooltipEscape=!!t.value.escape===t.value.escape?t.value.escape:!0,i.$_ptooltipClass=t.value.class||"",i.$_ptooltipFitContent=!!t.value.fitContent===t.value.fitContent?t.value.fitContent:!0,i.$_ptooltipIdAttr=t.value.id||i.$_ptooltipIdAttr||Ht()+"_tooltip",i.$_ptooltipShowDelay=t.value.showDelay||0,i.$_ptooltipHideDelay=t.value.hideDelay||0,i.$_ptooltipAutoHide=!!t.value.autoHide===t.value.autoHide?t.value.autoHide:!0,this.bindEvents(i,t)}},unmounted:function(e,t){var i=this.getTarget(e);this.remove(i),this.unbindEvents(i,t),i.$_ptooltipScrollHandler&&(i.$_ptooltipScrollHandler.destroy(),i.$_ptooltipScrollHandler=null)},timer:void 0,methods:{bindEvents:function(e,t){var i=this,s=e.$_ptooltipModifiers;s.focus?(e.$_focusevent=function(r){return i.onFocus(r,t)},e.addEventListener("focus",e.$_focusevent),e.addEventListener("blur",this.onBlur.bind(this))):(e.$_mouseenterevent=function(r){return i.onMouseEnter(r,t)},e.addEventListener("mouseenter",e.$_mouseenterevent),e.addEventListener("mouseleave",this.onMouseLeave.bind(this)),e.addEventListener("click",this.onClick.bind(this))),e.addEventListener("keydown",this.onKeydown.bind(this))},unbindEvents:function(e){var t=e.$_ptooltipModifiers;t.focus?(e.removeEventListener("focus",e.$_focusevent),e.$_focusevent=null,e.removeEventListener("blur",this.onBlur.bind(this))):(e.removeEventListener("mouseenter",e.$_mouseenterevent),e.$_mouseenterevent=null,e.removeEventListener("mouseleave",this.onMouseLeave.bind(this)),e.removeEventListener("click",this.onClick.bind(this))),e.removeEventListener("keydown",this.onKeydown.bind(this))},bindScrollListener:function(e){var t=this;e.$_ptooltipScrollHandler||(e.$_ptooltipScrollHandler=new rh(e,function(){t.hide(e)})),e.$_ptooltipScrollHandler.bindScrollListener()},unbindScrollListener:function(e){e.$_ptooltipScrollHandler&&e.$_ptooltipScrollHandler.unbindScrollListener()},onMouseEnter:function(e,t){var i=e.currentTarget,s=i.$_ptooltipShowDelay;this.show(i,t,s)},onMouseLeave:function(e){var t=e.currentTarget,i=t.$_ptooltipHideDelay,s=t.$_ptooltipAutoHide;if(s)this.hide(t,i);else{var r=D.getAttribute(e.target,"data-pc-name")==="tooltip"||D.getAttribute(e.target,"data-pc-section")==="arrow"||D.getAttribute(e.target,"data-pc-section")==="text"||D.getAttribute(e.relatedTarget,"data-pc-name")==="tooltip"||D.getAttribute(e.relatedTarget,"data-pc-section")==="arrow"||D.getAttribute(e.relatedTarget,"data-pc-section")==="text";!r&&this.hide(t,i)}},onFocus:function(e,t){var i=e.currentTarget,s=i.$_ptooltipShowDelay;this.show(i,t,s)},onBlur:function(e){var t=e.currentTarget,i=t.$_ptooltipHideDelay;this.hide(t,i)},onClick:function(e){var t=e.currentTarget,i=t.$_ptooltipHideDelay;this.hide(t,i)},onKeydown:function(e){var t=e.currentTarget,i=t.$_ptooltipHideDelay;e.code==="Escape"&&this.hide(e.currentTarget,i)},tooltipActions:function(e,t){if(!(e.$_ptooltipDisabled||!D.isExist(e))){var i=this.create(e,t);this.align(e),!this.isUnstyled()&&D.fadeIn(i,250);var s=this;window.addEventListener("resize",function r(){D.isTouchDevice()||s.hide(e),window.removeEventListener("resize",r)}),i.addEventListener("mouseleave",function r(){s.hide(e),i.removeEventListener("mouseleave",r)}),this.bindScrollListener(e),Xt.set("tooltip",i,e.$_ptooltipZIndex)}},show:function(e,t,i){var s=this;i!==void 0?this.timer=setTimeout(function(){return s.tooltipActions(e,t)},i):this.tooltipActions(e,t)},tooltipRemoval:function(e){this.remove(e),this.unbindScrollListener(e)},hide:function(e,t){var i=this;clearTimeout(this.timer),t!==void 0?setTimeout(function(){return i.tooltipRemoval(e)},t):this.tooltipRemoval(e)},getTooltipElement:function(e){return document.getElementById(e.$_ptooltipId)},create:function(e){var t=e.$_ptooltipModifiers,i=D.createElement("div",{class:!this.isUnstyled()&&this.cx("arrow"),"p-bind":this.ptm("arrow",{context:t})}),s=D.createElement("div",{class:!this.isUnstyled()&&this.cx("text"),"p-bind":this.ptm("text",{context:t})});e.$_ptooltipEscape?(s.innerHTML="",s.appendChild(document.createTextNode(e.$_ptooltipValue))):s.innerHTML=e.$_ptooltipValue;var r=D.createElement("div",{id:e.$_ptooltipIdAttr,role:"tooltip",style:{display:"inline-block",width:e.$_ptooltipFitContent?"fit-content":void 0,pointerEvents:!this.isUnstyled()&&e.$_ptooltipAutoHide&&"none"},class:[!this.isUnstyled()&&this.cx("root"),e.$_ptooltipClass],"p-bind":this.ptm("root",{context:t})},i,s);return document.body.appendChild(r),e.$_ptooltipId=r.id,this.$el=r,r},remove:function(e){if(e){var t=this.getTooltipElement(e);t&&t.parentElement&&(Xt.clear(t),document.body.removeChild(t)),e.$_ptooltipId=null}},align:function(e){var t=e.$_ptooltipModifiers;t.top?(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignTop(e))):t.left?(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignLeft(e))))):t.bottom?(this.alignBottom(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&this.alignBottom(e))):(this.alignRight(e),this.isOutOfBounds(e)&&(this.alignLeft(e),this.isOutOfBounds(e)&&(this.alignTop(e),this.isOutOfBounds(e)&&(this.alignBottom(e),this.isOutOfBounds(e)&&this.alignRight(e)))))},getHostOffset:function(e){var t=e.getBoundingClientRect(),i=t.left+D.getWindowScrollLeft(),s=t.top+D.getWindowScrollTop();return{left:i,top:s}},alignRight:function(e){this.preAlign(e,"right");var t=this.getTooltipElement(e),i=this.getHostOffset(e),s=i.left+D.getOuterWidth(e),r=i.top+(D.getOuterHeight(e)-D.getOuterHeight(t))/2;t.style.left=s+"px",t.style.top=r+"px"},alignLeft:function(e){this.preAlign(e,"left");var t=this.getTooltipElement(e),i=this.getHostOffset(e),s=i.left-D.getOuterWidth(t),r=i.top+(D.getOuterHeight(e)-D.getOuterHeight(t))/2;t.style.left=s+"px",t.style.top=r+"px"},alignTop:function(e){this.preAlign(e,"top");var t=this.getTooltipElement(e),i=this.getHostOffset(e),s=i.left+(D.getOuterWidth(e)-D.getOuterWidth(t))/2,r=i.top-D.getOuterHeight(t);t.style.left=s+"px",t.style.top=r+"px"},alignBottom:function(e){this.preAlign(e,"bottom");var t=this.getTooltipElement(e),i=this.getHostOffset(e),s=i.left+(D.getOuterWidth(e)-D.getOuterWidth(t))/2,r=i.top+D.getOuterHeight(e);t.style.left=s+"px",t.style.top=r+"px"},preAlign:function(e,t){var i=this.getTooltipElement(e);i.style.left="-999px",i.style.top="-999px",D.removeClass(i,"p-tooltip-".concat(i.$_ptooltipPosition)),!this.isUnstyled()&&D.addClass(i,"p-tooltip-".concat(t)),i.$_ptooltipPosition=t,i.setAttribute("data-p-position",t);var s=D.findSingle(i,'[data-pc-section="arrow"]');s.style.top=t==="bottom"?"0":t==="right"||t==="left"||t!=="right"&&t!=="left"&&t!=="top"&&t!=="bottom"?"50%":null,s.style.bottom=t==="top"?"0":null,s.style.left=t==="right"||t!=="right"&&t!=="left"&&t!=="top"&&t!=="bottom"?"0":t==="top"||t==="bottom"?"50%":null,s.style.right=t==="left"?"0":null},isOutOfBounds:function(e){var t=this.getTooltipElement(e),i=t.getBoundingClientRect(),s=i.top,r=i.left,o=D.getOuterWidth(t),a=D.getOuterHeight(t),l=D.getViewport();return r+o>l.width||r<0||s<0||s+a>l.height},getTarget:function(e){return D.hasClass(e,"p-inputwrapper")?D.findSingle(e,"input"):e},getModifiers:function(e){return e.modifiers&&Object.keys(e.modifiers).length?e.modifiers:e.arg&&Fo(e.arg)==="object"?Object.entries(e.arg).reduce(function(t,i){var s=iT(i,2),r=s[0],o=s[1];return(r==="event"||r==="position")&&(t[o]=!0),t},{}):{}}}}),gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function uT(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var Iv={exports:{}};const dT=uT(Uk);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(n,e){(function(t,i){n.exports=i(dT)})(self,t=>(()=>{var i={976:a=>{a.exports=t}},s={};function r(a){var l=s[a];if(l!==void 0)return l.exports;var c=s[a]={exports:{}};return i[a](c,c.exports,r),c.exports}r.d=(a,l)=>{for(var c in l)r.o(l,c)&&!r.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},r.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l);var o={};return(()=>{r.d(o,{default:()=>Bt});var a=r(976);const l=function(G){var Ee=typeof G;return G!=null&&(Ee=="object"||Ee=="function")},c=typeof gl=="object"&&gl&&gl.Object===Object&&gl;var u=typeof self=="object"&&self&&self.Object===Object&&self;const d=c||u||Function("return this")(),f=function(){return d.Date.now()};var h=/\s/;const m=function(G){for(var Ee=G.length;Ee--&&h.test(G.charAt(Ee)););return Ee};var p=/^\s+/;const v=function(G){return G&&G.slice(0,m(G)+1).replace(p,"")},_=d.Symbol;var E=Object.prototype,w=E.hasOwnProperty,C=E.toString,P=_?_.toStringTag:void 0;const b=function(G){var Ee=w.call(G,P),dt=G[P];try{G[P]=void 0;var ze=!0}catch{}var V=C.call(G);return ze&&(Ee?G[P]=dt:delete G[P]),V};var M=Object.prototype.toString;const T=function(G){return M.call(G)};var L=_?_.toStringTag:void 0;const z=function(G){return G==null?G===void 0?"[object Undefined]":"[object Null]":L&&L in Object(G)?b(G):T(G)},re=function(G){return G!=null&&typeof G=="object"},W=function(G){return typeof G=="symbol"||re(G)&&z(G)=="[object Symbol]"};var de=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,J=parseInt;const be=function(G){if(typeof G=="number")return G;if(W(G))return NaN;if(l(G)){var Ee=typeof G.valueOf=="function"?G.valueOf():G;G=l(Ee)?Ee+"":Ee}if(typeof G!="string")return G===0?G:+G;G=v(G);var dt=Le.test(G);return dt||xe.test(G)?J(G.slice(2),dt?2:8):de.test(G)?NaN:+G};var le=Math.max,on=Math.min;const Zn=function(G,Ee,dt){var ze,V,te,Y,ne,Se,He=0,g=!1,y=!1,O=!0;if(typeof G!="function")throw new TypeError("Expected a function");function H(j){var ee=ze,ue=V;return ze=V=void 0,He=j,Y=G.apply(ue,ee)}function F(j){return He=j,ne=setTimeout(X,Ee),g?H(j):Y}function q(j){var ee=j-Se;return Se===void 0||ee>=Ee||ee<0||y&&j-He>=te}function X(){var j=f();if(q(j))return K(j);ne=setTimeout(X,function(ee){var ue=Ee-(ee-Se);return y?on(ue,te-(ee-He)):ue}(j))}function K(j){return ne=void 0,O&&ze?H(j):(ze=V=void 0,Y)}function Z(){var j=f(),ee=q(j);if(ze=arguments,V=this,Se=j,ee){if(ne===void 0)return F(Se);if(y)return clearTimeout(ne),ne=setTimeout(X,Ee),H(Se)}return ne===void 0&&(ne=setTimeout(X,Ee)),Y}return Ee=be(Ee)||0,l(dt)&&(g=!!dt.leading,te=(y="maxWait"in dt)?le(be(dt.maxWait)||0,Ee):te,O="trailing"in dt?!!dt.trailing:O),Z.cancel=function(){ne!==void 0&&clearTimeout(ne),He=0,ze=Se=V=ne=void 0},Z.flush=function(){return ne===void 0?Y:K(f())},Z},an=(0,a.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(G){this.instance&&G!==this.lastEditorData&&this.instance.data.set(G)},disabled(G){G?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:G}=window;if(G){const[Ee]=G.split(".").map(Number);Ee<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const G=Object.assign({},this.config);this.modelValue&&(G.initialData=this.modelValue),this.editor.create(this.$el,G).then(Ee=>{this.instance=(0,a.markRaw)(Ee),this.setUpEditorEvents(),this.modelValue!==G.initialData&&Ee.data.set(this.modelValue),this.disabled&&Ee.enableReadOnlyMode("Integration Sample"),this.$emit("ready",Ee)}).catch(Ee=>{console.error(Ee)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const G=this.instance,Ee=Zn(dt=>{if(this.disableTwoWayDataBinding)return;const ze=this.lastEditorData=G.data.get();this.$emit("update:modelValue",ze,dt,G),this.$emit("input",ze,dt,G)},300,{leading:!0});G.model.document.on("change:data",Ee),G.editing.view.document.on("focus",dt=>{this.$emit("focus",dt,G)}),G.editing.view.document.on("blur",dt=>{this.$emit("blur",dt,G)})}},render(){return(0,a.h)(this.tagName)}});if(!a.version||!a.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const Bt={install(G){G.component("Ckeditor",an)},component:an}})(),o=o.default})())})(Iv);var fT=Iv.exports;const hT=cT(fT);function aa(n){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(n)}function fp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function mT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fp(Object(t),!0).forEach(function(i){pT(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pT(n,e,t){return e=gT(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gT(n){var e=bT(n,"string");return aa(e)=="symbol"?e:String(e)}function bT(n,e){if(aa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(aa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Su=Je.extend({name:"common",loadGlobalStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ov(e,mT({name:"global"},t))}});function la(n){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(n)}function vT(n){return Lv(n)||yT(n)||Mv(n)||Rv()}function yT(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function bl(n,e){return Lv(n)||wT(n,e)||Mv(n,e)||Rv()}function Rv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mv(n,e){if(n){if(typeof n=="string")return hp(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hp(n,e)}}function hp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function wT(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,o,a=[],l=!0,c=!1;try{if(r=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function Lv(n){if(Array.isArray(n))return n}function mp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mp(Object(t),!0).forEach(function(i){Vl(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Vl(n,e,t){return e=_T(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _T(n){var e=CT(n,"string");return la(e)=="symbol"?e:String(e)}function CT(n,e){if(la(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(la(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ut={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var t,i;Su.loadStyle({nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(i=this.$config)===null||i===void 0||(i=i.csp)===null||i===void 0?void 0:i.nonce})}}}},beforeCreate:function(){var e,t,i,s,r,o,a,l,c,u,d,f=(e=this.pt)===null||e===void 0?void 0:e._usept,h=f?(t=this.pt)===null||t===void 0||(t=t.originalValue)===null||t===void 0?void 0:t[this.$.type.name]:void 0,m=f?(i=this.pt)===null||i===void 0||(i=i.value)===null||i===void 0?void 0:i[this.$.type.name]:this.pt;(s=m||h)===null||s===void 0||(s=s.hooks)===null||s===void 0||(r=s.onBeforeCreate)===null||r===void 0||r.call(s);var p=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,v=p?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,_=p?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0?void 0:c.pt;(u=_||v)===null||u===void 0||(u=u[this.$.type.name])===null||u===void 0||(u=u.hooks)===null||u===void 0||(d=u.onBeforeCreate)===null||d===void 0||d.call(u)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;Je.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var t=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),i=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));t==null||t(),i==null||i()}},_mergeProps:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return ve.isFunction(e)?e.apply(void 0,i):B.apply(void 0,i)},_loadGlobalStyles:function(){var e,t=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);ve.isNotEmpty(t)&&Su.loadGlobalStyle(t,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var t;return this[e]||((t=this._getHostInstance(this))===null||t===void 0?void 0:t[e])},_getOptionValue:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ve.toFlatCase(t).split("."),r=s.shift();return r?ve.isObject(e)?this._getOptionValue(ve.getItemValue(e[Object.keys(e).find(function(o){return ve.toFlatCase(o)===r})||""],i),s.join("."),i):void 0:ve.getItemValue(e,i)},_getPTValue:function(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(i)&&!!s[i.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,d=u===void 0?!1:u,f=r?o?this._useGlobalPT(this._getPTClassValue,i,s):this._useDefaultPT(this._getPTClassValue,i,s):void 0,h=o?void 0:this._getPTSelf(t,this._getPTClassValue,i,et(et({},s),{},{global:f||{}})),m=this._getPTDatasets(i);return c||!c&&h?d?this._mergeProps(d,f,h,m):et(et(et({},f),h),m):et(et({},h),m)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return B(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(i)),this._usePT.apply(this,[this.$_attrsPT].concat(i)))},_getPTDatasets:function(){var e,t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s="data-pc-",r=i==="root"&&ve.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return i!=="transition"&&et(et({},i==="root"&&et(Vl({},"".concat(s,"name"),ve.toFlatCase(r?(t=this.pt)===null||t===void 0?void 0:t["data-pc-section"]:this.$.type.name)),r&&Vl({},"".concat(s,"extend"),ve.toFlatCase(this.$.type.name)))),{},Vl({},"".concat(s,"section"),ve.toFlatCase(i)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return ve.isString(e)||ve.isArray(e)?{class:e}:e},_getPT:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0,r=function(a){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=s?s(a):a,d=ve.toFlatCase(i),f=ve.toFlatCase(t.$name);return(l=c?d!==f?u==null?void 0:u[d]:void 0:u==null?void 0:u[d])!==null&&l!==void 0?l:u};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:r(e.originalValue),value:r(e.value)}:r(e,!0)},_usePT:function(e,t,i,s){var r=function(p){return t(p,i,s)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,c=l===void 0?!0:l,u=a.mergeProps,d=u===void 0?!1:u,f=r(e.originalValue),h=r(e.value);return f===void 0&&h===void 0?void 0:ve.isString(h)?h:ve.isString(f)?f:c||!c&&h?d?this._mergeProps(d,f,h):et(et({},f),h):h}return r(e)},_useGlobalPT:function(e,t,i){return this._usePT(this.globalPT,e,t,i)},_useDefaultPT:function(e,t,i){return this._usePT(this.defaultPT,e,t,i)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,et(et({},this.$params),t))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return B(this.$_attrsNoPT,this.ptm(e,t))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,t,et({instance:this},i),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,et(et({},this.$params),t))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t){var s=this._getOptionValue(this.$style.inlineStyles,e,et(et({},this.$params),i)),r=this._getOptionValue(Su.inlineStyles,e,et(et({},this.$params),i));return[r,s]}}},computed:{globalPT:function(){var e,t=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(i){return ve.getItemValue(i,{instance:t})})},defaultPT:function(){var e,t=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(i){return t._getOptionValue(i,t.$name,et({},t.$params))||ve.getItemValue(i,et({},t.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return et(et({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=bl(e,1),i=t[0];return i==null?void 0:i.startsWith("pt:")}).reduce(function(e,t){var i=bl(t,2),s=i[0],r=i[1],o=s.split(":"),a=vT(o),l=a.slice(1);return l==null||l.reduce(function(c,u,d,f){return!c[u]&&(c[u]=d===f.length-1?r:{}),c[u]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var t=bl(e,1),i=t[0];return!(i!=null&&i.startsWith("pt:"))}).reduce(function(e,t){var i=bl(t,2),s=i[0],r=i[1];return e[s]=r,e},{})}}},kT={root:{position:"relative"}},ET={root:function(e){var t=e.props;return["p-skeleton p-component",{"p-skeleton-circle":t.shape==="circle","p-skeleton-none":t.animation==="none"}]}},TT=Je.extend({name:"skeleton",classes:ET,inlineStyles:kT}),ST={name:"BaseSkeleton",extends:ut,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:TT,provide:function(){return{$parentInstance:this}}},rt={name:"Skeleton",extends:ST,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function PT(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root"),style:[n.sx("root"),r.containerStyle],"aria-hidden":"true"},n.ptmi("root")),null,16)}rt.render=PT;const AT={class:"flexColumn alignStretch"},xT={class:"flexRow alignCenter wide alignSelfCenter"},OT={class:"flexColumn"},IT={class:"flexRow alignSelfCenter"},RT={class:"flexRow alignSelfCenter"},MT=Ct({__name:"UserSkeleton",setup(n){return(e,t)=>(S(),$("div",AT,[I(A(rt),{height:"4rem"}),R("div",xT,[I(A(rt),{shape:"circle",size:"5rem"}),R("div",OT,[I(A(rt),{width:"10rem",height:"2rem"}),I(A(rt),{width:"10rem",height:"2rem"}),I(A(rt),{width:"10rem",height:"2rem"})])]),R("div",IT,[I(A(rt),{width:"19vw",height:"50vh"}),I(A(rt),{width:"19vw",height:"50vh"}),I(A(rt),{width:"19vw",height:"50vh"})]),R("div",RT,[I(A(rt),{width:"19vw",height:"50vh"}),I(A(rt),{width:"19vw",height:"50vh"}),I(A(rt),{width:"19vw",height:"50vh"})])]))}}),LT={class:"flexColumn alignCenter"},BT={class:"flexRow alignCenter wide alignSelfCenter"},DT={class:"flexColumn alignStretch"},VT=Ct({__name:"CourseSkeleton",setup(n){return(e,t)=>(S(),$("div",LT,[I(A(rt),{height:"4rem",class:"alignSelfStretch"}),R("div",BT,[I(A(rt),{width:"19vw",height:"50vh"}),R("div",DT,[I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"}),I(A(rt),{width:"50vw",height:"2rem"})])])]))}});function Bv(n,e){return function(){return n.apply(e,arguments)}}const{toString:$T}=Object.prototype,{getPrototypeOf:lh}=Object,jc=(n=>e=>{const t=$T.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ci=n=>(n=n.toLowerCase(),e=>jc(e)===n),Uc=n=>e=>typeof e===n,{isArray:no}=Array,ca=Uc("undefined");function FT(n){return n!==null&&!ca(n)&&n.constructor!==null&&!ca(n.constructor)&&Sn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Dv=ci("ArrayBuffer");function NT(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Dv(n.buffer),e}const HT=Uc("string"),Sn=Uc("function"),Vv=Uc("number"),zc=n=>n!==null&&typeof n=="object",jT=n=>n===!0||n===!1,$l=n=>{if(jc(n)!=="object")return!1;const e=lh(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},UT=ci("Date"),zT=ci("File"),WT=ci("Blob"),KT=ci("FileList"),qT=n=>zc(n)&&Sn(n.pipe),GT=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Sn(n.append)&&((e=jc(n))==="formdata"||e==="object"&&Sn(n.toString)&&n.toString()==="[object FormData]"))},ZT=ci("URLSearchParams"),JT=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function za(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),no(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function $v(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const Fv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nv=n=>!ca(n)&&n!==Fv;function Rd(){const{caseless:n}=Nv(this)&&this||{},e={},t=(i,s)=>{const r=n&&$v(e,s)||s;$l(e[r])&&$l(i)?e[r]=Rd(e[r],i):$l(i)?e[r]=Rd({},i):no(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&za(arguments[i],t);return e}const YT=(n,e,t,{allOwnKeys:i}={})=>(za(e,(s,r)=>{t&&Sn(s)?n[r]=Bv(s,t):n[r]=s},{allOwnKeys:i}),n),XT=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QT=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},eS=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&lh(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},tS=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},nS=n=>{if(!n)return null;if(no(n))return n;let e=n.length;if(!Vv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},iS=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&lh(Uint8Array)),sS=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},rS=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},oS=ci("HTMLFormElement"),aS=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),pp=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),lS=ci("RegExp"),Hv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};za(t,(s,r)=>{let o;(o=e(s,r,n))!==!1&&(i[r]=o||s)}),Object.defineProperties(n,i)},cS=n=>{Hv(n,(e,t)=>{if(Sn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Sn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},uS=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return no(n)?i(n):i(String(n).split(e)),t},dS=()=>{},fS=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Pu="abcdefghijklmnopqrstuvwxyz",gp="0123456789",jv={DIGIT:gp,ALPHA:Pu,ALPHA_DIGIT:Pu+Pu.toUpperCase()+gp},hS=(n=16,e=jv.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function mS(n){return!!(n&&Sn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const pS=n=>{const e=new Array(10),t=(i,s)=>{if(zc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=no(i)?[]:{};return za(i,(o,a)=>{const l=t(o,s+1);!ca(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},gS=ci("AsyncFunction"),bS=n=>n&&(zc(n)||Sn(n))&&Sn(n.then)&&Sn(n.catch),N={isArray:no,isArrayBuffer:Dv,isBuffer:FT,isFormData:GT,isArrayBufferView:NT,isString:HT,isNumber:Vv,isBoolean:jT,isObject:zc,isPlainObject:$l,isUndefined:ca,isDate:UT,isFile:zT,isBlob:WT,isRegExp:lS,isFunction:Sn,isStream:qT,isURLSearchParams:ZT,isTypedArray:iS,isFileList:KT,forEach:za,merge:Rd,extend:YT,trim:JT,stripBOM:XT,inherits:QT,toFlatObject:eS,kindOf:jc,kindOfTest:ci,endsWith:tS,toArray:nS,forEachEntry:sS,matchAll:rS,isHTMLForm:oS,hasOwnProperty:pp,hasOwnProp:pp,reduceDescriptors:Hv,freezeMethods:cS,toObjectSet:uS,toCamelCase:aS,noop:dS,toFiniteNumber:fS,findKey:$v,global:Fv,isContextDefined:Nv,ALPHABET:jv,generateString:hS,isSpecCompliantForm:mS,toJSONObject:pS,isAsyncFn:gS,isThenable:bS};function De(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}N.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Uv=De.prototype,zv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{zv[n]={value:n}});Object.defineProperties(De,zv);Object.defineProperty(Uv,"isAxiosError",{value:!0});De.from=(n,e,t,i,s,r)=>{const o=Object.create(Uv);return N.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),De.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const vS=null;function Md(n){return N.isPlainObject(n)||N.isArray(n)}function Wv(n){return N.endsWith(n,"[]")?n.slice(0,-2):n}function bp(n,e,t){return n?n.concat(e).map(function(s,r){return s=Wv(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function yS(n){return N.isArray(n)&&!n.some(Md)}const wS=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Wc(n,e,t){if(!N.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=N.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!N.isUndefined(v[p])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(N.isDate(m))return m.toISOString();if(!l&&N.isBlob(m))throw new De("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(m)||N.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,v){let _=m;if(m&&!v&&typeof m=="object"){if(N.endsWith(p,"{}"))p=i?p:p.slice(0,-2),m=JSON.stringify(m);else if(N.isArray(m)&&yS(m)||(N.isFileList(m)||N.endsWith(p,"[]"))&&(_=N.toArray(m)))return p=Wv(p),_.forEach(function(w,C){!(N.isUndefined(w)||w===null)&&e.append(o===!0?bp([p],C,r):o===null?p:p+"[]",c(w))}),!1}return Md(m)?!0:(e.append(bp(v,p,r),c(m)),!1)}const d=[],f=Object.assign(wS,{defaultVisitor:u,convertValue:c,isVisitable:Md});function h(m,p){if(!N.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),N.forEach(m,function(_,E){(!(N.isUndefined(_)||_===null)&&s.call(e,_,N.isString(E)?E.trim():E,p,f))===!0&&h(_,p?p.concat(E):[E])}),d.pop()}}if(!N.isObject(n))throw new TypeError("data must be an object");return h(n),e}function vp(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ch(n,e){this._pairs=[],n&&Wc(n,this,e)}const Kv=ch.prototype;Kv.append=function(e,t){this._pairs.push([e,t])};Kv.toString=function(e){const t=e?function(i){return e.call(this,i,vp)}:vp;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function _S(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qv(n,e,t){if(!e)return n;const i=t&&t.encode||_S,s=t&&t.serialize;let r;if(s?r=s(e,t):r=N.isURLSearchParams(e)?e.toString():new ch(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class yp{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Gv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CS=typeof URLSearchParams<"u"?URLSearchParams:ch,kS=typeof FormData<"u"?FormData:null,ES=typeof Blob<"u"?Blob:null,TS={isBrowser:!0,classes:{URLSearchParams:CS,FormData:kS,Blob:ES},protocols:["http","https","file","blob","url","data"]},Zv=typeof window<"u"&&typeof document<"u",SS=(n=>Zv&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),PS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zv,hasStandardBrowserEnv:SS,hasStandardBrowserWebWorkerEnv:PS},Symbol.toStringTag,{value:"Module"})),ti={...AS,...TS};function xS(n,e){return Wc(n,new ti.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return ti.isNode&&N.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function OS(n){return N.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IS(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function Jv(n){function e(t,i,s,r){let o=t[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&N.isArray(s)?s.length:o,l?(N.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!N.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&N.isArray(s[o])&&(s[o]=IS(s[o])),!a)}if(N.isFormData(n)&&N.isFunction(n.entries)){const t={};return N.forEachEntry(n,(i,s)=>{e(OS(i),s,t,0)}),t}return null}function RS(n,e,t){if(N.isString(n))try{return(e||JSON.parse)(n),N.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Wa={transitional:Gv,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=N.isObject(e);if(r&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return s?JSON.stringify(Jv(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xS(e,this.formSerializer).toString();if((a=N.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),RS(e)):e}],transformResponse:[function(e){const t=this.transitional||Wa.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&N.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?De.from(a,De.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ti.classes.FormData,Blob:ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],n=>{Wa.headers[n]={}});const MS=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LS=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&MS[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},wp=Symbol("internals");function mo(n){return n&&String(n).trim().toLowerCase()}function Fl(n){return n===!1||n==null?n:N.isArray(n)?n.map(Fl):String(n)}function BS(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const DS=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Au(n,e,t,i,s){if(N.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!N.isString(e)){if(N.isString(i))return e.indexOf(i)!==-1;if(N.isRegExp(i))return i.test(e)}}function VS(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function $S(n,e){const t=N.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Pn{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=mo(l);if(!u)throw new Error("header name must be a non-empty string");const d=N.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Fl(a))}const o=(a,l)=>N.forEach(a,(c,u)=>r(c,u,l));return N.isPlainObject(e)||e instanceof this.constructor?o(e,t):N.isString(e)&&(e=e.trim())&&!DS(e)?o(LS(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=mo(e),e){const i=N.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return BS(s);if(N.isFunction(t))return t.call(this,s,i);if(N.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=mo(e),e){const i=N.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Au(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=mo(o),o){const a=N.findKey(i,o);a&&(!t||Au(i,i[a],a,t))&&(delete i[a],s=!0)}}return N.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||Au(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return N.forEach(this,(s,r)=>{const o=N.findKey(i,r);if(o){t[o]=Fl(s),delete t[r];return}const a=e?VS(r):String(r).trim();a!==r&&delete t[r],t[a]=Fl(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&N.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[wp]=this[wp]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=mo(o);i[a]||($S(s,o),i[a]=!0)}return N.isArray(e)?e.forEach(r):r(e),this}}Pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Pn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});N.freezeMethods(Pn);function xu(n,e){const t=this||Wa,i=e||t,s=Pn.from(i.headers);let r=i.data;return N.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function Yv(n){return!!(n&&n.__CANCEL__)}function Ka(n,e,t){De.call(this,n??"canceled",De.ERR_CANCELED,e,t),this.name="CanceledError"}N.inherits(Ka,De,{__CANCEL__:!0});function FS(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new De("Request failed with status code "+t.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const NS=ti.hasStandardBrowserEnv?{write(n,e,t,i,s,r){const o=[n+"="+encodeURIComponent(e)];N.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),N.isString(i)&&o.push("path="+i),N.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HS(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jS(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Xv(n,e){return n&&!HS(e)?jS(n,e):e}const US=ti.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=N.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function zS(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function WS(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function _p(n,e){let t=0;const i=WS(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const KS=typeof XMLHttpRequest<"u",qS=KS&&function(n){return new Promise(function(t,i){let s=n.data;const r=Pn.from(n.headers).normalize();let{responseType:o,withXSRFToken:a}=n,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let u;if(N.isFormData(s)){if(ti.hasStandardBrowserEnv||ti.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((u=r.getContentType())!==!1){const[p,...v]=u?u.split(";").map(_=>_.trim()).filter(Boolean):[];r.setContentType([p||"multipart/form-data",...v].join("; "))}}let d=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",v=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(p+":"+v))}const f=Xv(n.baseURL,n.url);d.open(n.method.toUpperCase(),qv(f,n.params,n.paramsSerializer),!0),d.timeout=n.timeout;function h(){if(!d)return;const p=Pn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:n,request:d};FS(function(w){t(w),c()},function(w){i(w),c()},_),d=null}if("onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(i(new De("Request aborted",De.ECONNABORTED,n,d)),d=null)},d.onerror=function(){i(new De("Network Error",De.ERR_NETWORK,n,d)),d=null},d.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||Gv;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),i(new De(v,_.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,n,d)),d=null},ti.hasStandardBrowserEnv&&(a&&N.isFunction(a)&&(a=a(n)),a||a!==!1&&US(f))){const p=n.xsrfHeaderName&&n.xsrfCookieName&&NS.read(n.xsrfCookieName);p&&r.set(n.xsrfHeaderName,p)}s===void 0&&r.setContentType(null),"setRequestHeader"in d&&N.forEach(r.toJSON(),function(v,_){d.setRequestHeader(_,v)}),N.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),o&&o!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",_p(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",_p(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=p=>{d&&(i(!p||p.type?new Ka(null,n,d):p),d.abort(),d=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const m=zS(f);if(m&&ti.protocols.indexOf(m)===-1){i(new De("Unsupported protocol "+m+":",De.ERR_BAD_REQUEST,n));return}d.send(s||null)})},Ld={http:vS,xhr:qS};N.forEach(Ld,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Cp=n=>`- ${n}`,GS=n=>N.isFunction(n)||n===null||n===!1,Qv={getAdapter:n=>{n=N.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let r=0;r<e;r++){t=n[r];let o;if(i=t,!GS(t)&&(i=Ld[(o=String(t)).toLowerCase()],i===void 0))throw new De(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Cp).join(`
`):" "+Cp(r[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Ld};function Ou(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ka(null,n)}function kp(n){return Ou(n),n.headers=Pn.from(n.headers),n.data=xu.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Qv.getAdapter(n.adapter||Wa.adapter)(n).then(function(i){return Ou(n),i.data=xu.call(n,n.transformResponse,i),i.headers=Pn.from(i.headers),i},function(i){return Yv(i)||(Ou(n),i&&i.response&&(i.response.data=xu.call(n,n.transformResponse,i.response),i.response.headers=Pn.from(i.response.headers))),Promise.reject(i)})}const Ep=n=>n instanceof Pn?{...n}:n;function jr(n,e){e=e||{};const t={};function i(c,u,d){return N.isPlainObject(c)&&N.isPlainObject(u)?N.merge.call({caseless:d},c,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function s(c,u,d){if(N.isUndefined(u)){if(!N.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function r(c,u){if(!N.isUndefined(u))return i(void 0,u)}function o(c,u){if(N.isUndefined(u)){if(!N.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Ep(c),Ep(u),!0)};return N.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);N.isUndefined(f)&&d!==a||(t[u]=f)}),t}const ey="1.6.8",uh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uh[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Tp={};uh.transitional=function(e,t,i){function s(r,o){return"[Axios v"+ey+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new De(s(o," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!Tp[o]&&(Tp[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function ZS(n,e,t){if(typeof n!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new De("option "+r+" must be "+l,De.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new De("Unknown option "+r,De.ERR_BAD_OPTION)}}const Bd={assertOptions:ZS,validators:uh},zi=Bd.validators;class Ds{constructor(e){this.defaults=e,this.interceptors={request:new yp,response:new yp}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=jr(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&Bd.assertOptions(i,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),s!=null&&(N.isFunction(s)?t.paramsSerializer={serialize:s}:Bd.assertOptions(s,{encode:zi.function,serialize:zi.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&N.merge(r.common,r[t.method]);r&&N.forEach(["delete","get","head","post","put","patch","common"],m=>{delete r[m]}),t.headers=Pn.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,f;if(!l){const m=[kp.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(t);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let h=t;for(d=0;d<f;){const m=a[d++],p=a[d++];try{h=m(h)}catch(v){p.call(this,v);break}}try{u=kp.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=jr(this.defaults,e);const t=Xv(e.baseURL,e.url);return qv(t,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(t,i){return this.request(jr(i||{},{method:e,url:t,data:(i||{}).data}))}});N.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(jr(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ds.prototype[e]=t(),Ds.prototype[e+"Form"]=t(!0)});class dh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Ka(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new dh(function(s){e=s}),cancel:e}}}function JS(n){return function(t){return n.apply(null,t)}}function YS(n){return N.isObject(n)&&n.isAxiosError===!0}const Dd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dd).forEach(([n,e])=>{Dd[e]=n});function ty(n){const e=new Ds(n),t=Bv(Ds.prototype.request,e);return N.extend(t,Ds.prototype,e,{allOwnKeys:!0}),N.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return ty(jr(n,s))},t}const Pe=ty(Wa);Pe.Axios=Ds;Pe.CanceledError=Ka;Pe.CancelToken=dh;Pe.isCancel=Yv;Pe.VERSION=ey;Pe.toFormData=Wc;Pe.AxiosError=De;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=JS;Pe.isAxiosError=YS;Pe.mergeConfig=jr;Pe.AxiosHeaders=Pn;Pe.formToJSON=n=>Jv(N.isHTMLForm(n)?new FormData(n):n);Pe.getAdapter=Qv.getAdapter;Pe.HttpStatusCode=Dd;Pe.default=Pe;function Vs(){return document.querySelector("input").value}function An(n){console.log(n)}function ny(n){const e=`${n.name.slice(0,1)}.`,t=n.father_name?`${n.father_name.slice(0,1)}.`:"";return`${n.surname} ${e} ${t}`}function fh(n){const e=n.father_name??"";return`${n.surname} ${n.name} ${e}`}const qa="http://127.0.0.1:8000/api",iy=`${qa}/userapp`,XS=`${iy}/students/`,QS=`${iy}/teachers/`,Ga=`${qa}/courseapp`,Vd=`${Ga}/courses/`,Iu=`${Ga}/modules/`,Ru=`${Ga}/lessons/`,e3=`${Ga}/lesson-other-files/`,sy=`${Ga}/enrollments/`,ry=`${qa}/checkpointapp`,$d=`${ry}/checkpoints/`,oy=`${ry}/passed-checkpoints/`,t3=`${qa}/history`,n3=`${t3}/history-of-passed-answers/`,hh=`${qa}/authapp`,i3=`${hh}/login/`,s3=`${hh}/logout/`,r3=`${hh}/current-user/`,wi={params:{format:"json"}};async function Lr(n,e){return(await Pe.get(`${n}${e}/`,wi)).data}const ni={async student(n){return await Lr(XS,n)},async studentCourses(n){const e=await this.studentEnrollments(n),t=[];for(const i of e)t.push(await Kt.course(i.course));return t},async studentHasCourse(n,e){return(await this.studentCourses(n)).some(i=>i.id===e)},async studentEnrollments(n){const e=structuredClone(wi);return e.params.student=n,(await Pe.get(sy,e)).data},async studentGradesInCourse(n,e){const t=await Kt.courseCheckpoints(e),i=[];for(const s of t){const r={number:s.checkpoint_number,name:s.name,grade:await this.getStudentGradeOnCheckpoint(n,s.id)};i.push(r)}return i},async studentPassedCheckpoints(n){const e=structuredClone(wi);return e.params.student=n,(await Pe.get(oy,e)).data},async getStudentGradeOnCheckpoint(n,e){let t=await this.studentPassedCheckpoints(n);if(t=t.filter(a=>a.checkpoint===e),!t.length)return"-";const i=t[0],s=await sc.checkpoint(e);let r=0;for(const a of s.questions)r+=a.max_points;let o=i.points/r;return o>.8?5:o>.6?4:o>.4?3:2},async teacher(n){return await Lr(QS,n)},async teacherCourses(n){const e=structuredClone(wi);return e.params.teacher_profile=n,(await Pe.get(Vd,e)).data}},Kt={async course(n){return await Lr(Vd,n)},async courseStudents(n){const e=await this.courseEnrollments(n),t=[];for(const i of e)t.push(await ni.student(i.student));return t},async courseModules(n){const e=structuredClone(wi);return e.params.course=n,(await Pe.get(Iu,e)).data},async courseEnrollments(n){const e=structuredClone(wi);return e.params.course=n,(await Pe.get(sy,e)).data},async courseCheckpoints(n){const e=await this.courseModules(n),t=[];for(const i of e){const s=await this.moduleCheckpoints(i.id);for(const r of s)t.push(r)}return t},async numberOfLastCheckpointInCourse(n){return(await this.courseCheckpoints(n)).length},async addCourse(n,e,t,i){return(await Pe.postForm(Vd,{course_name:n,description:e,status:!0,teacher_profile:t,image:"",password:i,csrfmiddlewaretoken:Vs()})).data},async module(n){return await Lr(Iu,n)},async moduleLessons(n){const e=structuredClone(wi);return e.params.module=n,(await Pe.get(Ru,e)).data},async moduleCheckpoints(n){const e=structuredClone(wi);return e.params.module=n,(await Pe.get($d,e)).data},async addModule(n,e){return(await Pe.postForm(Iu,{name:n,course:e,status:!0,csrfmiddlewaretoken:Vs()})).data},async lesson(n){return await Lr(Ru,n)},async lessonFiles(n){const e=structuredClone(wi);return e.params.lesson=n,(await Pe.get(e3,e)).data},async addLesson(n,e){return(await Pe.postForm(Ru,{name:n,description:"",module:e,video:"",status:!0,csrfmiddlewaretoken:Vs()})).data}},sc={async checkpoint(n){return await Lr($d,n)},async addCheckpoint(n,e){return(await Pe.postForm($d,{name:n,module:e,checkpoint_number:await Kt.numberOfLastCheckpointInCourse((await Kt.module(e)).course)+1,csrfmiddlewaretoken:Vs()})).data},async sendResult(n,e){return(await Pe.postForm(oy,{student:n,checkpoint:e,points:0,csrfmiddlewaretoken:Vs()})).data}},o3={async sendQuestionChoice(n,e,t,i){return(await Pe.postForm(n3,{student:n,question:e,selected_answer:t,checkpoint:i,csrfmiddlewaretoken:Vs()})).data}},Br={async userSignedIn(){return!!(await this.currentUser()).id},async signIn(n,e){await Pe.postForm(i3,{username:n,password:e,csrfmiddlewaretoken:Vs()})},async signOut(){await Pe.get(s3)},async currentUser(){return(await Pe.get(r3)).data}};var xs=(n=>(n[n.Guest=0]="Guest",n[n.Student=1]="Student",n[n.Teacher=2]="Teacher",n))(xs||{}),Nl=(n=>(n.Success="success",n.Warn="warn",n.Error="error",n))(Nl||{});const a3="user",ui=Yk(a3,()=>{const n=se(0),e=se(xs.Guest),t=se(""),i=se(""),s=se(""),r=se(""),o=se(""),a=se(""),l=Ne(()=>e.value===xs.Student),c=Ne(()=>e.value===xs.Teacher),u=Ne(()=>fh({surname:t.value,name:i.value,father_name:s.value}));async function d(){const f=(await Br.currentUser()).user_profile;n.value=f.id,e.value=f.is_teacher?xs.Teacher:xs.Student,t.value=f.surname,i.value=f.name,s.value=f.father_name,r.value=f.faculty,o.value="group"in f?f.group:"",a.value=f.avatar}return{id:n,role:e,surname:t,name:i,fatherName:s,faculty:r,group:o,avatar:a,isStudent:l,isTeacher:c,fullName:u,loadData:d}});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yr=typeof document<"u";function l3(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const je=Object.assign;function Mu(n,e){const t={};for(const i in e){const s=e[i];t[i]=jn(s)?s.map(n):n(s)}return t}const No=()=>{},jn=Array.isArray,ay=/#/g,c3=/&/g,u3=/\//g,d3=/=/g,f3=/\?/g,ly=/\+/g,h3=/%5B/g,m3=/%5D/g,cy=/%5E/g,p3=/%60/g,uy=/%7B/g,g3=/%7C/g,dy=/%7D/g,b3=/%20/g;function mh(n){return encodeURI(""+n).replace(g3,"|").replace(h3,"[").replace(m3,"]")}function v3(n){return mh(n).replace(uy,"{").replace(dy,"}").replace(cy,"^")}function Fd(n){return mh(n).replace(ly,"%2B").replace(b3,"+").replace(ay,"%23").replace(c3,"%26").replace(p3,"`").replace(uy,"{").replace(dy,"}").replace(cy,"^")}function y3(n){return Fd(n).replace(d3,"%3D")}function w3(n){return mh(n).replace(ay,"%23").replace(f3,"%3F")}function _3(n){return n==null?"":w3(n).replace(u3,"%2F")}function ua(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const C3=/\/$/,k3=n=>n.replace(C3,"");function Lu(n,e,t="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=n(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=P3(i??e,t),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:ua(o)}}function E3(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Sp(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function T3(n,e,t){const i=e.matched.length-1,s=t.matched.length-1;return i>-1&&i===s&&Ur(e.matched[i],t.matched[s])&&fy(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ur(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function fy(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!S3(n[t],e[t]))return!1;return!0}function S3(n,e){return jn(n)?Pp(n,e):jn(e)?Pp(e,n):n===e}function Pp(n,e){return jn(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function P3(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=t.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var da;(function(n){n.pop="pop",n.push="push"})(da||(da={}));var Ho;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Ho||(Ho={}));function A3(n){if(!n)if(yr){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),k3(n)}const x3=/^[^#]+#/;function O3(n,e){return n.replace(x3,"#")+e}function I3(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Kc=()=>({left:window.scrollX,top:window.scrollY});function R3(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=I3(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ap(n,e){return(history.state?history.state.position-e:-1)+n}const Nd=new Map;function M3(n,e){Nd.set(n,e)}function L3(n){const e=Nd.get(n);return Nd.delete(n),e}let B3=()=>location.protocol+"//"+location.host;function hy(n,e){const{pathname:t,search:i,hash:s}=e,r=n.indexOf("#");if(r>-1){let a=s.includes(n.slice(r))?n.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Sp(l,"")}return Sp(t,n)+i+s}function D3(n,e,t,i){let s=[],r=[],o=null;const a=({state:f})=>{const h=hy(n,location),m=t.value,p=e.value;let v=0;if(f){if(t.value=h,e.value=f,o&&o===m){o=null;return}v=p?f.position-p.position:0}else i(h);s.forEach(_=>{_(t.value,m,{delta:v,type:da.pop,direction:v?v>0?Ho.forward:Ho.back:Ho.unknown})})};function l(){o=t.value}function c(f){s.push(f);const h=()=>{const m=s.indexOf(f);m>-1&&s.splice(m,1)};return r.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(je({},f.state,{scroll:Kc()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function xp(n,e,t,i=!1,s=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:s?Kc():null}}function V3(n){const{history:e,location:t}=window,i={value:hy(n,t)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=n.indexOf("#"),f=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+l:B3()+n+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),t[u?"replace":"assign"](f)}}function o(l,c){const u=je({},e.state,xp(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=je({},s.value,e.state,{forward:l,scroll:Kc()});r(u.current,u,!0);const d=je({},xp(i.value,l,null),{position:u.position+1},c);r(l,d,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function $3(n){n=A3(n);const e=V3(n),t=D3(n,e.state,e.location,e.replace);function i(r,o=!0){o||t.pauseListeners(),history.go(r)}const s=je({location:"",base:n,go:i,createHref:O3.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function F3(n){return typeof n=="string"||n&&typeof n=="object"}function my(n){return typeof n=="string"||typeof n=="symbol"}const Wi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},py=Symbol("");var Op;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Op||(Op={}));function zr(n,e){return je(new Error,{type:n,[py]:!0},e)}function di(n,e){return n instanceof Error&&py in n&&(e==null||!!(n.type&e))}const Ip="[^/]+?",N3={sensitive:!1,strict:!1,start:!0,end:!0},H3=/[.+*?^${}()[\]/\\]/g;function j3(n,e){const t=je({},N3,e),i=[];let s=t.start?"^":"";const r=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(t.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(H3,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:p,optional:v,regexp:_}=f;r.push({name:m,repeatable:p,optional:v});const E=_||Ip;if(E!==Ip){h+=10;try{new RegExp(`(${E})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+C.message)}}let w=p?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(w=v&&c.length<2?`(?:/${w})`:"/"+w),v&&(w+="?"),s+=w,h+=20,v&&(h+=-8),p&&(h+=-20),E===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&(s+="(?:/|$)");const o=new RegExp(s,t.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",m=r[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of n){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:v}=h,_=m in c?c[m]:"";if(jn(_)&&!p)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=jn(_)?_.join("/"):_;if(!E)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=E}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function U3(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function z3(n,e){let t=0;const i=n.score,s=e.score;for(;t<i.length&&t<s.length;){const r=U3(i[t],s[t]);if(r)return r;t++}if(Math.abs(s.length-i.length)===1){if(Rp(i))return 1;if(Rp(s))return-1}return s.length-i.length}function Rp(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const W3={type:0,value:""},K3=/[a-zA-Z0-9_]/;function q3(n){if(!n)return[[]];if(n==="/")return[[W3]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(h){throw new Error(`ERR (${t})/"${c}": ${h}`)}let t=0,i=t;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),t=1):f();break;case 4:f(),t=i;break;case 1:l==="("?t=2:K3.test(l)?f():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function G3(n,e,t){const i=j3(q3(n.path),t),s=je(i,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Z3(n,e){const t=[],i=new Map;e=Bp({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,d,f){const h=!f,m=J3(u);m.aliasOf=f&&f.record;const p=Bp(e,u),v=[m];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of w)v.push(je({},m,{components:f?f.record.components:m.components,path:C,aliasOf:f?f.record:m}))}let _,E;for(const w of v){const{path:C}=w;if(d&&C[0]!=="/"){const P=d.record.path,b=P[P.length-1]==="/"?"":"/";w.path=d.record.path+(C&&b+C)}if(_=G3(w,d,p),f?f.alias.push(_):(E=E||_,E!==_&&E.alias.push(_),h&&u.name&&!Lp(_)&&o(u.name)),m.children){const P=m.children;for(let b=0;b<P.length;b++)r(P[b],_,f&&f.children[b])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return E?()=>{o(E)}:No}function o(u){if(my(u)){const d=i.get(u);d&&(i.delete(u),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(u);d>-1&&(t.splice(d,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return t}function l(u){let d=0;for(;d<t.length&&z3(u,t[d])>=0&&(u.record.path!==t[d].record.path||!gy(u,t[d]));)d++;t.splice(d,0,u),u.record.name&&!Lp(u)&&i.set(u.record.name,u)}function c(u,d){let f,h={},m,p;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw zr(1,{location:u});p=f.record.name,h=je(Mp(d.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),u.params&&Mp(u.params,f.keys.map(E=>E.name))),m=f.stringify(h)}else if(u.path!=null)m=u.path,f=t.find(E=>E.re.test(m)),f&&(h=f.parse(m),p=f.record.name);else{if(f=d.name?i.get(d.name):t.find(E=>E.re.test(d.path)),!f)throw zr(1,{location:u,currentLocation:d});p=f.record.name,h=je({},d.params,u.params),m=f.stringify(h)}const v=[];let _=f;for(;_;)v.unshift(_.record),_=_.parent;return{name:p,path:m,params:h,matched:v,meta:X3(v)}}return n.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Mp(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function J3(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:Y3(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function Y3(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function Lp(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function X3(n){return n.reduce((e,t)=>je(e,t.meta),{})}function Bp(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function gy(n,e){return e.children.some(t=>t===n||gy(n,t))}function Q3(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(ly," "),o=r.indexOf("="),a=ua(o<0?r:r.slice(0,o)),l=o<0?null:ua(r.slice(o+1));if(a in e){let c=e[a];jn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Dp(n){let e="";for(let t in n){const i=n[t];if(t=y3(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(jn(i)?i.map(r=>r&&Fd(r)):[i&&Fd(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function e4(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=jn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const t4=Symbol(""),Vp=Symbol(""),qc=Symbol(""),ph=Symbol(""),Hd=Symbol("");function po(){let n=[];function e(i){return n.push(i),()=>{const s=n.indexOf(i);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function es(n,e,t,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(zr(4,{from:t,to:e})):f instanceof Error?l(f):F3(f)?l(zr(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>n.call(i&&i.instances[s],e,t,c));let d=Promise.resolve(u);n.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Bu(n,e,t,i,s=r=>r()){const r=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(n4(l)){const u=(l.__vccOpts||l)[e];u&&r.push(es(u,t,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=l3(u)?u.default:u;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&es(h,t,i,o,a,s)()}))}}return r}function n4(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function $p(n){const e=at(qc),t=at(ph),i=Ne(()=>{const l=A(n.to);return e.resolve(l)}),s=Ne(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=t.matched;if(!u||!d.length)return-1;const f=d.findIndex(Ur.bind(null,u));if(f>-1)return f;const h=Fp(l[c-2]);return c>1&&Fp(u)===h&&d[d.length-1].path!==h?d.findIndex(Ur.bind(null,l[c-2])):f}),r=Ne(()=>s.value>-1&&o4(t.params,i.value.params)),o=Ne(()=>s.value>-1&&s.value===t.matched.length-1&&fy(t.params,i.value.params));function a(l={}){return r4(l)?e[A(n.replace)?"replace":"push"](A(n.to)).catch(No):Promise.resolve()}return{route:i,href:Ne(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const i4=Ct({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$p,setup(n,{slots:e}){const t=Xs($p(n)),{options:i}=at(qc),s=Ne(()=>({[Np(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[Np(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&e.default(t);return n.custom?r:Fc("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},r)}}}),s4=i4;function r4(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function o4(n,e){for(const t in e){const i=e[t],s=n[t];if(typeof i=="string"){if(i!==s)return!1}else if(!jn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Fp(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Np=(n,e,t)=>n??e??t,a4=Ct({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=at(Hd),s=Ne(()=>n.route||i.value),r=at(Vp,0),o=Ne(()=>{let c=A(r);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ne(()=>s.value.matched[o.value]);rs(Vp,Ne(()=>o.value+1)),rs(t4,a),rs(Hd,s);const l=se();return ss(()=>[l.value,a.value,n.name],([c,u,d],[f,h,m])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Ur(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=s.value,u=n.name,d=a.value,f=d&&d.components[u];if(!f)return Hp(t.default,{Component:f,route:c});const h=d.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=Fc(f,je({},m,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Hp(t.default,{Component:v,route:c})||v}}});function Hp(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const l4=a4;function c4(n){const e=Z3(n.routes,n),t=n.parseQuery||Q3,i=n.stringifyQuery||Dp,s=n.history,r=po(),o=po(),a=po(),l=J0(Wi);let c=Wi;yr&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Mu.bind(null,V=>""+V),d=Mu.bind(null,_3),f=Mu.bind(null,ua);function h(V,te){let Y,ne;return my(V)?(Y=e.getRecordMatcher(V),ne=te):ne=V,e.addRoute(ne,Y)}function m(V){const te=e.getRecordMatcher(V);te&&e.removeRoute(te)}function p(){return e.getRoutes().map(V=>V.record)}function v(V){return!!e.getRecordMatcher(V)}function _(V,te){if(te=je({},te||l.value),typeof V=="string"){const y=Lu(t,V,te.path),O=e.resolve({path:y.path},te),H=s.createHref(y.fullPath);return je(y,O,{params:f(O.params),hash:ua(y.hash),redirectedFrom:void 0,href:H})}let Y;if(V.path!=null)Y=je({},V,{path:Lu(t,V.path,te.path).path});else{const y=je({},V.params);for(const O in y)y[O]==null&&delete y[O];Y=je({},V,{params:d(y)}),te.params=d(te.params)}const ne=e.resolve(Y,te),Se=V.hash||"";ne.params=u(f(ne.params));const He=E3(i,je({},V,{hash:v3(Se),path:ne.path})),g=s.createHref(He);return je({fullPath:He,hash:Se,query:i===Dp?e4(V.query):V.query||{}},ne,{redirectedFrom:void 0,href:g})}function E(V){return typeof V=="string"?Lu(t,V,l.value.path):je({},V)}function w(V,te){if(c!==V)return zr(8,{from:te,to:V})}function C(V){return M(V)}function P(V){return C(je(E(V),{replace:!0}))}function b(V){const te=V.matched[V.matched.length-1];if(te&&te.redirect){const{redirect:Y}=te;let ne=typeof Y=="function"?Y(V):Y;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=E(ne):{path:ne},ne.params={}),je({query:V.query,hash:V.hash,params:ne.path!=null?{}:V.params},ne)}}function M(V,te){const Y=c=_(V),ne=l.value,Se=V.state,He=V.force,g=V.replace===!0,y=b(Y);if(y)return M(je(E(y),{state:typeof y=="object"?je({},Se,y.state):Se,force:He,replace:g}),te||Y);const O=Y;O.redirectedFrom=te;let H;return!He&&T3(i,ne,Y)&&(H=zr(16,{to:O,from:ne}),an(ne,ne,!0,!1)),(H?Promise.resolve(H):z(O,ne)).catch(F=>di(F)?di(F,2)?F:Zn(F):le(F,O,ne)).then(F=>{if(F){if(di(F,2))return M(je({replace:g},E(F.to),{state:typeof F.to=="object"?je({},Se,F.to.state):Se,force:He}),te||O)}else F=W(O,ne,!0,g,Se);return re(O,ne,F),F})}function T(V,te){const Y=w(V,te);return Y?Promise.reject(Y):Promise.resolve()}function L(V){const te=Ee.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(V):V()}function z(V,te){let Y;const[ne,Se,He]=u4(V,te);Y=Bu(ne.reverse(),"beforeRouteLeave",V,te);for(const y of ne)y.leaveGuards.forEach(O=>{Y.push(es(O,V,te))});const g=T.bind(null,V,te);return Y.push(g),ze(Y).then(()=>{Y=[];for(const y of r.list())Y.push(es(y,V,te));return Y.push(g),ze(Y)}).then(()=>{Y=Bu(Se,"beforeRouteUpdate",V,te);for(const y of Se)y.updateGuards.forEach(O=>{Y.push(es(O,V,te))});return Y.push(g),ze(Y)}).then(()=>{Y=[];for(const y of He)if(y.beforeEnter)if(jn(y.beforeEnter))for(const O of y.beforeEnter)Y.push(es(O,V,te));else Y.push(es(y.beforeEnter,V,te));return Y.push(g),ze(Y)}).then(()=>(V.matched.forEach(y=>y.enterCallbacks={}),Y=Bu(He,"beforeRouteEnter",V,te,L),Y.push(g),ze(Y))).then(()=>{Y=[];for(const y of o.list())Y.push(es(y,V,te));return Y.push(g),ze(Y)}).catch(y=>di(y,8)?y:Promise.reject(y))}function re(V,te,Y){a.list().forEach(ne=>L(()=>ne(V,te,Y)))}function W(V,te,Y,ne,Se){const He=w(V,te);if(He)return He;const g=te===Wi,y=yr?history.state:{};Y&&(ne||g?s.replace(V.fullPath,je({scroll:g&&y&&y.scroll},Se)):s.push(V.fullPath,Se)),l.value=V,an(V,te,Y,g),Zn()}let de;function Le(){de||(de=s.listen((V,te,Y)=>{if(!dt.listening)return;const ne=_(V),Se=b(ne);if(Se){M(je(Se,{replace:!0}),ne).catch(No);return}c=ne;const He=l.value;yr&&M3(Ap(He.fullPath,Y.delta),Kc()),z(ne,He).catch(g=>di(g,12)?g:di(g,2)?(M(g.to,ne).then(y=>{di(y,20)&&!Y.delta&&Y.type===da.pop&&s.go(-1,!1)}).catch(No),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),le(g,ne,He))).then(g=>{g=g||W(ne,He,!1),g&&(Y.delta&&!di(g,8)?s.go(-Y.delta,!1):Y.type===da.pop&&di(g,20)&&s.go(-1,!1)),re(ne,He,g)}).catch(No)}))}let xe=po(),J=po(),be;function le(V,te,Y){Zn(V);const ne=J.list();return ne.length?ne.forEach(Se=>Se(V,te,Y)):console.error(V),Promise.reject(V)}function on(){return be&&l.value!==Wi?Promise.resolve():new Promise((V,te)=>{xe.add([V,te])})}function Zn(V){return be||(be=!V,Le(),xe.list().forEach(([te,Y])=>V?Y(V):te()),xe.reset()),V}function an(V,te,Y,ne){const{scrollBehavior:Se}=n;if(!yr||!Se)return Promise.resolve();const He=!Y&&L3(Ap(V.fullPath,0))||(ne||!Y)&&history.state&&history.state.scroll||null;return er().then(()=>Se(V,te,He)).then(g=>g&&R3(g)).catch(g=>le(g,V,te))}const Bt=V=>s.go(V);let G;const Ee=new Set,dt={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,hasRoute:v,getRoutes:p,resolve:_,options:n,push:C,replace:P,go:Bt,back:()=>Bt(-1),forward:()=>Bt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:J.add,isReady:on,install(V){const te=this;V.component("RouterLink",s4),V.component("RouterView",l4),V.config.globalProperties.$router=te,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>A(l)}),yr&&!G&&l.value===Wi&&(G=!0,C(s.location).catch(Se=>{}));const Y={};for(const Se in Wi)Object.defineProperty(Y,Se,{get:()=>l.value[Se],enumerable:!0});V.provide(qc,te),V.provide(ph,$f(Y)),V.provide(Hd,l);const ne=V.unmount;Ee.add(V),V.unmount=function(){Ee.delete(V),Ee.size<1&&(c=Wi,de&&de(),de=null,l.value=Wi,G=!1,be=!1),ne()}}};function ze(V){return V.reduce((te,Y)=>te.then(()=>L(Y)),Promise.resolve())}return dt}function u4(n,e){const t=[],i=[],s=[],r=Math.max(e.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(n.matched.find(c=>Ur(c,a))?i.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>Ur(c,l))||s.push(l))}return[t,i,s]}function by(){return at(qc)}function Za(){return at(ph)}var Ja={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=D.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function d4(n,e,t,i,s,r){return r.inline?Ie(n.$slots,"default",{key:0}):s.mounted?(S(),fe(Ub,{key:1,to:t.appendTo},[Ie(n.$slots,"default")],8,["to"])):me("",!0)}Ja.render=d4;function fa(n){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(n)}function vl(n,e,t){return e=f4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f4(n){var e=h4(n,"string");return fa(e)=="symbol"?e:String(e)}function h4(n,e){if(fa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(fa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var m4={root:function(e){var t=e.position;return{position:"fixed",top:t==="top-right"||t==="top-left"||t==="top-center"?"20px":t==="center"?"50%":null,right:(t==="top-right"||t==="bottom-right")&&"20px",bottom:(t==="bottom-left"||t==="bottom-right"||t==="bottom-center")&&"20px",left:t==="top-left"||t==="bottom-left"?"20px":t==="center"||t==="top-center"||t==="bottom-center"?"50%":null}}},p4={root:function(e){var t=e.props,i=e.instance;return["p-toast p-component p-toast-"+t.position,{"p-ripple-disabled":i.$primevue.config.ripple===!1}]},container:function(e){var t=e.props;return["p-toast-message",{"p-toast-message-info":t.message.severity==="info"||t.message.severity===void 0,"p-toast-message-warn":t.message.severity==="warn","p-toast-message-error":t.message.severity==="error","p-toast-message-success":t.message.severity==="success","p-toast-message-secondary":t.message.severity==="secondary","p-toast-message-contrast":t.message.severity==="contrast"}]},content:"p-toast-message-content",icon:function(e){var t=e.props;return["p-toast-message-icon",vl(vl(vl(vl({},t.infoIcon,t.message.severity==="info"),t.warnIcon,t.message.severity==="warn"),t.errorIcon,t.message.severity==="error"),t.successIcon,t.message.severity==="success")]},text:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-icon-close p-link",closeIcon:"p-toast-icon-close-icon"},g4=Je.extend({name:"toast",classes:p4,inlineStyles:m4}),b4=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,v4=Je.extend({name:"baseicon",css:b4});function ha(n){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(n)}function jp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Up(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jp(Object(t),!0).forEach(function(i){y4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function y4(n,e,t){return e=w4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function w4(n){var e=_4(n,"string");return ha(e)=="symbol"?e:String(e)}function _4(n,e){if(ha(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ha(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var On={name:"BaseIcon",extends:ut,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:v4,methods:{pti:function(){var e=ve.isEmpty(this.label);return Up(Up({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},jd={name:"CheckIcon",extends:On},C4=R("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),k4=[C4];function E4(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),k4,16)}jd.render=E4;var Ud={name:"ExclamationTriangleIcon",extends:On},T4=R("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"},null,-1),S4=R("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"},null,-1),P4=R("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"},null,-1),A4=[T4,S4,P4];function x4(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),A4,16)}Ud.render=x4;var zd={name:"InfoCircleIcon",extends:On},O4=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"},null,-1),I4=[O4];function R4(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),I4,16)}zd.render=R4;var gh={name:"TimesIcon",extends:On},M4=R("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),L4=[M4];function B4(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),L4,16)}gh.render=B4;var Wd={name:"TimesCircleIcon",extends:On},D4=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),V4=[D4];function $4(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),V4,16)}Wd.render=$4;var F4={root:"p-ink"},N4=Je.extend({name:"ripple",classes:F4}),H4=Be.extend({style:N4});function j4(n){return K4(n)||W4(n)||z4(n)||U4()}function U4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4(n,e){if(n){if(typeof n=="string")return Kd(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kd(n,e)}}function W4(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function K4(n){if(Array.isArray(n))return Kd(n)}function Kd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var Ya=H4.extend("ripple",{mounted:function(e){var t,i=e==null||(t=e.$instance)===null||t===void 0?void 0:t.$config;i&&i.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var t=D.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(t),this.$el=t},remove:function(e){var t=this.getInk(e);t&&(this.unbindEvents(e),t.removeEventListener("animationend",this.onAnimationEnd),t.remove())},onMouseDown:function(e){var t=this,i=e.currentTarget,s=this.getInk(i);if(!(!s||getComputedStyle(s,null).display==="none")){if(!this.isUnstyled()&&D.removeClass(s,"p-ink-active"),s.setAttribute("data-p-ink-active","false"),!D.getHeight(s)&&!D.getWidth(s)){var r=Math.max(D.getOuterWidth(i),D.getOuterHeight(i));s.style.height=r+"px",s.style.width=r+"px"}var o=D.getOffset(i),a=e.pageX-o.left+document.body.scrollTop-D.getWidth(s)/2,l=e.pageY-o.top+document.body.scrollLeft-D.getHeight(s)/2;s.style.top=l+"px",s.style.left=a+"px",!this.isUnstyled()&&D.addClass(s,"p-ink-active"),s.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){s&&(!t.isUnstyled()&&D.removeClass(s,"p-ink-active"),s.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&D.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?j4(e.children).find(function(t){return D.getAttribute(t,"data-pc-name")==="ripple"}):void 0}}}),q4={name:"BaseToast",extends:ut,props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:void 0},infoIcon:{type:String,default:void 0},warnIcon:{type:String,default:void 0},errorIcon:{type:String,default:void 0},successIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null}},style:g4,provide:function(){return{$parentInstance:this}}},vy={name:"ToastMessage",hostName:"Toast",extends:ut,emits:["close"],closeTimeout:null,props:{message:{type:null,default:null},templates:{type:Object,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},mounted:function(){var e=this;this.message.life&&(this.closeTimeout=setTimeout(function(){e.close({message:e.message,type:"life-end"})},this.message.life))},beforeUnmount:function(){this.clearCloseTimeout()},methods:{close:function(e){this.$emit("close",e)},onCloseClick:function(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{iconComponent:function(){return{info:!this.infoIcon&&zd,success:!this.successIcon&&jd,warn:!this.warnIcon&&Ud,error:!this.errorIcon&&Wd}[this.message.severity]},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{TimesIcon:gh,InfoCircleIcon:zd,CheckIcon:jd,ExclamationTriangleIcon:Ud,TimesCircleIcon:Wd},directives:{ripple:Ya}};function ma(n){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(n)}function zp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function go(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zp(Object(t),!0).forEach(function(i){G4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function G4(n,e,t){return e=Z4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Z4(n){var e=J4(n,"string");return ma(e)=="symbol"?e:String(e)}function J4(n,e){if(ma(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ma(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Y4=["aria-label"];function X4(n,e,t,i,s,r){var o=xi("ripple");return S(),$("div",B({class:[n.cx("container"),t.message.styleClass],role:"alert","aria-live":"assertive","aria-atomic":"true"},n.ptm("container")),[t.templates.container?(S(),fe(kt(t.templates.container),{key:0,message:t.message,onClose:r.onCloseClick,closeCallback:r.onCloseClick},null,40,["message","onClose","closeCallback"])):(S(),$("div",B({key:1,class:[n.cx("content"),t.message.contentStyleClass]},n.ptm("content")),[t.templates.message?(S(),fe(kt(t.templates.message),{key:1,message:t.message},null,8,["message"])):(S(),$(ye,{key:0},[(S(),fe(kt(t.templates.icon?t.templates.icon:r.iconComponent&&r.iconComponent.name?r.iconComponent:"span"),B({class:n.cx("icon")},n.ptm("icon")),null,16,["class"])),R("div",B({class:n.cx("text")},n.ptm("text")),[R("span",B({class:n.cx("summary")},n.ptm("summary")),_e(t.message.summary),17),R("div",B({class:n.cx("detail")},n.ptm("detail")),_e(t.message.detail),17)],16)],64)),t.message.closable!==!1?(S(),$("div",If(B({key:2},n.ptm("buttonContainer"))),[vn((S(),$("button",B({class:n.cx("closeButton"),type:"button","aria-label":r.closeAriaLabel,onClick:e[0]||(e[0]=function(){return r.onCloseClick&&r.onCloseClick.apply(r,arguments)}),autofocus:""},go(go(go({},t.closeButtonProps),n.ptm("button")),n.ptm("closeButton"))),[(S(),fe(kt(t.templates.closeicon||"TimesIcon"),B({class:[n.cx("closeIcon"),t.closeIcon]},go(go({},n.ptm("buttonIcon")),n.ptm("closeIcon"))),null,16,["class"]))],16,Y4)),[[o]])],16)):me("",!0)],16))],16)}vy.render=X4;function Q4(n){return i7(n)||n7(n)||t7(n)||e7()}function e7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(n,e){if(n){if(typeof n=="string")return qd(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qd(n,e)}}function n7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function i7(n){if(Array.isArray(n))return qd(n)}function qd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var s7=0,yy={name:"Toast",extends:q4,inheritAttrs:!1,emits:["close","life-end"],data:function(){return{messages:[]}},styleElement:null,mounted:function(){En.on("add",this.onAdd),En.on("remove",this.onRemove),En.on("remove-group",this.onRemoveGroup),En.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount:function(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&Xt.clear(this.$refs.container),En.off("add",this.onAdd),En.off("remove",this.onRemove),En.off("remove-group",this.onRemoveGroup),En.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add:function(e){e.id==null&&(e.id=s7++),this.messages=[].concat(Q4(this.messages),[e])},remove:function(e){var t=this.messages.findIndex(function(i){return i.id===e.message.id});t!==-1&&(this.messages.splice(t,1),this.$emit(e.type,{message:e.message}))},onAdd:function(e){this.group==e.group&&this.add(e)},onRemove:function(e){this.remove({message:e,type:"close"})},onRemoveGroup:function(e){this.group===e&&(this.messages=[])},onRemoveAllGroups:function(){this.messages=[]},onEnter:function(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&Xt.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave:function(){var e=this;this.$refs.container&&this.autoZIndex&&ve.isEmpty(this.messages)&&setTimeout(function(){Xt.clear(e.$refs.container)},200)},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",D.setAttribute(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var i in this.breakpoints){var s="";for(var r in this.breakpoints[i])s+=r+":"+this.breakpoints[i][r]+"!important;";t+=`
                        @media screen and (max-width: `.concat(i,`) {
                            .p-toast[`).concat(this.attributeSelector,`] {
                                `).concat(s,`
                            }
                        }
                    `)}this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{attributeSelector:function(){return Ht()}},components:{ToastMessage:vy,Portal:Ja}};function pa(n){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(n)}function Wp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Kp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wp(Object(t),!0).forEach(function(i){r7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function r7(n,e,t){return e=o7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o7(n){var e=a7(n,"string");return pa(e)=="symbol"?e:String(e)}function a7(n,e){if(pa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(pa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function l7(n,e,t,i,s,r){var o=Tt("ToastMessage"),a=Tt("Portal");return S(),fe(a,null,{default:ie(function(){return[R("div",B({ref:"container",class:n.cx("root"),style:n.sx("root",!0,{position:n.position})},n.ptmi("root")),[I(fv,B({name:"p-toast-message",tag:"div",onEnter:r.onEnter,onLeave:r.onLeave},Kp(Kp({},n.ptm("message")),n.ptm("transition"))),{default:ie(function(){return[(S(!0),$(ye,null,Ft(s.messages,function(l){return S(),fe(o,{key:l.id,message:l,templates:n.$slots,closeIcon:n.closeIcon,infoIcon:n.infoIcon,warnIcon:n.warnIcon,errorIcon:n.errorIcon,successIcon:n.successIcon,closeButtonProps:n.closeButtonProps,onClose:e[0]||(e[0]=function(c){return r.remove(c)}),pt:n.pt},null,8,["message","templates","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps","pt"])}),128))]}),_:1},16,["onEnter","onLeave"])],16)]}),_:1})}yy.render=l7;const c7=Ct({__name:"Main",async setup(n){let e,t;function i(u,d,f){c.add({severity:u,summary:f,detail:d,life:7e3})}function s(u,d=""){i(Nl.Success,u,d)}function r(u,d=""){i(Nl.Warn,u,d)}function o(u,d=""){i(Nl.Error,u,d)}const a=ui();[e,t]=ht(()=>Br.userSignedIn()),e=await e,t(),e&&([e,t]=ht(()=>a.loadData()),await e,t());const l=Za(),c=AE();return rs("showSuccess",s),rs("showWarn",r),rs("showError",o),(u,d)=>{const f=Tt("RouterView");return S(),$(ye,null,[(S(),fe(f,{key:A(l).fullPath},{default:ie(({Component:h})=>[h?(S(),fe(qf,{key:0},{fallback:ie(()=>[["student","teacher"].includes(A(l).name)?(S(),fe(A(MT),{key:0})):A(l).name==="course"?(S(),fe(A(VT),{key:1})):me("",!0)]),default:ie(()=>[(S(),fe(kt(h)))]),_:2},1024)):me("",!0)]),_:1})),I(A(yy))],64)}}});var u7={root:"p-progress-spinner",spinner:"p-progress-spinner-svg",circle:"p-progress-spinner-circle"},d7=Je.extend({name:"progressspinner",classes:u7}),f7={name:"BaseProgressSpinner",extends:ut,props:{strokeWidth:{type:String,default:"2"},fill:{type:String,default:"none"},animationDuration:{type:String,default:"2s"}},style:d7,provide:function(){return{$parentInstance:this}}},wy={name:"ProgressSpinner",extends:f7,inheritAttrs:!1,computed:{svgStyle:function(){return{"animation-duration":this.animationDuration}}}},h7=["fill","stroke-width"];function m7(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root"),role:"progressbar"},n.ptmi("root")),[(S(),$("svg",B({class:n.cx("spinner"),viewBox:"25 25 50 50",style:r.svgStyle},n.ptm("spinner")),[R("circle",B({class:n.cx("circle"),cx:"50",cy:"50",r:"20",fill:n.fill,"stroke-width":n.strokeWidth,strokeMiterlimit:"10"},n.ptm("circle")),null,16,h7)],16))],16)}wy.render=m7;const p7=Ct({__name:"AppComponent",setup(n){return(e,t)=>(S(),fe(qf,null,{fallback:ie(()=>[I(A(wy))]),default:ie(()=>[I(A(c7))]),_:1}))}}),Li=(n,e)=>{const t=n.__vccOpts||n;for(const[i,s]of e)t[i]=s;return t},g7=Li(p7,[["__scopeId","data-v-b69ca7ff"]]),b7="/static/ScartLogo-BVQxFEsN.png";var v7={root:"p-inputgroup"},y7=Je.extend({name:"inputgroup",classes:v7}),w7={name:"BaseInputGroup",extends:ut,style:y7,provide:function(){return{$parentInstance:this}}},Ei={name:"InputGroup",extends:w7,inheritAttrs:!1};function _7(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},n.ptmi("root")),[Ie(n.$slots,"default")],16)}Ei.render=_7;var C7={root:"p-inputgroup-addon"},k7=Je.extend({name:"inputgroupaddon",classes:C7}),E7={name:"BaseInputGroupAddon",extends:ut,style:k7,provide:function(){return{$parentInstance:this}}},Ti={name:"InputGroupAddon",extends:E7,inheritAttrs:!1};function T7(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},n.ptmi("root")),[Ie(n.$slots,"default")],16)}Ti.render=T7;var S7={root:function(e){var t=e.instance,i=e.props;return["p-inputtext p-component",{"p-filled":t.filled,"p-inputtext-sm":i.size==="small","p-inputtext-lg":i.size==="large","p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":t.$primevue.config.inputStyle==="filled"}]}},P7=Je.extend({name:"inputtext",classes:S7}),A7={name:"BaseInputText",extends:ut,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:P7,provide:function(){return{$parentInstance:this}}},zt={name:"InputText",extends:A7,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},x7=["value","aria-invalid"];function O7(n,e,t,i,s,r){return S(),$("input",B({class:n.cx("root"),value:n.modelValue,"aria-invalid":n.invalid||void 0,onInput:e[0]||(e[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},r.getPTOptions("root")),null,16,x7)}zt.render=O7;var _y={name:"EyeIcon",extends:On},I7=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z",fill:"currentColor"},null,-1),R7=[I7];function M7(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),R7,16)}_y.render=M7;var Cy={name:"EyeSlashIcon",extends:On},L7=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z",fill:"currentColor"},null,-1),B7=[L7];function D7(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),B7,16)}Cy.render=D7;var ky=oh(),V7={root:function(e){var t=e.props;return{position:t.appendTo==="self"?"relative":void 0}}},$7={root:function(e){var t=e.instance,i=e.props;return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":t.filled,"p-inputwrapper-focus":t.focused,"p-icon-field p-icon-field-right":i.toggleMask}]},input:function(e){var t=e.props;return["p-password-input",{"p-disabled":t.disabled}]},hideIcon:"p-input-icon",showIcon:"p-input-icon",panel:function(e){var t=e.instance;return["p-password-panel p-component",{"p-ripple-disabled":t.$primevue.config.ripple===!1}]},meter:"p-password-meter",meterLabel:function(e){var t=e.instance;return"p-password-strength ".concat(t.meter?t.meter.strength:"")},info:"p-password-info"},F7=Je.extend({name:"password",classes:$7,inlineStyles:V7}),N7={name:"BasePassword",extends:ut,props:{modelValue:String,promptLabel:{type:String,default:null},mediumRegex:{type:String,default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:String,default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:void 0},showIcon:{type:String,default:void 0},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:F7,provide:function(){return{$parentInstance:this}}},bh={name:"Password",extends:N7,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","invalid"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},watch:{"$attrs.id":function(e){this.id=e||Ht()}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted:function(){this.id=this.id||Ht(),this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount:function(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Xt.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter:function(e){Xt.set("overlay",e,this.$primevue.config.zIndex.overlay),D.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave:function(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave:function(e){Xt.clear(e)},alignOverlay:function(){this.appendTo==="self"?D.relativePosition(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=D.getOuterWidth(this.$refs.input.$el)+"px",D.absolutePosition(this.overlay,this.$refs.input.$el))},testStrength:function(e){var t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t},onInput:function(e){this.$emit("update:modelValue",e.target.value),this.$emit("change",e)},onFocus:function(e){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.modelValue),this.overlayVisible=!0),this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",e)},onKeyUp:function(e){if(this.feedback){var t=e.target.value,i=this.checkPasswordStrength(t),s=i.meter,r=i.label;if(this.meter=s,this.infoText=r,e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter:function(){if(!this.modelValue){this.meter=null,this.infoText=this.promptText;return}var e=this.checkPasswordStrength(this.modelValue),t=e.meter,i=e.label;this.meter=t,this.infoText=i,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength:function(e){var t=null,i=null;switch(this.testStrength(e)){case 1:t=this.weakText,i={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText,i={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText,i={strength:"strong",width:"100%"};break;default:t=this.promptText,i=null;break}return{label:t,meter:i}},onInvalid:function(e){this.$emit("invalid",e)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new rh(this.$refs.input.$el,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!D.isTouchDevice()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef:function(e){this.overlay=e},onMaskToggle:function(){this.unmasked=!this.unmasked},onOverlayClick:function(e){ky.emit("overlay-click",{originalEvent:e,target:this.$el})}},computed:{inputType:function(){return this.unmasked?"text":"password"},filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},weakText:function(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText:function(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText:function(){return this.strongLabel||this.$primevue.config.locale.strong},promptText:function(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},panelUniqueId:function(){return this.id+"_panel"}},components:{PInputText:zt,Portal:Ja,EyeSlashIcon:Cy,EyeIcon:_y}};function ga(n){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(n)}function qp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Gp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qp(Object(t),!0).forEach(function(i){H7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function H7(n,e,t){return e=j7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j7(n){var e=U7(n,"string");return ga(e)=="symbol"?e:String(e)}function U7(n,e){if(ga(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ga(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var z7=["id"];function W7(n,e,t,i,s,r){var o=Tt("PInputText"),a=Tt("Portal");return S(),$("div",B({class:n.cx("root"),style:n.sx("root")},n.ptmi("root")),[I(o,B({ref:"input",id:n.inputId,type:r.inputType,class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.modelValue,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-controls":n.panelProps&&n.panelProps.id||n.panelId||r.panelUniqueId,"aria-expanded":s.overlayVisible,"aria-haspopup":!0,placeholder:n.placeholder,required:n.required,disabled:n.disabled,variant:n.variant,invalid:n.invalid,onInput:r.onInput,onFocus:r.onFocus,onBlur:r.onBlur,onKeyup:r.onKeyUp,onInvalid:r.onInvalid},n.inputProps,{pt:n.ptm("input"),unstyled:n.unstyled}),null,16,["id","type","class","style","value","aria-labelledby","aria-label","aria-controls","aria-expanded","placeholder","required","disabled","variant","invalid","onInput","onFocus","onBlur","onKeyup","onInvalid","pt","unstyled"]),n.toggleMask&&s.unmasked?Ie(n.$slots,"hideicon",{key:0,onClick:r.onMaskToggle,toggleCallback:r.onMaskToggle},function(){return[(S(),fe(kt(n.hideIcon?"i":"EyeSlashIcon"),B({class:[n.cx("hideIcon"),n.hideIcon],onClick:r.onMaskToggle},n.ptm("hideIcon")),null,16,["class","onClick"]))]}):me("",!0),n.toggleMask&&!s.unmasked?Ie(n.$slots,"showicon",{key:1,onClick:r.onMaskToggle,toggleCallback:r.onMaskToggle},function(){return[(S(),fe(kt(n.showIcon?"i":"EyeIcon"),B({class:[n.cx("showIcon"),n.showIcon],onClick:r.onMaskToggle},n.ptm("showIcon")),null,16,["class","onClick"]))]}):me("",!0),R("span",B({class:"p-hidden-accessible","aria-live":"polite"},n.ptm("hiddenAccesible"),{"data-p-hidden-accessible":!0}),_e(s.infoText),17),I(a,{appendTo:n.appendTo},{default:ie(function(){return[I(tr,B({name:"p-connected-overlay",onEnter:r.onOverlayEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},n.ptm("transition")),{default:ie(function(){return[s.overlayVisible?(S(),$("div",B({key:0,ref:r.overlayRef,id:n.panelId||r.panelUniqueId,class:[n.cx("panel"),n.panelClass],style:n.panelStyle,onClick:e[0]||(e[0]=function(){return r.onOverlayClick&&r.onOverlayClick.apply(r,arguments)})},Gp(Gp({},n.panelProps),n.ptm("panel"))),[Ie(n.$slots,"header"),Ie(n.$slots,"content",{},function(){return[R("div",B({class:n.cx("meter")},n.ptm("meter")),[R("div",B({class:n.cx("meterLabel"),style:{width:s.meter?s.meter.width:""}},n.ptm("meterLabel")),null,16)],16),R("div",B({class:n.cx("info")},n.ptm("info")),_e(s.infoText),17)]}),Ie(n.$slots,"footer")],16,z7)):me("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}bh.render=W7;var K7={root:{position:"relative"}},q7={root:function(e){var t=e.instance,i=e.props;return["p-inputswitch p-component",{"p-highlight":t.checked,"p-disabled":i.disabled,"p-invalid":i.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},G7=Je.extend({name:"inputswitch",classes:q7,inlineStyles:K7}),Z7={name:"BaseInputSwitch",extends:ut,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:G7,provide:function(){return{$parentInstance:this}}},vh={name:"InputSwitch",extends:Z7,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var t=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",t),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},J7=["data-p-highlight","data-p-disabled"],Y7=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function X7(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root"),style:n.sx("root")},r.getPTOptions("root"),{"data-p-highlight":r.checked,"data-p-disabled":n.disabled}),[R("input",B({id:n.inputId,type:"checkbox",role:"switch",class:[n.cx("input"),n.inputClass],style:n.inputStyle,checked:r.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,"aria-checked":r.checked,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:e[1]||(e[1]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onChange:e[2]||(e[2]=function(){return r.onChange&&r.onChange.apply(r,arguments)})},r.getPTOptions("input")),null,16,Y7),R("span",B({class:n.cx("slider")},r.getPTOptions("slider")),null,16)],16,J7)}vh.render=X7;var Q7={root:function(e){var t=e.props,i=e.instance;return["p-badge p-component",{"p-badge-no-gutter":ve.isNotEmpty(t.value)&&String(t.value).length===1,"p-badge-dot":ve.isEmpty(t.value)&&!i.$slots.default,"p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warning":t.severity==="warning","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},eP=Je.extend({name:"badge",classes:Q7}),tP={name:"BaseBadge",extends:ut,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:eP,provide:function(){return{$parentInstance:this}}},yh={name:"Badge",extends:tP,inheritAttrs:!1};function nP(n,e,t,i,s,r){return S(),$("span",B({class:n.cx("root")},n.ptmi("root")),[Ie(n.$slots,"default",{},function(){return[Lt(_e(n.value),1)]})],16)}yh.render=nP;var Ey={name:"SpinnerIcon",extends:On},iP=R("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),sP=[iP];function rP(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),sP,16)}Ey.render=rP;function ba(n){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(n)}function Ki(n,e,t){return e=oP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oP(n){var e=aP(n,"string");return ba(e)=="symbol"?e:String(e)}function aP(n,e){if(ba(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ba(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lP={root:function(e){var t=e.instance,i=e.props;return["p-button p-component",Ki(Ki(Ki(Ki(Ki(Ki(Ki(Ki({"p-button-icon-only":t.hasIcon&&!i.label&&!i.badge,"p-button-vertical":(i.iconPos==="top"||i.iconPos==="bottom")&&i.label,"p-disabled":t.$attrs.disabled||t.$attrs.disabled===""||i.loading,"p-button-loading":i.loading,"p-button-loading-label-only":i.loading&&!t.hasIcon&&i.label,"p-button-link":i.link},"p-button-".concat(i.severity),i.severity),"p-button-raised",i.raised),"p-button-rounded",i.rounded),"p-button-text",i.text),"p-button-outlined",i.outlined),"p-button-sm",i.size==="small"),"p-button-lg",i.size==="large"),"p-button-plain",i.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var t=e.props;return["p-button-icon",{"p-button-icon-left":t.iconPos==="left"&&t.label,"p-button-icon-right":t.iconPos==="right"&&t.label,"p-button-icon-top":t.iconPos==="top"&&t.label,"p-button-icon-bottom":t.iconPos==="bottom"&&t.label}]},label:"p-button-label"},cP=Je.extend({name:"button",classes:lP}),uP={name:"BaseButton",extends:ut,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:cP,provide:function(){return{$parentInstance:this}}},mt={name:"Button",extends:uP,inheritAttrs:!1,methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Ey,Badge:yh},directives:{ripple:Ya}},dP=["aria-label","disabled","data-p-severity"];function fP(n,e,t,i,s,r){var o=Tt("SpinnerIcon"),a=Tt("Badge"),l=xi("ripple");return vn((S(),$("button",B({class:n.cx("root"),type:"button","aria-label":r.defaultAriaLabel,disabled:r.disabled},r.getPTOptions("root"),{"data-p-severity":n.severity}),[Ie(n.$slots,"default",{},function(){return[n.loading?Ie(n.$slots,"loadingicon",{key:0,class:Nt([n.cx("loadingIcon"),n.cx("icon")])},function(){return[n.loadingIcon?(S(),$("span",B({key:0,class:[n.cx("loadingIcon"),n.cx("icon"),n.loadingIcon]},n.ptm("loadingIcon")),null,16)):(S(),fe(o,B({key:1,class:[n.cx("loadingIcon"),n.cx("icon")],spin:""},n.ptm("loadingIcon")),null,16,["class"]))]}):Ie(n.$slots,"icon",{key:1,class:Nt([n.cx("icon")])},function(){return[n.icon?(S(),$("span",B({key:0,class:[n.cx("icon"),n.icon,n.iconClass]},n.ptm("icon")),null,16)):me("",!0)]}),R("span",B({class:n.cx("label")},n.ptm("label")),_e(n.label||""),17),n.badge?(S(),fe(a,B({key:2,value:n.badge,class:n.badgeClass,severity:n.badgeSeverity,unstyled:n.unstyled},n.ptm("badge")),null,16,["value","class","severity","unstyled"])):me("",!0)]})],16,dP)),[[l]])}mt.render=fP;var hP={root:function(e){var t=e.props;return{justifyContent:t.layout==="horizontal"?t.align==="center"||t.align===null?"center":t.align==="left"?"flex-start":t.align==="right"?"flex-end":null:null,alignItems:t.layout==="vertical"?t.align==="center"||t.align===null?"center":t.align==="top"?"flex-start":t.align==="bottom"?"flex-end":null:null}}},mP={root:function(e){var t=e.props;return["p-divider p-component","p-divider-"+t.layout,"p-divider-"+t.type,{"p-divider-left":t.layout==="horizontal"&&(!t.align||t.align==="left")},{"p-divider-center":t.layout==="horizontal"&&t.align==="center"},{"p-divider-right":t.layout==="horizontal"&&t.align==="right"},{"p-divider-top":t.layout==="vertical"&&t.align==="top"},{"p-divider-center":t.layout==="vertical"&&(!t.align||t.align==="center")},{"p-divider-bottom":t.layout==="vertical"&&t.align==="bottom"}]},content:"p-divider-content"},pP=Je.extend({name:"divider",classes:mP,inlineStyles:hP}),gP={name:"BaseDivider",extends:ut,props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},style:pP,provide:function(){return{$parentInstance:this}}},os={name:"Divider",extends:gP,inheritAttrs:!1},bP=["aria-orientation"];function vP(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root"),style:n.sx("root"),role:"separator","aria-orientation":n.layout},n.ptmi("root")),[n.$slots.default?(S(),$("div",B({key:0,class:n.cx("content")},n.ptm("content")),[Ie(n.$slots,"default")],16)):me("",!0)],16,bP)}os.render=vP;const nr=n=>(Fa("data-v-fbb71129"),n=n(),Na(),n),yP={class:"authBackground"},wP={class:"absolutelyCentered authForm flexColumn"},_P=nr(()=>R("div",{class:"h1"},"  ",-1)),CP=nr(()=>R("div",null," ,    ",-1)),kP=nr(()=>R("i",{class:"pi pi-envelope"},null,-1)),EP=nr(()=>R("i",{class:"pi pi-lock"},null,-1)),TP={class:"flexRow justifyBetween alignCenter alignSelfStretch"},SP={class:"flexRow alignCenter"},PP=nr(()=>R("label",{for:"keepSignedSwitch"},"   ",-1)),AP={class:"flexRow alignCenter"},xP=nr(()=>R("div",null,"  ?",-1)),OP=nr(()=>R("img",{class:"ScartLogo",src:b7,alt:" Scart"},null,-1)),IP=Ct({__name:"SignIn",async setup(n){let e,t;async function i(){if(u.value=!0,d.value||f.value){h("    ");return}try{await Br.signIn(a.value,l.value),await Br.userSignedIn()?(await r.loadData(),await s()):m("      ","  ")}catch(p){An(p)}}async function s(){r.isStudent?await o.push({name:"student"}):await o.push({name:"teacher",params:{id:r.id}})}const r=ui(),o=by();[e,t]=ht(()=>Br.userSignedIn()),e=await e,t(),e&&([e,t]=ht(()=>s()),await e,t());const a=se(""),l=se(""),c=se(!1),u=se(!1),d=Ne(()=>u.value&&!a.value),f=Ne(()=>u.value&&!l.value),h=at("showWarn"),m=at("showError");return(p,v)=>{const _=Tt("router-link");return S(),$(ye,null,[R("div",yP,[R("div",wP,[_P,CP,I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[kP]),_:1}),I(A(zt),{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=E=>a.value=E),type:"email",placeholder:". ",variant:"filled",invalid:d.value},null,8,["modelValue","invalid"])]),_:1}),I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[EP]),_:1}),I(A(bh),{modelValue:l.value,"onUpdate:modelValue":v[1]||(v[1]=E=>l.value=E),placeholder:"",toggleMask:"",feedback:!1,variant:"filled",invalid:f.value},null,8,["modelValue","invalid"])]),_:1}),R("div",TP,[R("div",SP,[I(A(vh),{modelValue:c.value,"onUpdate:modelValue":v[2]||(v[2]=E=>c.value=E),inputId:"keepSignedSwitch"},null,8,["modelValue"]),PP]),I(_,{class:"secondary",to:{name:"resetPassword"}},{default:ie(()=>[Lt("   ")]),_:1})]),I(A(mt),{label:"",icon:"pi pi-sign-in",iconPos:"right",class:"alignSelfCenter",onClick:i}),I(A(os)),R("div",AP,[xP,I(_,{class:"signReverse",to:{name:"signUp"}},{default:ie(()=>[Lt("  ")]),_:1})])])]),OP],64)}}}),RP=Li(IP,[["__scopeId","data-v-fbb71129"]]),MP={class:"authBackground"},LP={class:"absolutelyCentered authForm flexColumn"},BP=R("div",{class:"h1"},"  ",-1),DP=R("i",{class:"pi pi-user"},null,-1),VP=R("i",{class:"pi pi-envelope"},null,-1),$P=R("i",{class:"pi pi-lock"},null,-1),FP={class:"flexRow alignCenter"},NP=R("div",null,"   ",-1),HP={class:"flexRow alignCenter"},jP=R("div",null," ?",-1),UP=Ct({__name:"SignUp",setup(n){const e=se(!1),t=se(""),i=se(""),s=se(""),r=se(!1),o=se(""),a=se(""),l=se(""),c=se(""),u=se(""),d=Ne(()=>e.value&&!t.value),f=Ne(()=>e.value&&!i.value),h=Ne(()=>e.value&&!s.value),m=Ne(()=>e.value&&!o.value),p=Ne(()=>e.value&&!a.value),v=Ne(()=>e.value&&!c.value),_=Ne(()=>e.value&&!r.value&&!u.value);async function E(){}return(w,C)=>{const P=Tt("router-link");return S(),$("div",MP,[R("div",LP,[BP,I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[DP]),_:1}),I(A(zt),{modelValue:t.value,"onUpdate:modelValue":C[0]||(C[0]=b=>t.value=b),placeholder:"",invalid:d.value},null,8,["modelValue","invalid"])]),_:1}),I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[VP]),_:1}),I(A(zt),{modelValue:i.value,"onUpdate:modelValue":C[1]||(C[1]=b=>i.value=b),type:"email",placeholder:". ",invalid:f.value},null,8,["modelValue","invalid"])]),_:1}),I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[$P]),_:1}),I(A(bh),{modelValue:s.value,"onUpdate:modelValue":C[2]||(C[2]=b=>s.value=b),placeholder:"",toggleMask:"",invalid:h.value},null,8,["modelValue","invalid"])]),_:1}),R("div",FP,[I(A(vh),{modelValue:r.value,"onUpdate:modelValue":C[3]||(C[3]=b=>r.value=b)},null,8,["modelValue"]),NP]),I(A(zt),{modelValue:o.value,"onUpdate:modelValue":C[4]||(C[4]=b=>o.value=b),placeholder:"",invalid:m.value},null,8,["modelValue","invalid"]),I(A(zt),{modelValue:a.value,"onUpdate:modelValue":C[5]||(C[5]=b=>a.value=b),placeholder:"",invalid:p.value},null,8,["modelValue","invalid"]),I(A(zt),{modelValue:l.value,"onUpdate:modelValue":C[6]||(C[6]=b=>l.value=b),placeholder:""},null,8,["modelValue"]),I(A(zt),{modelValue:c.value,"onUpdate:modelValue":C[7]||(C[7]=b=>c.value=b),placeholder:"",invalid:v.value},null,8,["modelValue","invalid"]),I(A(zt),{modelValue:u.value,"onUpdate:modelValue":C[8]||(C[8]=b=>u.value=b),placeholder:"",invalid:_.value},null,8,["modelValue","invalid"]),I(A(mt),{label:"",icon:"pi pi-sign-up",iconPos:"right",class:"alignSelfCenter",onClick:E}),I(A(os)),R("div",HP,[jP,I(P,{class:"signReverse",to:{name:"signIn"}},{default:ie(()=>[Lt("  ")]),_:1})])])])}}}),zP={};function WP(n,e){return null}const KP=Li(zP,[["render",WP]]),qP={};function GP(n,e){return null}const ZP=Li(qP,[["render",GP]]);var JP={root:function(e){var t=e.props;return["p-avatar p-component",{"p-avatar-image":t.image!=null,"p-avatar-circle":t.shape==="circle","p-avatar-lg":t.size==="large","p-avatar-xl":t.size==="xlarge"}]},label:"p-avatar-text",icon:"p-avatar-icon"},YP=Je.extend({name:"avatar",classes:JP}),XP={name:"BaseAvatar",extends:ut,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:YP,provide:function(){return{$parentInstance:this}}},Ty={name:"Avatar",extends:XP,inheritAttrs:!1,emits:["error"],methods:{onError:function(e){this.$emit("error",e)}}},QP=["aria-labelledby","aria-label"],e6=["src","alt"];function t6(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root"),"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel},n.ptmi("root")),[Ie(n.$slots,"default",{},function(){return[n.label?(S(),$("span",B({key:0,class:n.cx("label")},n.ptm("label")),_e(n.label),17)):n.$slots.icon?(S(),fe(kt(n.$slots.icon),{key:1,class:Nt(n.cx("icon"))},null,8,["class"])):n.icon?(S(),$("span",B({key:2,class:[n.cx("icon"),n.icon]},n.ptm("icon")),null,16)):n.image?(S(),$("img",B({key:3,src:n.image,alt:n.ariaLabel,onError:e[0]||(e[0]=function(){return r.onError&&r.onError.apply(r,arguments)})},n.ptm("image")),null,16,e6)):me("",!0)]})],16,QP)}Ty.render=t6;const rc=Ct({__name:"UserAvatar",props:{size:{},avatarPath:{},name:{}},setup(n){const e=n,t=Ne(()=>e.avatarPath?"image":"label"),i=Ne(()=>e.avatarPath?e.avatarPath:e.name.slice(0,1));return(s,r)=>(S(),fe(A(Ty),If({[t.value||""]:i.value,size:s.size}),null,16,["size"]))}});var n6={root:function(e){var t=e.instance,i=e.props;return["p-menu p-component",{"p-menu-overlay":i.popup,"p-ripple-disabled":t.$primevue.config.ripple===!1}]},start:"p-menu-start",menu:"p-menu-list p-reset",submenuHeader:"p-submenu-header",separator:"p-menuitem-separator",end:"p-menu-end",menuitem:function(e){var t=e.instance;return["p-menuitem",{"p-focus":t.id===t.focusedOptionId,"p-disabled":t.disabled()}]},content:"p-menuitem-content",action:"p-menuitem-link",icon:"p-menuitem-icon",label:"p-menuitem-text"},i6=Je.extend({name:"menu",classes:n6}),s6={name:"BaseMenu",extends:ut,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:i6,provide:function(){return{$parentInstance:this}}},Sy={name:"Menuitem",hostName:"Menu",extends:ut,inheritAttrs:!1,emits:["item-click","item-mousemove"],props:{item:null,templates:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(e,t){return e&&e.item?ve.getItemValue(e.item[t]):void 0},getPTOptions:function(e){return this.ptm(e,{context:{item:this.item,index:this.index,focused:this.isItemFocused(),disabled:this.disabled()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemClick:function(e){var t=this.getItemProp(this.item,"command");t&&t({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},onItemMouseMove:function(e){this.$emit("item-mousemove",{originalEvent:e,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},getMenuItemProps:function(e){return{action:B({class:this.cx("action"),tabindex:"-1","aria-hidden":!0},this.getPTOptions("action")),icon:B({class:[this.cx("icon"),e.icon]},this.getPTOptions("icon")),label:B({class:this.cx("label")},this.getPTOptions("label"))}}},directives:{ripple:Ya}},r6=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],o6=["href","target"];function a6(n,e,t,i,s,r){var o=xi("ripple");return r.visible()?(S(),$("li",B({key:0,id:t.id,class:[n.cx("menuitem"),t.item.class],role:"menuitem",style:t.item.style,"aria-label":r.label(),"aria-disabled":r.disabled()},r.getPTOptions("menuitem"),{"data-p-focused":r.isItemFocused(),"data-p-disabled":r.disabled()||!1}),[R("div",B({class:n.cx("content"),onClick:e[0]||(e[0]=function(a){return r.onItemClick(a)}),onMousemove:e[1]||(e[1]=function(a){return r.onItemMouseMove(a)})},r.getPTOptions("content")),[t.templates.item?t.templates.item?(S(),fe(kt(t.templates.item),{key:1,item:t.item,label:r.label(),props:r.getMenuItemProps(t.item)},null,8,["item","label","props"])):me("",!0):vn((S(),$("a",B({key:0,href:t.item.url,class:n.cx("action"),target:t.item.target,tabindex:"-1","aria-hidden":"true"},r.getPTOptions("action")),[t.templates.itemicon?(S(),fe(kt(t.templates.itemicon),{key:0,item:t.item,class:Nt(n.cx("icon"))},null,8,["item","class"])):t.item.icon?(S(),$("span",B({key:1,class:[n.cx("icon"),t.item.icon]},r.getPTOptions("icon")),null,16)):me("",!0),R("span",B({class:n.cx("label")},r.getPTOptions("label")),_e(r.label()),17)],16,o6)),[[o]])],16)],16,r6)):me("",!0)}Sy.render=a6;function Zp(n){return d6(n)||u6(n)||c6(n)||l6()}function l6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c6(n,e){if(n){if(typeof n=="string")return Gd(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gd(n,e)}}function u6(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function d6(n){if(Array.isArray(n))return Gd(n)}function Gd(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var Py={name:"Menu",extends:s6,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||Ht()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||Ht(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&Xt.clear(this.container),this.container=null},methods:{itemClick:function(e){var t=e.item;this.disabled(t)||(t.command&&t.command(e),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},itemMouseMove:function(e){this.focused&&(this.focusedOptionIndex=e.id)},onListFocus:function(e){this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(D.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(e){var t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey&&this.popup)D.focus(this.target),this.hide(),e.preventDefault();else{var t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey:function(e){this.changeFocusedOptionIndex(D.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()},onEnterKey:function(e){var t=D.findSingle(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),i=t&&D.findSingle(t,'a[data-pc-section="action"]');this.popup&&D.focus(this.target),i?i.click():t&&t.click(),e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},findNextOptionIndex:function(e){var t=D.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Zp(t).findIndex(function(s){return s.id===e});return i>-1?i+1:0},findPrevOptionIndex:function(e){var t=D.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=Zp(t).findIndex(function(s){return s.id===e});return i>-1?i-1:0},changeFocusedOptionIndex:function(e){var t=D.find(this.container,'li[data-pc-section="menuitem"][data-p-disabled="false"]'),i=e>=t.length?t.length-1:e<0?0:e;i>-1&&(this.focusedOptionIndex=t[i].getAttribute("id"))},toggle:function(e){this.overlayVisible?this.hide():this.show(e)},show:function(e){this.overlayVisible=!0,this.target=e.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(e){D.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&Xt.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&D.focus(this.list),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&Xt.clear(e)},alignOverlay:function(){D.absolutePosition(this.container,this.target);var e=D.getOuterWidth(this.target);e>D.getOuterWidth(this.container)&&(this.container.style.minWidth=D.getOuterWidth(this.target)+"px")},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){var i=e.container&&!e.container.contains(t.target),s=!(e.target&&(e.target===t.target||e.target.contains(t.target)));e.overlayVisible&&i&&s?e.hide():!e.popup&&i&&s&&(e.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new rh(this.target,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!D.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled:function(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label:function(e){return typeof e.label=="function"?e.label():e.label},onOverlayClick:function(e){ky.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef:function(e){this.container=e},listRef:function(e){this.list=e}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:Sy,Portal:Ja}},f6=["id"],h6=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],m6=["id"];function p6(n,e,t,i,s,r){var o=Tt("PVMenuitem"),a=Tt("Portal");return S(),fe(a,{appendTo:n.appendTo,disabled:!n.popup},{default:ie(function(){return[I(tr,B({name:"p-connected-overlay",onEnter:r.onEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},n.ptm("transition")),{default:ie(function(){return[!n.popup||s.overlayVisible?(S(),$("div",B({key:0,ref:r.containerRef,id:s.id,class:n.cx("root"),onClick:e[3]||(e[3]=function(){return r.onOverlayClick&&r.onOverlayClick.apply(r,arguments)})},n.ptmi("root")),[n.$slots.start?(S(),$("div",B({key:0,class:n.cx("start")},n.ptm("start")),[Ie(n.$slots,"start")],16)):me("",!0),R("ul",B({ref:r.listRef,id:s.id+"_list",class:n.cx("menu"),role:"menu",tabindex:n.tabindex,"aria-activedescendant":s.focused?r.focusedOptionId:void 0,"aria-label":n.ariaLabel,"aria-labelledby":n.ariaLabelledby,onFocus:e[0]||(e[0]=function(){return r.onListFocus&&r.onListFocus.apply(r,arguments)}),onBlur:e[1]||(e[1]=function(){return r.onListBlur&&r.onListBlur.apply(r,arguments)}),onKeydown:e[2]||(e[2]=function(){return r.onListKeyDown&&r.onListKeyDown.apply(r,arguments)})},n.ptm("menu")),[(S(!0),$(ye,null,Ft(n.model,function(l,c){return S(),$(ye,{key:r.label(l)+c.toString()},[l.items&&r.visible(l)&&!l.separator?(S(),$(ye,{key:0},[l.items?(S(),$("li",B({key:0,id:s.id+"_"+c,class:[n.cx("submenuHeader"),l.class],style:l.style,role:"none"},n.ptm("submenuHeader")),[Ie(n.$slots,"submenuheader",{item:l},function(){return[Lt(_e(r.label(l)),1)]})],16,m6)):me("",!0),(S(!0),$(ye,null,Ft(l.items,function(u,d){return S(),$(ye,{key:u.label+c+"_"+d},[r.visible(u)&&!u.separator?(S(),fe(o,{key:0,id:s.id+"_"+c+"_"+d,item:u,templates:n.$slots,focusedOptionId:r.focusedOptionId,unstyled:n.unstyled,onItemClick:r.itemClick,onItemMousemove:r.itemMouseMove,pt:n.pt},null,8,["id","item","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"])):r.visible(u)&&u.separator?(S(),$("li",B({key:"separator"+c+d,class:[n.cx("separator"),l.class],style:u.style,role:"separator"},n.ptm("separator")),null,16)):me("",!0)],64)}),128))],64)):r.visible(l)&&l.separator?(S(),$("li",B({key:"separator"+c.toString(),class:[n.cx("separator"),l.class],style:l.style,role:"separator"},n.ptm("separator")),null,16)):(S(),fe(o,{key:r.label(l)+c.toString(),id:s.id+"_"+c,item:l,index:c,templates:n.$slots,focusedOptionId:r.focusedOptionId,unstyled:n.unstyled,onItemClick:r.itemClick,onItemMousemove:r.itemMouseMove,pt:n.pt},null,8,["id","item","index","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"]))],64)}),128))],16,h6),n.$slots.end?(S(),$("div",B({key:1,class:n.cx("end")},n.ptm("end")),[Ie(n.$slots,"end")],16)):me("",!0)],16,f6)):me("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}Py.render=p6;const g6=n=>(Fa("data-v-943bd883"),n=n(),Na(),n),b6={class:"block flexRow justifyBetween alignCenter alignSelfStretch"},v6=g6(()=>R("i",{class:"pi pi-angle-down"},null,-1)),y6={class:"flexColumn alignCenter"},w6=Ct({__name:"Header",setup(n){const e=se(null),t=se([{label:"",icon:"pi pi-cog",async command(){await r.push({name:"settings"})}},{label:"",icon:"pi pi-sign-out",async command(){try{await Br.signOut(),window.location.pathname="/sign-in"}catch(a){s(`${a}`,"  ")}}}]),i=ui(),s=at("showError"),r=by();function o(a){e.value.toggle(a)}return(a,l)=>{const c=Tt("router-link");return S(),$("div",b6,[I(c,{to:A(i).isStudent?{name:"student"}:{name:"teacher",params:{id:A(i).id}}},{default:ie(()=>[Lt(" Scart ")]),_:1},8,["to"]),I(A(mt),{class:"flexRow alignCenter",text:"",rounded:"",onClick:o},{default:ie(()=>[I(A(rc),{size:"normal",avatarPath:A(i).avatar,name:A(i).name},null,8,["avatarPath","name"]),v6]),_:1}),I(A(Py),{model:t.value,popup:"",ref_key:"menu",ref:e},{start:ie(()=>[R("div",y6,[I(A(rc),{size:"normal",avatarPath:A(i).avatar,name:A(i).name},null,8,["avatarPath","name"]),R("div",null,_e(A(i).name)+" "+_e(A(i).surname),1)])]),_:1},8,["model"])])}}}),Xa=Li(w6,[["__scopeId","data-v-943bd883"]]),_6="/static/courseDefaultImage-kBUTjH2O.png";var C6={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},k6=Je.extend({name:"card",classes:C6}),E6={name:"BaseCard",extends:ut,style:k6},wh={name:"Card",extends:E6,inheritAttrs:!1};function T6(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},n.ptmi("root")),[n.$slots.header?(S(),$("div",B({key:0,class:n.cx("header")},n.ptm("header")),[Ie(n.$slots,"header")],16)):me("",!0),R("div",B({class:n.cx("body")},n.ptm("body")),[n.$slots.title||n.$slots.subtitle?(S(),$("div",B({key:0,class:n.cx("caption")},n.ptm("caption")),[n.$slots.title?(S(),$("div",B({key:0,class:n.cx("title")},n.ptm("title")),[Ie(n.$slots,"title")],16)):me("",!0),n.$slots.subtitle?(S(),$("div",B({key:1,class:n.cx("subtitle")},n.ptm("subtitle")),[Ie(n.$slots,"subtitle")],16)):me("",!0)],16)):me("",!0),R("div",B({class:n.cx("content")},n.ptm("content")),[Ie(n.$slots,"content")],16),n.$slots.footer?(S(),$("div",B({key:1,class:n.cx("footer")},n.ptm("footer")),[Ie(n.$slots,"footer")],16)):me("",!0)],16)],16)}wh.render=T6;var S6={root:"p-scrollpanel p-component",wrapper:"p-scrollpanel-wrapper",content:"p-scrollpanel-content",barx:"p-scrollpanel-bar p-scrollpanel-bar-x",bary:"p-scrollpanel-bar p-scrollpanel-bar-y"},P6=Je.extend({name:"scrollpanel",classes:S6}),A6={name:"BaseScrollPanel",extends:ut,props:{step:{type:Number,default:5}},style:P6,provide:function(){return{$parentInstance:this}}},Ay={name:"ScrollPanel",extends:A6,inheritAttrs:!1,initialized:!1,documentResizeListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,frame:null,scrollXRatio:null,scrollYRatio:null,isXBarClicked:!1,isYBarClicked:!1,lastPageX:null,lastPageY:null,timer:null,outsideClickListener:null,data:function(){return{id:this.$attrs.id,orientation:"vertical",lastScrollTop:0,lastScrollLeft:0}},watch:{"$attrs.id":function(e){this.id=e||Ht()}},mounted:function(){this.id=this.id||Ht(),this.$el.offsetParent&&this.initialize()},updated:function(){!this.initialized&&this.$el.offsetParent&&this.initialize()},beforeUnmount:function(){this.unbindDocumentResizeListener(),this.frame&&window.cancelAnimationFrame(this.frame)},methods:{initialize:function(){this.moveBar(),this.bindDocumentResizeListener(),this.calculateContainerHeight()},calculateContainerHeight:function(){var e=getComputedStyle(this.$el),t=getComputedStyle(this.$refs.xBar),i=D.getHeight(this.$el)-parseInt(t.height,10);e["max-height"]!=="none"&&i===0&&(this.$refs.content.offsetHeight+parseInt(t.height,10)>parseInt(e["max-height"],10)?this.$el.style.height=e["max-height"]:this.$el.style.height=this.$refs.content.offsetHeight+parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px")},moveBar:function(){var e=this;if(this.$refs.content){var t=this.$refs.content.scrollWidth,i=this.$refs.content.clientWidth,s=(this.$el.clientHeight-this.$refs.xBar.clientHeight)*-1;this.scrollXRatio=i/t;var r=this.$refs.content.scrollHeight,o=this.$refs.content.clientHeight,a=(this.$el.clientWidth-this.$refs.yBar.clientWidth)*-1;this.scrollYRatio=o/r,this.frame=this.requestAnimationFrame(function(){e.$refs.xBar&&(e.scrollXRatio>=1?(e.$refs.xBar.setAttribute("data-p-scrollpanel-hidden","true"),!e.isUnstyled&&D.addClass(e.$refs.xBar,"p-scrollpanel-hidden")):(e.$refs.xBar.setAttribute("data-p-scrollpanel-hidden","false"),!e.isUnstyled&&D.removeClass(e.$refs.xBar,"p-scrollpanel-hidden"),e.$refs.xBar.style.cssText="width:"+Math.max(e.scrollXRatio*100,10)+"%; left:"+e.$refs.content.scrollLeft/t*100+"%;bottom:"+s+"px;")),e.$refs.yBar&&(e.scrollYRatio>=1?(e.$refs.yBar.setAttribute("data-p-scrollpanel-hidden","true"),!e.isUnstyled&&D.addClass(e.$refs.yBar,"p-scrollpanel-hidden")):(e.$refs.yBar.setAttribute("data-p-scrollpanel-hidden","false"),!e.isUnstyled&&D.removeClass(e.$refs.yBar,"p-scrollpanel-hidden"),e.$refs.yBar.style.cssText="height:"+Math.max(e.scrollYRatio*100,10)+"%; top: calc("+e.$refs.content.scrollTop/r*100+"% - "+e.$refs.xBar.clientHeight+"px);right:"+a+"px;"))})}},onYBarMouseDown:function(e){this.isYBarClicked=!0,this.$refs.yBar.focus(),this.lastPageY=e.pageY,this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","true"),!this.isUnstyled&&D.addClass(this.$refs.yBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","true"),!this.isUnstyled&&D.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()},onXBarMouseDown:function(e){this.isXBarClicked=!0,this.$refs.xBar.focus(),this.lastPageX=e.pageX,this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&D.addClass(this.$refs.xBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&D.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()},onScroll:function(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()},onKeyDown:function(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}}},onKeyUp:function(){this.clearTimer()},repeat:function(e,t){this.$refs.content[e]+=t,this.moveBar()},setTimer:function(e,t){var i=this;this.clearTimer(),this.timer=setTimeout(function(){i.repeat(e,t)},40)},clearTimer:function(){this.timer&&clearTimeout(this.timer)},onDocumentMouseMove:function(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))},onMouseMoveForXBar:function(e){var t=this,i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.frame=this.requestAnimationFrame(function(){t.$refs.content.scrollLeft+=i/t.scrollXRatio})},onMouseMoveForYBar:function(e){var t=this,i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.frame=this.requestAnimationFrame(function(){t.$refs.content.scrollTop+=i/t.scrollYRatio})},onFocus:function(e){this.$refs.xBar.isSameNode(e.target)?this.orientation="horizontal":this.$refs.yBar.isSameNode(e.target)&&(this.orientation="vertical")},onBlur:function(){this.orientation==="horizontal"&&(this.orientation="vertical")},onDocumentMouseUp:function(){this.$refs.yBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&D.removeClass(this.$refs.yBar,"p-scrollpanel-grabbed"),this.$refs.xBar.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&D.removeClass(this.$refs.xBar,"p-scrollpanel-grabbed"),document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.isUnstyled&&D.removeClass(document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1},requestAnimationFrame:function(e){var t=window.requestAnimationFrame||this.timeoutFrame;return t(e)},refresh:function(){this.moveBar()},scrollTop:function(e){var t=this.$refs.content.scrollHeight-this.$refs.content.clientHeight;e=e>t?t:e>0?e:0,this.$refs.content.scrollTop=e},timeoutFrame:function(e){setTimeout(e,0)},bindDocumentMouseListeners:function(){var e=this;this.documentMouseMoveListener||(this.documentMouseMoveListener=function(t){e.onDocumentMouseMove(t)},document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=function(t){e.onDocumentMouseUp(t)},document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseListeners:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},bindDocumentResizeListener:function(){var e=this;this.documentResizeListener||(this.documentResizeListener=function(){e.moveBar()},window.addEventListener("resize",this.documentResizeListener))},unbindDocumentResizeListener:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},computed:{contentId:function(){return this.id+"_content"}}},x6=["id"],O6=["aria-controls","aria-valuenow"],I6=["aria-controls","aria-valuenow"];function R6(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},n.ptmi("root")),[R("div",B({class:n.cx("wrapper")},n.ptm("wrapper")),[R("div",B({ref:"content",id:r.contentId,class:n.cx("content"),onScroll:e[0]||(e[0]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)}),onMouseenter:e[1]||(e[1]=function(){return r.moveBar&&r.moveBar.apply(r,arguments)})},n.ptm("content")),[Ie(n.$slots,"default")],16,x6)],16),R("div",B({ref:"xBar",class:n.cx("barx"),tabindex:"0",role:"scrollbar","aria-orientation":"horizontal","aria-controls":r.contentId,"aria-valuenow":s.lastScrollLeft,onMousedown:e[2]||(e[2]=function(){return r.onXBarMouseDown&&r.onXBarMouseDown.apply(r,arguments)}),onKeydown:e[3]||(e[3]=function(o){return r.onKeyDown(o)}),onKeyup:e[4]||(e[4]=function(){return r.onKeyUp&&r.onKeyUp.apply(r,arguments)}),onFocus:e[5]||(e[5]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:e[6]||(e[6]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)})},n.ptm("barx"),{"data-pc-group-section":"bar"}),null,16,O6),R("div",B({ref:"yBar",class:n.cx("bary"),tabindex:"0",role:"scrollbar","aria-orientation":"vertical","aria-controls":r.contentId,"aria-valuenow":s.lastScrollTop,onMousedown:e[7]||(e[7]=function(){return r.onYBarMouseDown&&r.onYBarMouseDown.apply(r,arguments)}),onKeydown:e[8]||(e[8]=function(o){return r.onKeyDown(o)}),onKeyup:e[9]||(e[9]=function(){return r.onKeyUp&&r.onKeyUp.apply(r,arguments)}),onFocus:e[10]||(e[10]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)})},n.ptm("bary"),{"data-pc-group-section":"bar"}),null,16,I6)],16)}Ay.render=R6;const M6=["src"],L6={key:1,src:_6,alt:" "},B6={key:1},D6=Ct({__name:"CourseCard",props:{course:{}},setup(n){const e=n;return(t,i)=>{const s=Tt("router-link"),r=xi("tooltip");return S(),fe(A(wh),null,Io({header:ie(()=>[t.course.image?(S(),$("img",{key:0,src:t.course.image,alt:" "},null,8,M6)):(S(),$("img",L6))]),title:ie(()=>[I(s,{to:{name:"course",params:{id:t.course.id}}},{default:ie(()=>[Lt(_e(e.course.course_name),1)]),_:1},8,["to"])]),content:ie(()=>[t.course.description?(S(),fe(A(Ay),{key:0,style:{width:"100%",height:"15vh"}},{default:ie(()=>[Lt(_e(t.course.description),1)]),_:1})):(S(),$("div",B6,"   ... "))]),_:2},[t.course.teacherShortName?{name:"subtitle",fn:ie(()=>[I(s,{to:{name:"teacher",params:{id:t.course.teacher_profile}}},{default:ie(()=>[Lt(_e(t.course.teacherShortName),1)]),_:1},8,["to"])]),key:"0"}:void 0,t.course.studentHasIt!==void 0?{name:"footer",fn:ie(()=>[t.course.studentHasIt?vn((S(),fe(A(mt),{key:0,icon:"pi pi-check",text:""},null,512)),[[r,"    "]]):vn((S(),fe(A(mt),{key:1,icon:"pi pi-user-plus",text:""},null,512)),[[r,"   "]])]),key:"1"}:void 0]),1024)}}}),xy=Li(D6,[["__scopeId","data-v-48c6b96e"]]);var V6={},$6=Be.extend({style:V6});function va(n){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(n)}function Jp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Yp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jp(Object(t),!0).forEach(function(i){F6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Jp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function F6(n,e,t){return e=N6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N6(n){var e=H6(n,"string");return va(e)=="symbol"?e:String(e)}function H6(n,e){if(va(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(va(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var j6=$6.extend("focustrap",{mounted:function(e,t){var i=t.value||{},s=i.disabled;s||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var i=t.value||{},s=i.disabled;s&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var i=this,s=t.value||{},r=s.onFocusIn,o=s.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var c=function u(d){var f=D.isFocusableElement(d)?D.isFocusableElement(d,i.getComputedSelector(e.$_pfocustrap_focusableselector))?d:D.getFirstFocusableElement(e,i.getComputedSelector(e.$_pfocustrap_focusableselector)):D.getFirstFocusableElement(d);return ve.isNotEmpty(f)?f:d.nextSibling&&u(d.nextSibling)};D.focus(c(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return r&&r(a)},e.$_pfocustrap_focusoutlistener=function(a){return o&&o(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:Yp(Yp({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var i=t.value||{},s=i.autoFocusSelector,r=s===void 0?"":s,o=i.firstFocusableSelector,a=o===void 0?"":o,l=i.autoFocus,c=l===void 0?!1:l,u=D.getFirstFocusableElement(e,"[autofocus]".concat(this.getComputedSelector(r)));c&&!u&&(u=D.getFirstFocusableElement(e,this.getComputedSelector(a))),D.focus(u)},onFirstHiddenElementFocus:function(e){var t,i=e.currentTarget,s=e.relatedTarget,r=s===i.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(s))?D.getFirstFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector)):i.$_pfocustrap_lasthiddenfocusableelement;D.focus(r)},onLastHiddenElementFocus:function(e){var t,i=e.currentTarget,s=e.relatedTarget,r=s===i.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(s))?D.getLastFocusableElement(i.parentElement,this.getComputedSelector(i.$_pfocustrap_focusableselector)):i.$_pfocustrap_firsthiddenfocusableelement;D.focus(r)},createHiddenFocusableElements:function(e,t){var i=this,s=t.value||{},r=s.tabIndex,o=r===void 0?0:r,a=s.firstFocusableSelector,l=a===void 0?"":a,c=s.lastFocusableSelector,u=c===void 0?"":c,d=function(p){return D.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:o,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:p==null?void 0:p.bind(i)})},f=d(this.onFirstHiddenElementFocus),h=d(this.onLastHiddenElementFocus);f.$_pfocustrap_lasthiddenfocusableelement=h,f.$_pfocustrap_focusableselector=l,f.setAttribute("data-pc-section","firstfocusableelement"),h.$_pfocustrap_firsthiddenfocusableelement=f,h.$_pfocustrap_focusableselector=u,h.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(f),e.append(h)}}}),Oy={name:"WindowMaximizeIcon",extends:On},U6=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1),z6=[U6];function W6(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),z6,16)}Oy.render=W6;var Iy={name:"WindowMinimizeIcon",extends:On},K6=R("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1),q6=[K6];function G6(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),q6,16)}Iy.render=G6;var Z6={mask:function(e){var t=e.position,i=e.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t==="left"||t==="topleft"||t==="bottomleft"?"flex-start":t==="right"||t==="topright"||t==="bottomright"?"flex-end":"center",alignItems:t==="top"||t==="topleft"||t==="topright"?"flex-start":t==="bottom"||t==="bottomleft"||t==="bottomright"?"flex-end":"center",pointerEvents:i?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},J6={mask:function(e){var t=e.props,i=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],s=i.find(function(r){return r===t.position});return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":t.modal},s?"p-dialog-".concat(s):""]},root:function(e){var t=e.props,i=e.instance;return["p-dialog p-component",{"p-dialog-rtl":t.rtl,"p-dialog-maximized":t.maximizable&&i.maximized,"p-ripple-disabled":i.$primevue.config.ripple===!1}]},header:"p-dialog-header",title:"p-dialog-title",icons:"p-dialog-header-icons",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",maximizableIcon:"p-dialog-header-maximize-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",closeButtonIcon:"p-dialog-header-close-icon",content:"p-dialog-content",footer:"p-dialog-footer"},Y6=Je.extend({name:"dialog",classes:J6,inlineStyles:Z6}),X6={name:"BaseDialog",extends:ut,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:null,default:null},_instance:null},style:Y6,provide:function(){return{$parentInstance:this}}},as={name:"Dialog",extends:X6,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],provide:function(){var e=this;return{dialogRef:Ne(function(){return e._instance})}},data:function(){return{id:this.$attrs.id,containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},watch:{"$attrs.id":function(e){this.id=e||Ht()}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&Xt.clear(this.mask),this.container=null,this.mask=null},mounted:function(){this.id=this.id||Ht(),this.breakpoints&&this.createStyle()},methods:{close:function(){this.$emit("update:visible",!1)},onBeforeEnter:function(e){e.setAttribute(this.attributeSelector,"")},onEnter:function(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&Xt.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&D.addClass(this.mask,"p-component-overlay-leave")},onLeave:function(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave:function(){this.autoZIndex&&Xt.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick:function(e){this.dismissableMask&&this.modal&&this.mask===e.target&&this.close()},focus:function(){var e=function(s){return s&&s.querySelector("[autofocus]")},t=this.$slots.footer&&e(this.footerContainer);t||(t=this.$slots.header&&e(this.headerContainer),t||(t=this.$slots.default&&e(this.content),t||(this.maximizable?(this.focusableMax=!0,t=this.maximizableButton):(this.focusableClose=!0,t=this.closeButton)))),t&&D.focus(t,{focusVisible:!0})},maximize:function(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?D.blockBodyScroll():D.unblockBodyScroll())},enableDocumentSettings:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&D.blockBodyScroll()},unbindDocumentState:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&D.unblockBodyScroll()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},footerContainerRef:function(e){this.footerContainer=e},maximizableRef:function(e){this.maximizableButton=e},closeButtonRef:function(e){this.closeButton=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",D.setAttribute(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var i in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(i,`) {
                            .p-dialog[`).concat(this.attributeSelector,`] {
                                width: `).concat(this.breakpoints[i],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function(e){e.target.closest("div").getAttribute("data-pc-section")!=="icons"&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&D.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function(){var e=this;this.documentDragListener=function(t){if(e.dragging){var i=D.getOuterWidth(e.container),s=D.getOuterHeight(e.container),r=t.pageX-e.lastPageX,o=t.pageY-e.lastPageY,a=e.container.getBoundingClientRect(),l=a.left+r,c=a.top+o,u=D.getViewport(),d=getComputedStyle(e.container),f=parseFloat(d.marginLeft),h=parseFloat(d.marginTop);e.container.style.position="fixed",e.keepInViewport?(l>=e.minX&&l+i<u.width&&(e.lastPageX=t.pageX,e.container.style.left=l-f+"px"),c>=e.minY&&c+s<u.height&&(e.lastPageY=t.pageY,e.container.style.top=c-h+"px")):(e.lastPageX=t.pageX,e.container.style.left=l-f+"px",e.lastPageY=t.pageY,e.container.style.top=c-h+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function(){var e=this;this.documentDragEndListener=function(t){e.dragging&&(e.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!e.isUnstyled&&D.removeClass(document.body,"p-unselectable-text"),e.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.id+"_header":null},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector:function(){return Ht()}},directives:{ripple:Ya,focustrap:j6},components:{Portal:Ja,WindowMinimizeIcon:Iy,WindowMaximizeIcon:Oy,TimesIcon:gh}};function ya(n){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(n)}function Xp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function yl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xp(Object(t),!0).forEach(function(i){Q6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Q6(n,e,t){return e=eA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eA(n){var e=tA(n,"string");return ya(e)=="symbol"?e:String(e)}function tA(n,e){if(ya(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ya(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var nA=["aria-labelledby","aria-modal"],iA=["id"],sA=["autofocus","tabindex"],rA=["autofocus","aria-label"];function oA(n,e,t,i,s,r){var o=Tt("Portal"),a=xi("ripple"),l=xi("focustrap");return S(),fe(o,{appendTo:n.appendTo},{default:ie(function(){return[s.containerVisible?(S(),$("div",B({key:0,ref:r.maskRef,class:n.cx("mask"),style:n.sx("mask",!0,{position:n.position,modal:n.modal}),onClick:e[3]||(e[3]=function(){return r.onMaskClick&&r.onMaskClick.apply(r,arguments)})},n.ptm("mask")),[I(tr,B({name:"p-dialog",onBeforeEnter:r.onBeforeEnter,onEnter:r.onEnter,onBeforeLeave:r.onBeforeLeave,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave,appear:""},n.ptm("transition")),{default:ie(function(){return[n.visible?vn((S(),$("div",B({key:0,ref:r.containerRef,class:n.cx("root"),style:n.sx("root"),role:"dialog","aria-labelledby":r.ariaLabelledById,"aria-modal":n.modal},n.ptmi("root")),[n.$slots.container?Ie(n.$slots,"container",{key:0,onClose:r.close,onMaximize:function(u){return r.maximize(u)},closeCallback:r.close,maximizeCallback:function(u){return r.maximize(u)}}):(S(),$(ye,{key:1},[n.showHeader?(S(),$("div",B({key:0,ref:r.headerContainerRef,class:n.cx("header"),onMousedown:e[2]||(e[2]=function(){return r.initDrag&&r.initDrag.apply(r,arguments)})},n.ptm("header")),[Ie(n.$slots,"header",{class:Nt(n.cx("title"))},function(){return[n.header?(S(),$("span",B({key:0,id:r.ariaLabelledById,class:n.cx("title")},n.ptm("title")),_e(n.header),17,iA)):me("",!0)]}),R("div",B({class:n.cx("icons")},n.ptm("icons")),[n.maximizable?vn((S(),$("button",B({key:0,ref:r.maximizableRef,autofocus:s.focusableMax,class:n.cx("maximizableButton"),onClick:e[0]||(e[0]=function(){return r.maximize&&r.maximize.apply(r,arguments)}),type:"button",tabindex:n.maximizable?"0":"-1"},n.ptm("maximizableButton"),{"data-pc-group-section":"headericon"}),[Ie(n.$slots,"maximizeicon",{maximized:s.maximized,class:Nt(n.cx("maximizableIcon"))},function(){return[(S(),fe(kt(r.maximizeIconComponent),B({class:[n.cx("maximizableIcon"),s.maximized?n.minimizeIcon:n.maximizeIcon]},n.ptm("maximizableIcon")),null,16,["class"]))]})],16,sA)),[[a]]):me("",!0),n.closable?vn((S(),$("button",B({key:1,ref:r.closeButtonRef,autofocus:s.focusableClose,class:n.cx("closeButton"),onClick:e[1]||(e[1]=function(){return r.close&&r.close.apply(r,arguments)}),"aria-label":r.closeAriaLabel,type:"button"},yl(yl({},n.closeButtonProps),n.ptm("closeButton")),{"data-pc-group-section":"headericon"}),[Ie(n.$slots,"closeicon",{class:Nt(n.cx("closeButtonIcon"))},function(){return[(S(),fe(kt(n.closeIcon?"span":"TimesIcon"),B({class:[n.cx("closeButtonIcon"),n.closeIcon]},n.ptm("closeButtonIcon")),null,16,["class"]))]})],16,rA)),[[a]]):me("",!0)],16)],16)):me("",!0),R("div",B({ref:r.contentRef,class:[n.cx("content"),n.contentClass],style:n.contentStyle},yl(yl({},n.contentProps),n.ptm("content"))),[Ie(n.$slots,"default")],16),n.footer||n.$slots.footer?(S(),$("div",B({key:1,ref:r.footerContainerRef,class:n.cx("footer")},n.ptm("footer")),[Ie(n.$slots,"footer",{},function(){return[Lt(_e(n.footer),1)]})],16)):me("",!0)],64))],16,nA)),[[l,{disabled:!n.modal}]]):me("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],16)):me("",!0)]}),_:3},8,["appendTo"])}as.render=oA;var aA={root:function(e){var t=e.instance,i=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":t.filled,"p-inputtextarea-resizable ":i.autoResize,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":t.$primevue.config.inputStyle==="filled"}]}},lA=Je.extend({name:"textarea",classes:aA}),cA={name:"BaseTextarea",extends:ut,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:lA,provide:function(){return{$parentInstance:this}}},Ry={name:"Textarea",extends:cA,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},uA=["value","aria-invalid"];function dA(n,e,t,i,s,r){return S(),$("textarea",B({class:n.cx("root"),value:n.modelValue,"aria-invalid":n.invalid||void 0,onInput:e[0]||(e[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},n.ptmi("root",r.ptmParams)),null,16,uA)}Ry.render=dA;const fA={class:"flexColumn block wide"},hA={class:"alignSelfCenter h1 flexRow alignCenter"},mA={id:"cards",class:"flexRow"},pA={key:0},gA={class:"flexColumn"},bA=Ct({__name:"CoursesList",props:{title:{},courses:{}},setup(n){const e=n,t=se({dialogVisible:!1,btnWasPressed:!1,name:"",description:"",password:""}),i=Ne(()=>t.value.btnWasPressed&&!t.value.name),s=Ne(()=>t.value.btnWasPressed&&!t.value.password),r=at("showError"),o=ui();async function a(){if(t.value.btnWasPressed=!0,i.value||s.value){r(' ""  ""   ');return}try{e.courses.push(await Kt.addCourse(t.value.name,t.value.description,o.id,t.value.password)),t.value.dialogVisible=!1}catch(l){An(l)}}return(l,c)=>{const u=xi("tooltip");return S(),$(ye,null,[R("div",fA,[R("div",hA,[R("div",null,_e(l.title),1),A(o).isTeacher?vn((S(),fe(A(mt),{key:0,icon:"pi pi-plus",text:"",onClick:c[0]||(c[0]=d=>t.value.dialogVisible=!0)},null,512)),[[u," "]]):me("",!0)]),I(A(os)),R("div",mA,[(S(!0),$(ye,null,Ft(e.courses,d=>(S(),fe(A(xy),{course:d},null,8,["course"]))),256))]),l.courses.length?me("",!0):(S(),$("div",pA,"   ... "))]),I(A(as),{visible:t.value.dialogVisible,"onUpdate:visible":c[5]||(c[5]=d=>t.value.dialogVisible=d),modal:"",header:" "},{footer:ie(()=>[I(A(mt),{label:"",severity:"danger",onClick:c[4]||(c[4]=d=>t.value.dialogVisible=!1)}),I(A(mt),{label:"",onClick:a})]),default:ie(()=>[R("div",gA,[I(A(zt),{modelValue:t.value.name,"onUpdate:modelValue":c[1]||(c[1]=d=>t.value.name=d),placeholder:" ",invalid:i.value},null,8,["modelValue","invalid"]),I(A(Ry),{modelValue:t.value.description,"onUpdate:modelValue":c[2]||(c[2]=d=>t.value.description=d),placeholder:"  ",autoResize:""},null,8,["modelValue"]),I(A(zt),{modelValue:t.value.password,"onUpdate:modelValue":c[3]||(c[3]=d=>t.value.password=d),placeholder:" ",invalid:s.value},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])],64)}}}),My=Li(bA,[["__scopeId","data-v-fc9722db"]]),vA={class:"flexColumn alignCenter"},yA={class:"flexRow alignCenter block wide"},wA={class:"flexColumn"},_A=Ct({__name:"Student",async setup(n){let e,t;const i=se([]),s=ui();try{i.value=([e,t]=ht(()=>ni.studentCourses(s.id)),e=await e,t(),e);for(const r of i.value)r.teacherShortName=ny(([e,t]=ht(()=>ni.teacher(r.teacher_profile)),e=await e,t(),e))}catch(r){An(r)}return(r,o)=>(S(),$("div",vA,[I(A(Xa)),R("div",yA,[I(A(rc),{size:"xlarge",avatarPath:A(s).avatar,name:A(s).name},null,8,["avatarPath","name"]),R("div",wA,[R("div",null,_e(A(s).fullName),1),R("div",null," : "+_e(A(s).faculty),1),R("div",null," : "+_e(A(s).group),1)])]),I(A(My),{title:" ",courses:i.value},null,8,["courses"])]))}}),CA={class:"flexColumn alignCenter"},kA={class:"flexRow alignCenter block wide"},EA={class:"flexColumn"},TA=Ct({__name:"Teacher",async setup(n){let e,t;const i=Za(),s=ui(),r=se(parseInt(i.params.id)),o=se({}),a=se(""),l=Ne(()=>s.role===xs.Student?"":" "),c=se([]);try{if(o.value=([e,t]=ht(()=>ni.teacher(r.value)),e=await e,t(),e),a.value=fh(o.value),c.value=([e,t]=ht(()=>ni.teacherCourses(r.value)),e=await e,t(),e),s.isStudent)for(const u of c.value)u.studentHasIt=([e,t]=ht(()=>ni.studentHasCourse(s.id,u.id)),e=await e,t(),e)}catch(u){An(u)}return(u,d)=>(S(),$("div",CA,[I(A(Xa)),R("div",kA,[I(A(rc),{size:"xlarge",avatarPath:o.value.avatar,name:o.value.name},null,8,["avatarPath","name"]),R("div",EA,[R("div",null,_e(a.value),1),R("div",null," : "+_e(o.value.faculty),1)])]),I(A(My),{title:l.value,courses:c.value},null,8,["title","courses"])]))}});var Ly={name:"ChevronDownIcon",extends:On},SA=R("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),PA=[SA];function AA(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),PA,16)}Ly.render=AA;var By={name:"ChevronRightIcon",extends:On},xA=R("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),OA=[xA];function IA(n,e,t,i,s,r){return S(),$("svg",B({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.pti()),OA,16)}By.render=IA;var RA={root:"p-accordion p-component",tab:{root:function(e){var t=e.instance,i=e.index;return["p-accordion-tab",{"p-accordion-tab-active":t.isTabActive(i)}]},header:function(e){var t=e.instance,i=e.tab,s=e.index;return["p-accordion-header",{"p-highlight":t.isTabActive(s),"p-disabled":t.getTabProp(i,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},MA=Je.extend({name:"accordion",classes:RA}),LA={name:"BaseAccordion",extends:ut,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:MA,provide:function(){return{$parentInstance:this}}},Dy={name:"Accordion",extends:LA,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||Ht()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||Ht()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,t){return e.props?e.props[t]:void 0},getKey:function(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,t,i){var s=this.tabs.length,r={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:i,count:s,first:i===0,last:i===s-1,active:this.isTabActive(i)}};return B(this.ptm("tab.".concat(t),{tab:r}),this.ptm("accordiontab.".concat(t),{accordiontab:r}),this.ptm("accordiontab.".concat(t),r),this.ptmo(this.getTabProp(e,"pt"),t,r))},onTabClick:function(e,t,i){this.changeActiveIndex(e,t,i),this.$emit("tab-click",{originalEvent:e,index:i})},onTabKeyDown:function(e,t,i){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,t,i);break}},onTabArrowDownKey:function(e){var t=this.findNextHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var t=this.findPrevHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey:function(e){var t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEnterKey:function(e,t,i){this.changeActiveIndex(e,t,i),e.preventDefault()},findNextHeaderAction:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t?e:e.nextElementSibling,s=D.findSingle(i,'[data-pc-section="header"]');return s?D.getAttribute(s,"data-p-disabled")?this.findNextHeaderAction(s.parentElement):D.findSingle(s,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=t?e:e.previousElementSibling,s=D.findSingle(i,'[data-pc-section="header"]');return s?D.getAttribute(s,"data-p-disabled")?this.findPrevHeaderAction(s.parentElement):D.findSingle(s,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,t,i){if(!this.getTabProp(t,"disabled")){var s=this.isTabActive(i),r=s?"tab-close":"tab-open";this.multiple?s?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==i}):this.d_activeIndex?this.d_activeIndex.push(i):this.d_activeIndex=[i]:this.d_activeIndex=this.d_activeIndex===i?null:i,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(r,{originalEvent:e,index:i})}},changeFocusedTab:function(e,t){if(t&&(D.focus(t),this.selectOnFocus)){var i=parseInt(t.parentElement.parentElement.dataset.pcIndex,10),s=this.tabs[i];this.changeActiveIndex(e,s,i)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(t,i){return e.isAccordionTab(i)?t.push(i):i.children&&i.children instanceof Array&&i.children.forEach(function(s){e.isAccordionTab(s)&&t.push(s)}),t},[])}},components:{ChevronDownIcon:Ly,ChevronRightIcon:By},directives:{ripple:Ya}};function wa(n){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(n)}function Qp(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function dr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qp(Object(t),!0).forEach(function(i){BA(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qp(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BA(n,e,t){return e=DA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DA(n){var e=VA(n,"string");return wa(e)=="symbol"?e:String(e)}function VA(n,e){if(wa(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(wa(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $A=["data-pc-index","data-p-active"],FA=["data-p-highlight","data-p-disabled"],NA=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],HA=["id","aria-labelledby"];function jA(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},n.ptmi("root")),[(S(!0),$(ye,null,Ft(r.tabs,function(o,a){return S(),$("div",B({key:r.getKey(o,a),class:n.cx("tab.root",{tab:o,index:a})},r.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":r.isTabActive(a)}),[R("div",B({style:r.getTabProp(o,"headerStyle"),class:[n.cx("tab.header",{tab:o,index:a}),r.getTabProp(o,"headerClass")]},dr(dr({},r.getTabProp(o,"headerProps")),r.getTabPT(o,"header",a)),{"data-p-highlight":r.isTabActive(a),"data-p-disabled":r.getTabProp(o,"disabled")}),[R("a",B({id:r.getTabHeaderActionId(a),class:n.cx("tab.headerAction"),tabindex:r.getTabProp(o,"disabled")?-1:n.tabindex,role:"button","aria-disabled":r.getTabProp(o,"disabled"),"aria-expanded":r.isTabActive(a),"aria-controls":r.getTabContentId(a),onClick:function(c){return r.onTabClick(c,o,a)},onKeydown:function(c){return r.onTabKeyDown(c,o,a)}},dr(dr({},r.getTabProp(o,"headeractionprops")),r.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(S(),fe(kt(o.children.headericon),{key:0,isTabActive:r.isTabActive(a),active:r.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):r.isTabActive(a)?(S(),fe(kt(n.$slots.collapseicon?n.$slots.collapseicon:n.collapseIcon?"span":"ChevronDownIcon"),B({key:1,class:[n.cx("tab.headerIcon"),n.collapseIcon],"aria-hidden":"true"},r.getTabPT(o,"headericon",a)),null,16,["class"])):(S(),fe(kt(n.$slots.expandicon?n.$slots.expandicon:n.expandIcon?"span":"ChevronRightIcon"),B({key:2,class:[n.cx("tab.headerIcon"),n.expandIcon],"aria-hidden":"true"},r.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(S(),$("span",B({key:3,class:n.cx("tab.headerTitle")},r.getTabPT(o,"headertitle",a)),_e(o.props.header),17)):me("",!0),o.children&&o.children.header?(S(),fe(kt(o.children.header),{key:4})):me("",!0)],16,NA)],16,FA),I(tr,B({name:"p-toggleable-content"},r.getTabPT(o,"transition",a)),{default:ie(function(){return[!n.lazy||r.isTabActive(a)?vn((S(),$("div",B({key:0,id:r.getTabContentId(a),style:r.getTabProp(o,"contentStyle"),class:[n.cx("tab.toggleableContent"),r.getTabProp(o,"contentClass")],role:"region","aria-labelledby":r.getTabHeaderActionId(a)},dr(dr({},r.getTabProp(o,"contentProps")),r.getTabPT(o,"toggleablecontent",a))),[R("div",B({class:n.cx("tab.content")},r.getTabPT(o,"content",a)),[(S(),fe(kt(o)))],16)],16,HA)),[[th,n.lazy?!0:r.isTabActive(a)]]):me("",!0)]}),_:2},1040)],16,$A)}),128))],16)}Dy.render=jA;var UA={},zA={name:"BaseAccordionTab",extends:ut,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:UA,provide:function(){return{$parentInstance:this}}},Vy={name:"AccordionTab",extends:zA,inheritAttrs:!1};function WA(n,e,t,i,s,r){return Ie(n.$slots,"default")}Vy.render=WA;const KA={class:"flexColumn"},qA={class:"h1 flexRow alignCenter"},GA=R("div",null,"",-1),ZA={class:"sub flexColumn"},JA={key:0},YA={class:"h1 flexRow alignCenter"},XA=R("div",null," ",-1),QA={class:"sub flexColumn"},ex={key:0},tx={class:"flexColumn"},nx=R("label",{for:"name"},"",-1),ix=R("i",{class:"pi pi-file"},null,-1),sx=R("small",{id:"name-help"},"  ",-1),rx={class:"flexColumn"},ox=R("label",{for:"name"},"",-1),ax=R("i",{class:"pi pi-file"},null,-1),lx=R("small",{id:"name-help"},"  ",-1),cx=Ct({__name:"Module",props:{module:{}},async setup(n){let e,t;const i=ui(),s=at("showSuccess"),r=at("showError"),o=n,a=se([]),l=se([]),c=se({dialogVisible:!1,btnWasPressed:!1,name:""}),u=se({dialogVisible:!1,btnWasPressed:!1,name:""});try{a.value=([e,t]=ht(()=>Kt.moduleLessons(o.module.id)),e=await e,t(),e),l.value=([e,t]=ht(()=>Kt.moduleCheckpoints(o.module.id)),e=await e,t(),e)}catch(h){An(h)}async function d(){if(c.value.btnWasPressed=!0,!c.value.name){r("    ,   !");return}try{a.value.push(await Kt.addLesson(c.value.name,o.module.id)),c.value.dialogVisible=!1,s(" ")}catch(h){An(h)}}async function f(){if(u.value.btnWasPressed=!0,!u.value.name){r("    ,   !");return}try{l.value.push(await sc.addCheckpoint(u.value.name,o.module.id)),u.value.dialogVisible=!1,s(" ")}catch(h){An(h)}}return(h,m)=>{const p=Tt("router-link"),v=xi("tooltip");return S(),$(ye,null,[R("div",KA,[R("div",qA,[GA,A(i).isTeacher?vn((S(),fe(A(mt),{key:0,icon:"pi pi-plus",text:"",onClick:m[0]||(m[0]=_=>{c.value.dialogVisible=!0})},null,512)),[[v," "]]):me("",!0)]),R("div",ZA,[(S(!0),$(ye,null,Ft(a.value,_=>(S(),fe(p,{key:_.id,to:{name:"lesson",params:{id:_.id}}},{default:ie(()=>[Lt(_e(_.name),1)]),_:2},1032,["to"]))),128)),a.value.length?me("",!0):(S(),$("div",JA,"   ... "))]),R("div",YA,[XA,A(i).isTeacher?vn((S(),fe(A(mt),{key:0,icon:"pi pi-plus",text:"",onClick:m[1]||(m[1]=_=>{u.value.dialogVisible=!0})},null,512)),[[v," "]]):me("",!0)]),R("div",QA,[(S(!0),$(ye,null,Ft(l.value,_=>(S(),fe(p,{key:_.id,to:{name:"checkpoint",params:{id:_.id}}},{default:ie(()=>[Lt(_e(_.name),1)]),_:2},1032,["to"]))),128)),l.value.length?me("",!0):(S(),$("div",ex,"    ... "))])]),I(A(as),{visible:c.value.dialogVisible,"onUpdate:visible":m[4]||(m[4]=_=>c.value.dialogVisible=_),modal:"",header:" "},{footer:ie(()=>[I(A(mt),{label:"",severity:"danger",onClick:m[3]||(m[3]=_=>c.value.dialogVisible=!1)}),I(A(mt),{label:"",onClick:d})]),default:ie(()=>[R("div",tx,[nx,I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[ix]),_:1}),I(A(zt),{modelValue:c.value.name,"onUpdate:modelValue":m[2]||(m[2]=_=>c.value.name=_),id:"name","aria-describedby":"name-help",invalid:c.value.btnWasPressed&&!c.value.name},null,8,["modelValue","invalid"])]),_:1}),sx])]),_:1},8,["visible"]),I(A(as),{visible:u.value.dialogVisible,"onUpdate:visible":m[7]||(m[7]=_=>u.value.dialogVisible=_),modal:"",header:" "},{footer:ie(()=>[I(A(mt),{label:"",severity:"danger",onClick:m[6]||(m[6]=_=>u.value.dialogVisible=!1)}),I(A(mt),{label:"",onClick:f})]),default:ie(()=>[R("div",rx,[ox,I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[ax]),_:1}),I(A(zt),{modelValue:u.value.name,"onUpdate:modelValue":m[5]||(m[5]=_=>u.value.name=_),id:"name","aria-describedby":"name-help",invalid:u.value.btnWasPressed&&!u.value.name},null,8,["modelValue","invalid"])]),_:1}),lx])]),_:1},8,["visible"])],64)}}}),io=n=>(Fa("data-v-aa02d3a2"),n=n(),Na(),n),ux={class:"flexColumn alignCenter"},dx={class:"flexRow block wide"},fx={class:"flexColumn"},hx={key:0,class:"flexColumn"},mx=io(()=>R("div",null,"  : ",-1)),px={class:"flexColumn"},gx={class:"flexRow alignEnd"},bx={class:"h1"},vx=io(()=>R("th",null,"",-1)),yx=io(()=>R("th",null,"",-1)),wx=io(()=>R("label",{for:"name"},"",-1)),_x=io(()=>R("i",{class:"pi pi-file"},null,-1)),Cx=io(()=>R("small",{id:"name-help"},"  ",-1)),kx=Ct({__name:"Course",async setup(n){let e,t;const i=at("showSuccess"),s=at("showError"),r=Za(),o=se(parseInt(r.params.id)),a=se({}),l=se([]),c=se(""),u=ui(),d=se([]),f=se(!1),h=se([]),m=se(!1),p=se([]),v=se({visible:!1,btnWasPressed:!1,name:""});try{if(a.value=([e,t]=ht(()=>Kt.course(o.value)),e=await e,t(),e),l.value=([e,t]=ht(()=>Kt.courseModules(o.value)),e=await e,t(),e),u.isStudent)c.value=fh(([e,t]=ht(()=>ni.teacher(a.value.teacher_profile)),e=await e,t(),e)),d.value=([e,t]=ht(()=>ni.studentGradesInCourse(u.id,o.value)),e=await e,t(),e);else{p.value=([e,t]=ht(()=>Kt.courseCheckpoints(o.value)),e=await e,t(),e);const w=([e,t]=ht(()=>Kt.courseStudents(o.value)),e=await e,t(),e);for(const C of w){const P=[];for(const b of p.value)P.push(([e,t]=ht(()=>ni.getStudentGradeOnCheckpoint(C.id,b.id)),e=await e,t(),e));h.value.push({student:ny(C),group:C.group,grades:P})}}}catch(w){An(w)}function _(){f.value=!0}async function E(){if(v.value.btnWasPressed=!0,!v.value.name){s("  ");return}try{l.value.push(await Kt.addModule(v.value.name,o.value)),v.value.visible=!1,i(" ")}catch(w){An(w)}}return(w,C)=>{const P=Tt("router-link");return S(),$(ye,null,[R("div",ux,[I(A(Xa)),R("div",dx,[R("div",fx,[I(A(xy),{course:a.value},null,8,["course"]),A(u).isStudent?(S(),$("div",hx,[mx,I(P,{to:{name:"teacher",params:{id:a.value.teacher_profile}}},{default:ie(()=>[Lt(_e(c.value),1)]),_:1},8,["to"])])):me("",!0),A(u).isStudent?(S(),fe(A(mt),{key:1,label:"",text:"",onClick:_})):(S(),fe(A(mt),{key:2,label:" ",text:"",onClick:C[0]||(C[0]=b=>m.value=!0)})),A(u).isTeacher?(S(),fe(A(mt),{key:3,label:" ",text:"",onClick:C[1]||(C[1]=b=>v.value.visible=!0)})):me("",!0)]),I(A(Dy),null,{default:ie(()=>[(S(!0),$(ye,null,Ft(l.value,(b,M)=>(S(),fe(A(Vy),{key:b.id,header:`${M+1}. ${b.name}`},{default:ie(()=>[I(A(cx),{module:b},null,8,["module"])]),_:2},1032,["header"]))),128))]),_:1})])]),I(A(as),{visible:f.value,"onUpdate:visible":C[2]||(C[2]=b=>f.value=b),modal:"",header:""},{default:ie(()=>[R("div",px,[(S(!0),$(ye,null,Ft(d.value,b=>(S(),$("div",gx,[R("div",bx,_e(b.number)+". "+_e(b.name),1),R("div",null,"  "+_e(b.grade),1)]))),256))])]),_:1},8,["visible"]),I(A(as),{visible:m.value,"onUpdate:visible":C[3]||(C[3]=b=>m.value=b),modal:"",header:" "},{default:ie(()=>[R("table",null,[R("tr",null,[vx,yx,(S(!0),$(ye,null,Ft(p.value,b=>(S(),$("th",null,_e(b.checkpoint_number)+". "+_e(b.name),1))),256))]),(S(!0),$(ye,null,Ft(h.value,b=>(S(),$("tr",null,[R("td",null,_e(b.student),1),R("td",null,_e(b.group),1),(S(!0),$(ye,null,Ft(b.grades,M=>(S(),$("td",null,_e(M),1))),256))]))),256))])]),_:1},8,["visible"]),I(A(as),{visible:v.value.visible,"onUpdate:visible":C[6]||(C[6]=b=>v.value.visible=b),modal:"",header:" "},{footer:ie(()=>[I(A(mt),{label:"",severity:"danger",onClick:C[5]||(C[5]=b=>v.value.visible=!1)}),I(A(mt),{label:"",onClick:E})]),default:ie(()=>[wx,I(A(Ei),null,{default:ie(()=>[I(A(Ti),null,{default:ie(()=>[_x]),_:1}),I(A(zt),{modelValue:v.value.name,"onUpdate:modelValue":C[4]||(C[4]=b=>v.value.name=b),id:"name","aria-describedby":"name-help",invalid:v.value.btnWasPressed&&!v.value.name},null,8,["modelValue","invalid"])]),_:1}),Cx]),_:1},8,["visible"])],64)}}}),Ex=Li(kx,[["__scopeId","data-v-aa02d3a2"]]);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Tx(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const _s=Tx(),ke={isMac:$y(_s),isWindows:Sx(_s),isGecko:Px(_s),isSafari:Ax(_s),isiOS:xx(_s),isAndroid:Ox(_s),isBlink:Ix(_s),isMediaForcedColors:Mx(),get isMotionReduced(){return Lx()},features:{isRegExpUnicodePropertySupported:Rx()}};function $y(n){return n.indexOf("macintosh")>-1}function Sx(n){return n.indexOf("windows")>-1}function Px(n){return!!n.match(/gecko\/\d+/)}function Ax(n){return n.indexOf(" applewebkit/")>-1&&n.indexOf("chrome")===-1}function xx(n){return!!n.match(/iphone|ipad/i)||$y(n)&&navigator.maxTouchPoints>0}function Ox(n){return n.indexOf("android")>-1}function Ix(n){return n.indexOf("chrome/")>-1&&n.indexOf("edge/")<0}function Rx(){let n=!1;try{n="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return n}function Mx(){return window.matchMedia("(forced-colors: active)").matches}function Lx(){return window.matchMedia("(prefers-reduced-motion)").matches}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Fy(n,e,t,i){t=t||function(l,c){return l===c};const s=Array.isArray(n)?n:Array.prototype.slice.call(n),r=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Bx(s,r,t);return i?Vx(o,r.length):Dx(r,o)}function Bx(n,e,t){const i=eg(n,e,t);if(i===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const s=tg(n,i),r=tg(e,i),o=eg(s,r,t),a=n.length-o,l=e.length-o;return{firstIndex:i,lastIndexOld:a,lastIndexNew:l}}function eg(n,e,t){for(let i=0;i<Math.max(n.length,e.length);i++)if(n[i]===void 0||e[i]===void 0||!t(n[i],e[i]))return i;return-1}function tg(n,e){return n.slice(e).reverse()}function Dx(n,e){const t=[],{firstIndex:i,lastIndexOld:s,lastIndexNew:r}=e;return r-i>0&&t.push({index:i,type:"insert",values:n.slice(i,r)}),s-i>0&&t.push({index:i+(r-i),type:"delete",howMany:s-i}),t}function Vx(n,e){const{firstIndex:t,lastIndexOld:i,lastIndexNew:s}=n;if(t===-1)return Array(e).fill("equal");let r=[];return t>0&&(r=r.concat(Array(t).fill("equal"))),s-t>0&&(r=r.concat(Array(s-t).fill("insert"))),i-t>0&&(r=r.concat(Array(i-t).fill("delete"))),s<e&&(r=r.concat(Array(e-s).fill("equal"))),r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jo(n,e,t){t=t||function(p,v){return p===v};const i=n.length,s=e.length;if(i>200||s>200||i+s>300)return jo.fastDiff(n,e,t,!0);let r,o;if(s<i){const p=n;n=e,e=p,r="delete",o="insert"}else r="insert",o="delete";const a=n.length,l=e.length,c=l-a,u={},d={};function f(p){const v=(d[p-1]!==void 0?d[p-1]:-1)+1,_=d[p+1]!==void 0?d[p+1]:-1,E=v>_?-1:1;u[p+E]&&(u[p]=u[p+E].slice(0)),u[p]||(u[p]=[]),u[p].push(v>_?r:o);let w=Math.max(v,_),C=w-p;for(;C<a&&w<l&&t(n[C],e[w]);)C++,w++,u[p].push("equal");return w}let h=0,m;do{for(m=-h;m<c;m++)d[m]=f(m);for(m=c+h;m>c;m--)d[m]=f(m);d[c]=f(c),h++}while(d[c]!==l);return u[c].slice(1)}jo.fastDiff=Fy;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ng(){return function n(){n.called=!0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oi{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=ng(),this.off=ng()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vt=new Array(256).fill("").map((n,e)=>("0"+e.toString(16)).slice(-2));function oi(){const n=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0;return"e"+Vt[n>>0&255]+Vt[n>>8&255]+Vt[n>>16&255]+Vt[n>>24&255]+Vt[e>>0&255]+Vt[e>>8&255]+Vt[e>>16&255]+Vt[e>>24&255]+Vt[t>>0&255]+Vt[t>>8&255]+Vt[t>>16&255]+Vt[t>>24&255]+Vt[i>>0&255]+Vt[i>>8&255]+Vt[i>>16&255]+Vt[i>>24&255]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const $s={get(n="normal"){return typeof n!="number"?this[n]||this.normal:n},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $x(n,e){const t=$s.get(e.priority);for(let i=0;i<n.length;i++)if($s.get(n[i].priority)<t){n.splice(i,0,e);return}n.push(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Fx="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class k extends Error{constructor(e,t,i){super(Nx(e,i)),this.name="CKEditorError",this.context=t,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const i=new k(e.message,t);throw i.stack=e.stack,i}}function gt(n,e){console.warn(...Hx(n,e))}function Ny(n){return`
Read more: ${Fx}#error-${n}`}function Nx(n,e){const t=new WeakSet,s=e?` ${JSON.stringify(e,(o,a)=>{if(typeof a=="object"&&a!==null){if(t.has(a))return`[object ${a.constructor.name}]`;t.add(a)}return a})}`:"",r=Ny(n);return n+s+r}function Hx(n,e){const t=Ny(n);return e?[n,e,t]:[n,t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const jx="41.4.1",Ux=new Date(2024,4,16);/* istanbul ignore next -- @preserve */if(globalThis.CKEDITOR_VERSION)throw new k("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=jx;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const wr=Symbol("listeningTo"),Zd=Symbol("emitterId"),fi=Symbol("delegations"),Hy=Ge(Object);function Ge(n){if(!n)return Hy;class e extends n{on(i,s,r){this.listenTo(this,i,s,r)}once(i,s,r){let o=!1;const a=(l,...c)=>{o||(o=!0,l.off(),s.call(this,l,...c))};this.listenTo(this,i,a,r)}off(i,s){this.stopListening(this,i,s)}listenTo(i,s,r,o={}){let a,l;this[wr]||(this[wr]={});const c=this[wr];Du(i)||jy(i);const u=Du(i);(a=c[u])||(a=c[u]={emitter:i,callbacks:{}}),(l=a.callbacks[s])||(l=a.callbacks[s]=[]),l.push(r),qx(this,i,s,r,o)}stopListening(i,s,r){const o=this[wr];let a=i&&Du(i);const l=o&&a?o[a]:void 0,c=l&&s?l.callbacks[s]:void 0;if(!(!o||i&&!l||s&&!c))if(r)Vu(this,i,s,r),c.indexOf(r)!==-1&&(c.length===1?delete l.callbacks[s]:Vu(this,i,s,r));else if(c){for(;r=c.pop();)Vu(this,i,s,r);delete l.callbacks[s]}else if(l){for(s in l.callbacks)this.stopListening(i,s);delete o[a]}else{for(a in o)this.stopListening(o[a].emitter);delete this[wr]}}fire(i,...s){try{const r=i instanceof Oi?i:new Oi(this,i),o=r.name;let a=zy(this,o);if(r.path.push(this),a){const c=[r,...s];a=Array.from(a);for(let u=0;u<a.length&&(a[u].callback.apply(this,c),r.off.called&&(delete r.off.called,this._removeEventListener(o,a[u].callback)),!r.stop.called);u++);}const l=this[fi];if(l){const c=l.get(o),u=l.get("*");c&&ig(c,r,s),u&&ig(u,r,s)}return r.return}catch(r){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(r,this)}}delegate(...i){return{to:(s,r)=>{this[fi]||(this[fi]=new Map),i.forEach(o=>{const a=this[fi].get(o);a?a.set(s,r):this[fi].set(o,new Map([[s,r]]))})}}}stopDelegating(i,s){if(this[fi])if(!i)this[fi].clear();else if(!s)this[fi].delete(i);else{const r=this[fi].get(i);r&&r.delete(s)}}_addEventListener(i,s,r){Kx(this,i);const o=Jd(this,i),a=$s.get(r.priority),l={callback:s,priority:a};for(const c of o)$x(c,l)}_removeEventListener(i,s){const r=Jd(this,i);for(const o of r)for(let a=0;a<o.length;a++)o[a].callback==s&&(o.splice(a,1),a--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{Ge[n]=Hy.prototype[n]});function zx(n,e){const t=n[wr];return t&&t[e]?t[e].emitter:null}function jy(n,e){n[Zd]||(n[Zd]=e||oi())}function Du(n){return n[Zd]}function Uy(n){return n._events||Object.defineProperty(n,"_events",{value:{}}),n._events}function Wx(){return{callbacks:[],childEvents:[]}}function Kx(n,e){const t=Uy(n);if(t[e])return;let i=e,s=null;const r=[];for(;i!==""&&!t[i];)t[i]=Wx(),r.push(t[i]),s&&t[i].childEvents.push(s),s=i,i=i.substr(0,i.lastIndexOf(":"));if(i!==""){for(const o of r)o.callbacks=t[i].callbacks.slice();t[i].childEvents.push(s)}}function Jd(n,e){const t=Uy(n)[e];if(!t)return[];let i=[t.callbacks];for(let s=0;s<t.childEvents.length;s++){const r=Jd(n,t.childEvents[s]);i=i.concat(r)}return i}function zy(n,e){let t;return!n._events||!(t=n._events[e])||!t.callbacks.length?e.indexOf(":")>-1?zy(n,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function ig(n,e,t){for(let[i,s]of n){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const r=new Oi(e.source,s);r.path=[...e.path],i.fire(r,...t)}}function qx(n,e,t,i,s){e._addEventListener?e._addEventListener(t,i,s):n._addEventListener.call(e,t,i,s)}function Vu(n,e,t,i){e._removeEventListener?e._removeEventListener(t,i):n._removeEventListener.call(e,t,i)}var Wy=typeof global=="object"&&global&&global.Object===Object&&global,Gx=typeof self=="object"&&self&&self.Object===Object&&self,Wn=Wy||Gx||Function("return this")(),ai=Wn.Symbol,Ky=Object.prototype,Zx=Ky.hasOwnProperty,Jx=Ky.toString,bo=ai?ai.toStringTag:void 0;function Yx(n){var e=Zx.call(n,bo),t=n[bo];try{n[bo]=void 0;var i=!0}catch{}var s=Jx.call(n);return i&&(e?n[bo]=t:delete n[bo]),s}var Xx=Object.prototype,Qx=Xx.toString;function e9(n){return Qx.call(n)}var t9="[object Null]",n9="[object Undefined]",sg=ai?ai.toStringTag:void 0;function ms(n){return n==null?n===void 0?n9:t9:sg&&sg in Object(n)?Yx(n):e9(n)}function xn(n){return n!=null&&typeof n=="object"}var i9="[object Symbol]";function Gc(n){return typeof n=="symbol"||xn(n)&&ms(n)==i9}function s9(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var yn=Array.isArray,r9=1/0,rg=ai?ai.prototype:void 0,og=rg?rg.toString:void 0;function qy(n){if(typeof n=="string")return n;if(yn(n))return s9(n,qy)+"";if(Gc(n))return og?og.call(n):"";var e=n+"";return e=="0"&&1/n==-r9?"-0":e}var o9=/\s/;function a9(n){for(var e=n.length;e--&&o9.test(n.charAt(e)););return e}var l9=/^\s+/;function c9(n){return n&&n.slice(0,a9(n)+1).replace(l9,"")}function ct(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var ag=NaN,u9=/^[-+]0x[0-9a-f]+$/i,d9=/^0b[01]+$/i,f9=/^0o[0-7]+$/i,h9=parseInt;function lg(n){if(typeof n=="number")return n;if(Gc(n))return ag;if(ct(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ct(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=c9(n);var t=d9.test(n);return t||f9.test(n)?h9(n.slice(2),t?2:8):u9.test(n)?ag:+n}function _h(n){return n}var m9="[object AsyncFunction]",p9="[object Function]",g9="[object GeneratorFunction]",b9="[object Proxy]";function qs(n){if(!ct(n))return!1;var e=ms(n);return e==p9||e==g9||e==m9||e==b9}var $u=Wn["__core-js_shared__"],cg=function(){var n=/[^.]+$/.exec($u&&$u.keys&&$u.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function v9(n){return!!cg&&cg in n}var y9=Function.prototype,w9=y9.toString;function ir(n){if(n!=null){try{return w9.call(n)}catch{}try{return n+""}catch{}}return""}var _9=/[\\^$.*+?()[\]{}|]/g,C9=/^\[object .+?Constructor\]$/,k9=Function.prototype,E9=Object.prototype,T9=k9.toString,S9=E9.hasOwnProperty,P9=RegExp("^"+T9.call(S9).replace(_9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A9(n){if(!ct(n)||v9(n))return!1;var e=qs(n)?P9:C9;return e.test(ir(n))}function x9(n,e){return n==null?void 0:n[e]}function sr(n,e){var t=x9(n,e);return A9(t)?t:void 0}var Yd=sr(Wn,"WeakMap"),ug=Object.create,O9=function(){function n(){}return function(e){if(!ct(e))return{};if(ug)return ug(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function I9(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Gy(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var R9=800,M9=16,L9=Date.now;function B9(n){var e=0,t=0;return function(){var i=L9(),s=M9-(i-t);if(t=i,s>0){if(++e>=R9)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function D9(n){return function(){return n}}var oc=function(){try{var n=sr(Object,"defineProperty");return n({},"",{}),n}catch{}}(),V9=oc?function(n,e){return oc(n,"toString",{configurable:!0,enumerable:!1,value:D9(e),writable:!0})}:_h,$9=B9(V9);function F9(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var N9=9007199254740991,H9=/^(?:0|[1-9]\d*)$/;function Zc(n,e){var t=typeof n;return e=e??N9,!!e&&(t=="number"||t!="symbol"&&H9.test(n))&&n>-1&&n%1==0&&n<e}function Jc(n,e,t){e=="__proto__"&&oc?oc(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Qa(n,e){return n===e||n!==n&&e!==e}var j9=Object.prototype,U9=j9.hasOwnProperty;function Ch(n,e,t){var i=n[e];(!(U9.call(n,e)&&Qa(i,t))||t===void 0&&!(e in n))&&Jc(n,e,t)}function so(n,e,t,i){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var a=e[r],l=void 0;l===void 0&&(l=n[a]),s?Jc(t,a,l):Ch(t,a,l)}return t}var dg=Math.max;function z9(n,e,t){return e=dg(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,r=dg(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=t(o),I9(n,this,a)}}function W9(n,e){return $9(z9(n,e,_h),n+"")}var K9=9007199254740991;function kh(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=K9}function Yc(n){return n!=null&&kh(n.length)&&!qs(n)}function q9(n,e,t){if(!ct(t))return!1;var i=typeof e;return(i=="number"?Yc(t)&&Zc(e,t.length):i=="string"&&e in t)?Qa(t[e],n):!1}function Zy(n){return W9(function(e,t){var i=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&q9(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var a=t[i];a&&n(e,a,i,r)}return e})}var G9=Object.prototype;function Eh(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||G9;return n===t}function Z9(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var J9="[object Arguments]";function fg(n){return xn(n)&&ms(n)==J9}var Jy=Object.prototype,Y9=Jy.hasOwnProperty,X9=Jy.propertyIsEnumerable,ac=fg(function(){return arguments}())?fg:function(n){return xn(n)&&Y9.call(n,"callee")&&!X9.call(n,"callee")};function Q9(){return!1}var Yy=typeof pn=="object"&&pn&&!pn.nodeType&&pn,hg=Yy&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,e8=hg&&hg.exports===Yy,mg=e8?Wn.Buffer:void 0,t8=mg?mg.isBuffer:void 0,_a=t8||Q9,n8="[object Arguments]",i8="[object Array]",s8="[object Boolean]",r8="[object Date]",o8="[object Error]",a8="[object Function]",l8="[object Map]",c8="[object Number]",u8="[object Object]",d8="[object RegExp]",f8="[object Set]",h8="[object String]",m8="[object WeakMap]",p8="[object ArrayBuffer]",g8="[object DataView]",b8="[object Float32Array]",v8="[object Float64Array]",y8="[object Int8Array]",w8="[object Int16Array]",_8="[object Int32Array]",C8="[object Uint8Array]",k8="[object Uint8ClampedArray]",E8="[object Uint16Array]",T8="[object Uint32Array]",tt={};tt[b8]=tt[v8]=tt[y8]=tt[w8]=tt[_8]=tt[C8]=tt[k8]=tt[E8]=tt[T8]=!0;tt[n8]=tt[i8]=tt[p8]=tt[s8]=tt[g8]=tt[r8]=tt[o8]=tt[a8]=tt[l8]=tt[c8]=tt[u8]=tt[d8]=tt[f8]=tt[h8]=tt[m8]=!1;function S8(n){return xn(n)&&kh(n.length)&&!!tt[ms(n)]}function Th(n){return function(e){return n(e)}}var Xy=typeof pn=="object"&&pn&&!pn.nodeType&&pn,Uo=Xy&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,P8=Uo&&Uo.exports===Xy,Fu=P8&&Wy.process,Wr=function(){try{var n=Uo&&Uo.require&&Uo.require("util").types;return n||Fu&&Fu.binding&&Fu.binding("util")}catch{}}(),pg=Wr&&Wr.isTypedArray,Sh=pg?Th(pg):S8,A8=Object.prototype,x8=A8.hasOwnProperty;function Qy(n,e){var t=yn(n),i=!t&&ac(n),s=!t&&!i&&_a(n),r=!t&&!i&&!s&&Sh(n),o=t||i||s||r,a=o?Z9(n.length,String):[],l=a.length;for(var c in n)(e||x8.call(n,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zc(c,l)))&&a.push(c);return a}function ew(n,e){return function(t){return n(e(t))}}var O8=ew(Object.keys,Object),I8=Object.prototype,R8=I8.hasOwnProperty;function M8(n){if(!Eh(n))return O8(n);var e=[];for(var t in Object(n))R8.call(n,t)&&t!="constructor"&&e.push(t);return e}function el(n){return Yc(n)?Qy(n):M8(n)}function L8(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var B8=Object.prototype,D8=B8.hasOwnProperty;function V8(n){if(!ct(n))return L8(n);var e=Eh(n),t=[];for(var i in n)i=="constructor"&&(e||!D8.call(n,i))||t.push(i);return t}function ro(n){return Yc(n)?Qy(n,!0):V8(n)}var tw=Zy(function(n,e){so(e,ro(e),n)}),$8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F8=/^\w*$/;function Ph(n,e){if(yn(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Gc(n)?!0:F8.test(n)||!$8.test(n)||e!=null&&n in Object(e)}var Ca=sr(Object,"create");function N8(){this.__data__=Ca?Ca(null):{},this.size=0}function H8(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var j8="__lodash_hash_undefined__",U8=Object.prototype,z8=U8.hasOwnProperty;function W8(n){var e=this.__data__;if(Ca){var t=e[n];return t===j8?void 0:t}return z8.call(e,n)?e[n]:void 0}var K8=Object.prototype,q8=K8.hasOwnProperty;function G8(n){var e=this.__data__;return Ca?e[n]!==void 0:q8.call(e,n)}var Z8="__lodash_hash_undefined__";function J8(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ca&&e===void 0?Z8:e,this}function Gs(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Gs.prototype.clear=N8;Gs.prototype.delete=H8;Gs.prototype.get=W8;Gs.prototype.has=G8;Gs.prototype.set=J8;function Y8(){this.__data__=[],this.size=0}function Xc(n,e){for(var t=n.length;t--;)if(Qa(n[t][0],e))return t;return-1}var X8=Array.prototype,Q8=X8.splice;function eO(n){var e=this.__data__,t=Xc(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Q8.call(e,t,1),--this.size,!0}function tO(n){var e=this.__data__,t=Xc(e,n);return t<0?void 0:e[t][1]}function nO(n){return Xc(this.__data__,n)>-1}function iO(n,e){var t=this.__data__,i=Xc(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Bi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Bi.prototype.clear=Y8;Bi.prototype.delete=eO;Bi.prototype.get=tO;Bi.prototype.has=nO;Bi.prototype.set=iO;var ka=sr(Wn,"Map");function sO(){this.size=0,this.__data__={hash:new Gs,map:new(ka||Bi),string:new Gs}}function rO(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Qc(n,e){var t=n.__data__;return rO(e)?t[typeof e=="string"?"string":"hash"]:t.map}function oO(n){var e=Qc(this,n).delete(n);return this.size-=e?1:0,e}function aO(n){return Qc(this,n).get(n)}function lO(n){return Qc(this,n).has(n)}function cO(n,e){var t=Qc(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Di(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Di.prototype.clear=sO;Di.prototype.delete=oO;Di.prototype.get=aO;Di.prototype.has=lO;Di.prototype.set=cO;var uO="Expected a function";function Ah(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(uO);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=t.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return t.cache=r.set(s,o)||r,o};return t.cache=new(Ah.Cache||Di),t}Ah.Cache=Di;var dO=500;function fO(n){var e=Ah(n,function(i){return t.size===dO&&t.clear(),i}),t=e.cache;return e}var hO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mO=/\\(\\)?/g,pO=fO(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(hO,function(t,i,s,r){e.push(s?r.replace(mO,"$1"):i||t)}),e});function xh(n){return n==null?"":qy(n)}function eu(n,e){return yn(n)?n:Ph(n,e)?[n]:pO(xh(n))}var gO=1/0;function oo(n){if(typeof n=="string"||Gc(n))return n;var e=n+"";return e=="0"&&1/n==-gO?"-0":e}function Oh(n,e){e=eu(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[oo(e[t++])];return t&&t==i?n:void 0}function Ea(n,e,t){var i=n==null?void 0:Oh(n,e);return i===void 0?t:i}function nw(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var Ih=ew(Object.getPrototypeOf,Object),bO="[object Object]",vO=Function.prototype,yO=Object.prototype,iw=vO.toString,wO=yO.hasOwnProperty,_O=iw.call(Object);function hn(n){if(!xn(n)||ms(n)!=bO)return!1;var e=Ih(n);if(e===null)return!0;var t=wO.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&iw.call(t)==_O}function sw(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+e];return r}function CO(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:sw(n,e,t)}var kO="\\ud800-\\udfff",EO="\\u0300-\\u036f",TO="\\ufe20-\\ufe2f",SO="\\u20d0-\\u20ff",PO=EO+TO+SO,AO="\\ufe0e\\ufe0f",xO="\\u200d",OO=RegExp("["+xO+kO+PO+AO+"]");function rw(n){return OO.test(n)}function IO(n){return n.split("")}var ow="\\ud800-\\udfff",RO="\\u0300-\\u036f",MO="\\ufe20-\\ufe2f",LO="\\u20d0-\\u20ff",BO=RO+MO+LO,DO="\\ufe0e\\ufe0f",VO="["+ow+"]",Xd="["+BO+"]",Qd="\\ud83c[\\udffb-\\udfff]",$O="(?:"+Xd+"|"+Qd+")",aw="[^"+ow+"]",lw="(?:\\ud83c[\\udde6-\\uddff]){2}",cw="[\\ud800-\\udbff][\\udc00-\\udfff]",FO="\\u200d",uw=$O+"?",dw="["+DO+"]?",NO="(?:"+FO+"(?:"+[aw,lw,cw].join("|")+")"+dw+uw+")*",HO=dw+uw+NO,jO="(?:"+[aw+Xd+"?",Xd,lw,cw,VO].join("|")+")",UO=RegExp(Qd+"(?="+Qd+")|"+jO+HO,"g");function zO(n){return n.match(UO)||[]}function WO(n){return rw(n)?zO(n):IO(n)}function KO(n){return function(e){e=xh(e);var t=rw(e)?WO(e):void 0,i=t?t[0]:e.charAt(0),s=t?CO(t,1).join(""):e.slice(1);return i[n]()+s}}var qO=KO("toUpperCase");function GO(){this.__data__=new Bi,this.size=0}function ZO(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function JO(n){return this.__data__.get(n)}function YO(n){return this.__data__.has(n)}var XO=200;function QO(n,e){var t=this.__data__;if(t instanceof Bi){var i=t.__data__;if(!ka||i.length<XO-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Di(i)}return t.set(n,e),this.size=t.size,this}function Nn(n){var e=this.__data__=new Bi(n);this.size=e.size}Nn.prototype.clear=GO;Nn.prototype.delete=ZO;Nn.prototype.get=JO;Nn.prototype.has=YO;Nn.prototype.set=QO;function eI(n,e){return n&&so(e,el(e),n)}function tI(n,e){return n&&so(e,ro(e),n)}var fw=typeof pn=="object"&&pn&&!pn.nodeType&&pn,gg=fw&&typeof gn=="object"&&gn&&!gn.nodeType&&gn,nI=gg&&gg.exports===fw,bg=nI?Wn.Buffer:void 0,vg=bg?bg.allocUnsafe:void 0;function hw(n,e){if(e)return n.slice();var t=n.length,i=vg?vg(t):new n.constructor(t);return n.copy(i),i}function iI(n,e){for(var t=-1,i=n==null?0:n.length,s=0,r=[];++t<i;){var o=n[t];e(o,t,n)&&(r[s++]=o)}return r}function mw(){return[]}var sI=Object.prototype,rI=sI.propertyIsEnumerable,yg=Object.getOwnPropertySymbols,Rh=yg?function(n){return n==null?[]:(n=Object(n),iI(yg(n),function(e){return rI.call(n,e)}))}:mw;function oI(n,e){return so(n,Rh(n),e)}var aI=Object.getOwnPropertySymbols,pw=aI?function(n){for(var e=[];n;)nw(e,Rh(n)),n=Ih(n);return e}:mw;function lI(n,e){return so(n,pw(n),e)}function gw(n,e,t){var i=e(n);return yn(n)?i:nw(i,t(n))}function ef(n){return gw(n,el,Rh)}function cI(n){return gw(n,ro,pw)}var tf=sr(Wn,"DataView"),nf=sr(Wn,"Promise"),sf=sr(Wn,"Set"),wg="[object Map]",uI="[object Object]",_g="[object Promise]",Cg="[object Set]",kg="[object WeakMap]",Eg="[object DataView]",dI=ir(tf),fI=ir(ka),hI=ir(nf),mI=ir(sf),pI=ir(Yd),Bn=ms;(tf&&Bn(new tf(new ArrayBuffer(1)))!=Eg||ka&&Bn(new ka)!=wg||nf&&Bn(nf.resolve())!=_g||sf&&Bn(new sf)!=Cg||Yd&&Bn(new Yd)!=kg)&&(Bn=function(n){var e=ms(n),t=e==uI?n.constructor:void 0,i=t?ir(t):"";if(i)switch(i){case dI:return Eg;case fI:return wg;case hI:return _g;case mI:return Cg;case pI:return kg}return e});var gI=Object.prototype,bI=gI.hasOwnProperty;function vI(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&bI.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var lc=Wn.Uint8Array;function Mh(n){var e=new n.constructor(n.byteLength);return new lc(e).set(new lc(n)),e}function yI(n,e){var t=e?Mh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var wI=/\w*$/;function _I(n){var e=new n.constructor(n.source,wI.exec(n));return e.lastIndex=n.lastIndex,e}var Tg=ai?ai.prototype:void 0,Sg=Tg?Tg.valueOf:void 0;function CI(n){return Sg?Object(Sg.call(n)):{}}function bw(n,e){var t=e?Mh(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var kI="[object Boolean]",EI="[object Date]",TI="[object Map]",SI="[object Number]",PI="[object RegExp]",AI="[object Set]",xI="[object String]",OI="[object Symbol]",II="[object ArrayBuffer]",RI="[object DataView]",MI="[object Float32Array]",LI="[object Float64Array]",BI="[object Int8Array]",DI="[object Int16Array]",VI="[object Int32Array]",$I="[object Uint8Array]",FI="[object Uint8ClampedArray]",NI="[object Uint16Array]",HI="[object Uint32Array]";function jI(n,e,t){var i=n.constructor;switch(e){case II:return Mh(n);case kI:case EI:return new i(+n);case RI:return yI(n,t);case MI:case LI:case BI:case DI:case VI:case $I:case FI:case NI:case HI:return bw(n,t);case TI:return new i;case SI:case xI:return new i(n);case PI:return _I(n);case AI:return new i;case OI:return CI(n)}}function vw(n){return typeof n.constructor=="function"&&!Eh(n)?O9(Ih(n)):{}}var UI="[object Map]";function zI(n){return xn(n)&&Bn(n)==UI}var Pg=Wr&&Wr.isMap,WI=Pg?Th(Pg):zI,KI="[object Set]";function qI(n){return xn(n)&&Bn(n)==KI}var Ag=Wr&&Wr.isSet,GI=Ag?Th(Ag):qI,ZI=1,JI=2,YI=4,yw="[object Arguments]",XI="[object Array]",QI="[object Boolean]",eR="[object Date]",tR="[object Error]",ww="[object Function]",nR="[object GeneratorFunction]",iR="[object Map]",sR="[object Number]",_w="[object Object]",rR="[object RegExp]",oR="[object Set]",aR="[object String]",lR="[object Symbol]",cR="[object WeakMap]",uR="[object ArrayBuffer]",dR="[object DataView]",fR="[object Float32Array]",hR="[object Float64Array]",mR="[object Int8Array]",pR="[object Int16Array]",gR="[object Int32Array]",bR="[object Uint8Array]",vR="[object Uint8ClampedArray]",yR="[object Uint16Array]",wR="[object Uint32Array]",Ye={};Ye[yw]=Ye[XI]=Ye[uR]=Ye[dR]=Ye[QI]=Ye[eR]=Ye[fR]=Ye[hR]=Ye[mR]=Ye[pR]=Ye[gR]=Ye[iR]=Ye[sR]=Ye[_w]=Ye[rR]=Ye[oR]=Ye[aR]=Ye[lR]=Ye[bR]=Ye[vR]=Ye[yR]=Ye[wR]=!0;Ye[tR]=Ye[ww]=Ye[cR]=!1;function Dr(n,e,t,i,s,r){var o,a=e&ZI,l=e&JI,c=e&YI;if(t&&(o=s?t(n,i,s,r):t(n)),o!==void 0)return o;if(!ct(n))return n;var u=yn(n);if(u){if(o=vI(n),!a)return Gy(n,o)}else{var d=Bn(n),f=d==ww||d==nR;if(_a(n))return hw(n,a);if(d==_w||d==yw||f&&!s){if(o=l||f?{}:vw(n),!a)return l?lI(n,tI(o,n)):oI(n,eI(o,n))}else{if(!Ye[d])return s?n:{};o=jI(n,d,a)}}r||(r=new Nn);var h=r.get(n);if(h)return h;r.set(n,o),GI(n)?n.forEach(function(v){o.add(Dr(v,e,t,v,n,r))}):WI(n)&&n.forEach(function(v,_){o.set(_,Dr(v,e,t,_,n,r))});var m=c?l?cI:ef:l?ro:el,p=u?void 0:m(n);return F9(p||n,function(v,_){p&&(_=v,v=n[_]),Ch(o,_,Dr(v,e,t,_,n,r))}),o}var _R=4;function Cw(n){return Dr(n,_R)}var CR=1,kR=4;function Kn(n){return Dr(n,CR|kR)}var ER=1,TR=4;function Lh(n,e){return e=typeof e=="function"?e:void 0,Dr(n,ER|TR,e)}var SR="__lodash_hash_undefined__";function PR(n){return this.__data__.set(n,SR),this}function AR(n){return this.__data__.has(n)}function cc(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Di;++e<t;)this.add(n[e])}cc.prototype.add=cc.prototype.push=PR;cc.prototype.has=AR;function xR(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function OR(n,e){return n.has(e)}var IR=1,RR=2;function kw(n,e,t,i,s,r){var o=t&IR,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(n),u=r.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&RR?new cc:void 0;for(r.set(n,e),r.set(e,n);++d<a;){var m=n[d],p=e[d];if(i)var v=o?i(p,m,d,e,n,r):i(m,p,d,n,e,r);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!xR(e,function(_,E){if(!OR(h,E)&&(m===_||s(m,_,t,i,r)))return h.push(E)})){f=!1;break}}else if(!(m===p||s(m,p,t,i,r))){f=!1;break}}return r.delete(n),r.delete(e),f}function MR(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function LR(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var BR=1,DR=2,VR="[object Boolean]",$R="[object Date]",FR="[object Error]",NR="[object Map]",HR="[object Number]",jR="[object RegExp]",UR="[object Set]",zR="[object String]",WR="[object Symbol]",KR="[object ArrayBuffer]",qR="[object DataView]",xg=ai?ai.prototype:void 0,Nu=xg?xg.valueOf:void 0;function GR(n,e,t,i,s,r,o){switch(t){case qR:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case KR:return!(n.byteLength!=e.byteLength||!r(new lc(n),new lc(e)));case VR:case $R:case HR:return Qa(+n,+e);case FR:return n.name==e.name&&n.message==e.message;case jR:case zR:return n==e+"";case NR:var a=MR;case UR:var l=i&BR;if(a||(a=LR),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=DR,o.set(n,e);var u=kw(a(n),a(e),i,s,r,o);return o.delete(n),u;case WR:if(Nu)return Nu.call(n)==Nu.call(e)}return!1}var ZR=1,JR=Object.prototype,YR=JR.hasOwnProperty;function XR(n,e,t,i,s,r){var o=t&ZR,a=ef(n),l=a.length,c=ef(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:YR.call(e,f)))return!1}var h=r.get(n),m=r.get(e);if(h&&m)return h==e&&m==n;var p=!0;r.set(n,e),r.set(e,n);for(var v=o;++d<l;){f=a[d];var _=n[f],E=e[f];if(i)var w=o?i(E,_,f,e,n,r):i(_,E,f,n,e,r);if(!(w===void 0?_===E||s(_,E,t,i,r):w)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var C=n.constructor,P=e.constructor;C!=P&&"constructor"in n&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(p=!1)}return r.delete(n),r.delete(e),p}var QR=1,Og="[object Arguments]",Ig="[object Array]",wl="[object Object]",eM=Object.prototype,Rg=eM.hasOwnProperty;function tM(n,e,t,i,s,r){var o=yn(n),a=yn(e),l=o?Ig:Bn(n),c=a?Ig:Bn(e);l=l==Og?wl:l,c=c==Og?wl:c;var u=l==wl,d=c==wl,f=l==c;if(f&&_a(n)){if(!_a(e))return!1;o=!0,u=!1}if(f&&!u)return r||(r=new Nn),o||Sh(n)?kw(n,e,t,i,s,r):GR(n,e,l,t,i,s,r);if(!(t&QR)){var h=u&&Rg.call(n,"__wrapped__"),m=d&&Rg.call(e,"__wrapped__");if(h||m){var p=h?n.value():n,v=m?e.value():e;return r||(r=new Nn),s(p,v,t,i,r)}}return f?(r||(r=new Nn),XR(n,e,t,i,s,r)):!1}function tl(n,e,t,i,s){return n===e?!0:n==null||e==null||!xn(n)&&!xn(e)?n!==n&&e!==e:tM(n,e,t,i,tl,s)}var nM=1,iM=2;function sM(n,e,t,i){var s=t.length,r=s;if(n==null)return!r;for(n=Object(n);s--;){var o=t[s];if(o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<r;){o=t[s];var a=o[0],l=n[a],c=o[1];if(o[2]){if(l===void 0&&!(a in n))return!1}else{var u=new Nn,d;if(!(d===void 0?tl(c,l,nM|iM,i,u):d))return!1}}return!0}function Ew(n){return n===n&&!ct(n)}function rM(n){for(var e=el(n),t=e.length;t--;){var i=e[t],s=n[i];e[t]=[i,s,Ew(s)]}return e}function Tw(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function oM(n){var e=rM(n);return e.length==1&&e[0][2]?Tw(e[0][0],e[0][1]):function(t){return t===n||sM(t,n,e)}}function aM(n,e){return n!=null&&e in Object(n)}function lM(n,e,t){e=eu(e,n);for(var i=-1,s=e.length,r=!1;++i<s;){var o=oo(e[i]);if(!(r=n!=null&&t(n,o)))break;n=n[o]}return r||++i!=s?r:(s=n==null?0:n.length,!!s&&kh(s)&&Zc(o,s)&&(yn(n)||ac(n)))}function cM(n,e){return n!=null&&lM(n,e,aM)}var uM=1,dM=2;function fM(n,e){return Ph(n)&&Ew(e)?Tw(oo(n),e):function(t){var i=Ea(t,n);return i===void 0&&i===e?cM(t,n):tl(e,i,uM|dM)}}function hM(n){return function(e){return e==null?void 0:e[n]}}function mM(n){return function(e){return Oh(e,n)}}function pM(n){return Ph(n)?hM(oo(n)):mM(n)}function gM(n){return typeof n=="function"?n:n==null?_h:typeof n=="object"?yn(n)?fM(n[0],n[1]):oM(n):pM(n)}function bM(n){return function(e,t,i){for(var s=-1,r=Object(e),o=i(e),a=o.length;a--;){var l=o[++s];if(t(r[l],l,r)===!1)break}return e}}var Sw=bM();function vM(n,e){return n&&Sw(n,e,el)}var Hu=function(){return Wn.Date.now()},yM="Expected a function",wM=Math.max,_M=Math.min;function Kr(n,e,t){var i,s,r,o,a,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(yM);e=lg(e)||0,ct(t)&&(u=!!t.leading,d="maxWait"in t,r=d?wM(lg(t.maxWait)||0,e):r,f="trailing"in t?!!t.trailing:f);function h(b){var M=i,T=s;return i=s=void 0,c=b,o=n.apply(T,M),o}function m(b){return c=b,a=setTimeout(_,e),u?h(b):o}function p(b){var M=b-l,T=b-c,L=e-M;return d?_M(L,r-T):L}function v(b){var M=b-l,T=b-c;return l===void 0||M>=e||M<0||d&&T>=r}function _(){var b=Hu();if(v(b))return E(b);a=setTimeout(_,p(b))}function E(b){return a=void 0,f&&i?h(b):(i=s=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function C(){return a===void 0?o:E(Hu())}function P(){var b=Hu(),M=v(b);if(i=arguments,s=this,l=b,M){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(_,e),h(l)}return a===void 0&&(a=setTimeout(_,e)),o}return P.cancel=w,P.flush=C,P}function rf(n,e,t){(t!==void 0&&!Qa(n[e],t)||t===void 0&&!(e in n))&&Jc(n,e,t)}function CM(n){return xn(n)&&Yc(n)}function of(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function kM(n){return so(n,ro(n))}function EM(n,e,t,i,s,r,o){var a=of(n,t),l=of(e,t),c=o.get(l);if(c){rf(n,t,c);return}var u=r?r(a,l,t+"",n,e,o):void 0,d=u===void 0;if(d){var f=yn(l),h=!f&&_a(l),m=!f&&!h&&Sh(l);u=l,f||h||m?yn(a)?u=a:CM(a)?u=Gy(a):h?(d=!1,u=hw(l,!0)):m?(d=!1,u=bw(l,!0)):u=[]:hn(l)||ac(l)?(u=a,ac(a)?u=kM(a):(!ct(a)||qs(a))&&(u=vw(l))):d=!1}d&&(o.set(l,u),s(u,l,i,r,o),o.delete(l)),rf(n,t,u)}function Pw(n,e,t,i,s){n!==e&&Sw(e,function(r,o){if(s||(s=new Nn),ct(r))EM(n,e,o,t,Pw,i,s);else{var a=i?i(of(n,o),r,o+"",n,e,s):void 0;a===void 0&&(a=r),rf(n,o,a)}},ro)}function TM(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var Aw=/[\\^$.*+?()[\]{}|]/g,SM=RegExp(Aw.source);function PM(n){return n=xh(n),n&&SM.test(n)?n.replace(Aw,"\\$&"):n}var AM="[object String]";function Mg(n){return typeof n=="string"||!yn(n)&&xn(n)&&ms(n)==AM}function xM(n,e){return e.length<2?n:Oh(n,sw(e,0,-1))}function Zs(n){return xn(n)&&n.nodeType===1&&!hn(n)}function Lg(n,e){return tl(n,e)}function OM(n,e,t){t=typeof t=="function"?t:void 0;var i=t?t(n,e):void 0;return i===void 0?tl(n,e,void 0,t):!!i}function IM(n,e){var t={};return e=gM(e),vM(n,function(i,s,r){Jc(t,s,e(i,s,r))}),t}var Bh=Zy(function(n,e,t){Pw(n,e,t)});function RM(n,e){return e=eu(e,n),n=xM(n,e),n==null||delete n[oo(TM(e))]}function MM(n,e,t,i){if(!ct(n))return n;e=eu(e,n);for(var s=-1,r=e.length,o=r-1,a=n;a!=null&&++s<r;){var l=oo(e[s]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var u=a[l];c=void 0,c===void 0&&(c=ct(u)?u:Zc(e[s+1])?[]:{})}Ch(a,l,c),a=a[l]}return n}function LM(n,e,t){return n==null?n:MM(n,e,t)}var BM="Expected a function";function uc(n,e,t){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(BM);return ct(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),Kr(n,e,{leading:i,maxWait:e,trailing:s})}function DM(n,e){return n==null?!0:RM(n,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dc=Symbol("observableProperties"),tu=Symbol("boundObservables"),fc=Symbol("boundProperties"),fr=Symbol("decoratedMethods"),Bg=Symbol("decoratedOriginal"),xw=pt(Ge());function pt(n){if(!n)return xw;class e extends n{set(i,s){if(ct(i)){Object.keys(i).forEach(o=>{this.set(o,i[o])},this);return}ju(this);const r=this[dc];if(i in this&&!r.has(i))throw new k("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get(){return r.get(i)},set(o){const a=r.get(i);let l=this.fire(`set:${i}`,i,o,a);l===void 0&&(l=o),(a!==l||!r.has(i))&&(r.set(i,l),this.fire(`change:${i}`,i,l,a))}}),this[i]=s}bind(...i){if(!i.length||!Dg(i))throw new k("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new k("observable-bind-duplicate-properties",this);ju(this);const s=this[fc];i.forEach(o=>{if(s.has(o))throw new k("observable-bind-rebind",this)});const r=new Map;return i.forEach(o=>{const a={property:o,to:[]};s.set(o,a),r.set(o,a)}),{to:VM,toMany:$M,_observable:this,_bindProperties:i,_to:[],_bindings:r}}unbind(...i){if(!this[dc])return;const s=this[fc],r=this[tu];if(i.length){if(!Dg(i))throw new k("observable-unbind-wrong-properties",this);i.forEach(o=>{const a=s.get(o);a&&(a.to.forEach(([l,c])=>{const u=r.get(l),d=u[c];d.delete(a),d.size||delete u[c],Object.keys(u).length||(r.delete(l),this.stopListening(l,"change"))}),s.delete(o))})}else r.forEach((o,a)=>{this.stopListening(a,"change")}),r.clear(),s.clear()}decorate(i){ju(this);const s=this[i];if(!s)throw new k("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(r,o)=>{r.return=s.apply(this,o)}),this[i]=function(...r){return this.fire(i,r)},this[i][Bg]=s,this[fr]||(this[fr]=[]),this[fr].push(i)}stopListening(i,s,r){if(!i&&this[fr]){for(const o of this[fr])this[o]=this[o][Bg];delete this[fr]}super.stopListening(i,s,r)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{pt[n]=xw.prototype[n]});function ju(n){n[dc]||(Object.defineProperty(n,dc,{value:new Map}),Object.defineProperty(n,tu,{value:new Map}),Object.defineProperty(n,fc,{value:new Map}))}function VM(...n){const e=NM(...n),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new k("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new k("observable-bind-to-extra-callback",this);e.to.forEach(s=>{if(s.properties.length&&s.properties.length!==i)throw new k("observable-bind-to-properties-length",this);s.properties.length||(s.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),UM(this._observable,this._to),jM(this),this._bindProperties.forEach(s=>{Ow(this._observable,s)})}function $M(n,e,t){if(this._bindings.size>1)throw new k("observable-bind-to-many-not-one-binding",this);this.to(...FM(n,e),t)}function FM(n,e){const t=n.map(i=>[i,e]);return Array.prototype.concat.apply([],t)}function Dg(n){return n.every(e=>typeof e=="string")}function NM(...n){if(!n.length)throw new k("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof n[n.length-1]=="function"&&(e.callback=n.pop()),n.forEach(i=>{if(typeof i=="string")t.properties.push(i);else if(typeof i=="object")t={observable:i,properties:[]},e.to.push(t);else throw new k("observable-bind-to-parse-error",null)}),e}function HM(n,e,t,i){const s=n[tu],r=s.get(t),o=r||{};o[i]||(o[i]=new Set),o[i].add(e),r||s.set(t,o)}function jM(n){let e;n._bindings.forEach((t,i)=>{n._to.forEach(s=>{e=s.properties[t.callback?0:n._bindProperties.indexOf(i)],t.to.push([s.observable,e]),HM(n._observable,t,s.observable,e)})})}function Ow(n,e){const i=n[fc].get(e);let s;i.callback?s=i.callback.apply(n,i.to.map(r=>r[0][r[1]])):(s=i.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(n,e)?n[e]=s:n.set(e,s)}function UM(n,e){e.forEach(t=>{const i=n[tu];let s;i.get(t.observable)||n.listenTo(t.observable,"change",(r,o)=>{s=i.get(t.observable)[o],s&&s.forEach(a=>{Ow(n,a.property)})})})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zM{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function af(n){let e=0;for(const t of n)e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wt(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)if(n[i]!=e[i])return i;return n.length==e.length?"same":n.length<e.length?"prefix":"extension"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wn(n){return!!(n&&n[Symbol.iterator])}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ln(n,e,t={},i=[]){const s=t&&t.xmlns,r=s?n.createElementNS(s,e):n.createElement(e);for(const o in t)r.setAttribute(o,t[o]);(Mg(i)||!wn(i))&&(i=[i]);for(let o of i)Mg(o)&&(o=n.createTextNode(o)),r.appendChild(o);return r}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iw{constructor(e,t){this._config={},t&&this.define(Vg(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,s=!1){if(hn(t)){this._setObjectToTarget(e,t,s);return}const r=t.split(".");t=r.pop();for(const o of r)hn(e[o])||(e[o]={}),e=e[o];if(hn(i)){hn(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,i,s);return}s&&typeof e[t]<"u"||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const s of i){if(!hn(e[s])){e=null;break}e=e[s]}return e?Vg(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(s=>{this._setToTarget(e,s,t[s],i)})}}function Vg(n){return Lh(n,WM)}function WM(n){return Zs(n)||typeof n=="function"?n:void 0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ds(n){if(n){if(n.defaultView)return n instanceof n.defaultView.Document;if(n.ownerDocument&&n.ownerDocument.defaultView)return n instanceof n.ownerDocument.defaultView.Node}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hc(n){const e=Object.prototype.toString.apply(n);return e=="[object Window]"||e=="[object global]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Rw=qn(Ge());function qn(n){if(!n)return Rw;class e extends n{listenTo(i,s,r,o={}){if(ds(i)||hc(i)){const a={capture:!!o.useCapture,passive:!!o.usePassive},l=this._getProxyEmitter(i,a)||new KM(i,a);this.listenTo(l,s,r,o)}else super.listenTo(i,s,r,o)}stopListening(i,s,r){if(ds(i)||hc(i)){const o=this._getAllProxyEmitters(i);for(const a of o)this.stopListening(a,s,r)}else super.stopListening(i,s,r)}_getProxyEmitter(i,s){return zx(this,Mw(i,s))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(s=>this._getProxyEmitter(i,s)).filter(s=>!!s)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(n=>{qn[n]=Rw.prototype[n]});class KM extends Ge(){constructor(e,t){super(),jy(this,Mw(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),Ge().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){Ge().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function qM(n){return n["data-ck-expando"]||(n["data-ck-expando"]=oi())}function Mw(n,e){let t=qM(n);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let lf;try{lf={window,document}}catch{/* istanbul ignore next -- @preserve */lf={window:{},document:{}}}const ce=lf;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function GM(n){const e=[];let t=n;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ZM(n){return n instanceof HTMLTextAreaElement?n.value:n.innerHTML}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Lw(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vt(n){return Object.prototype.toString.call(n)=="[object Text]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nu(n){return Object.prototype.toString.apply(n)=="[object Range]"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Bw(n){return!n||!n.parentNode||n.offsetParent===ce.document.body?null:n.offsetParent}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Dw=["top","right","bottom","left","width","height"];class Ae{constructor(e){const t=nu(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),cf(e)||t)if(t){const i=Ae.getDomRangeRects(e);_l(this,Ae.getBoundingRect(i))}else _l(this,e.getBoundingClientRect());else if(hc(e)){const{innerWidth:i,innerHeight:s}=e;_l(this,{top:0,right:i,bottom:s,left:0,width:i,height:s})}else _l(this,e)}clone(){return new Ae(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const i=new Ae(t);return i._source=this._source,i}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if($g(e))return t;let i=e,s=e.parentNode||e.commonAncestorContainer,r;for(;s&&!$g(s);){const o=JM(s)==="visible";i instanceof HTMLElement&&Fg(i)==="absolute"&&(r=i);const a=Fg(s);if(o||r&&(a==="relative"&&o||a!=="relative")){i=s,s=s.parentNode;continue}const l=new Ae(s),c=t.getIntersection(l);if(c)c.getArea()<t.getArea()&&(t=c);else return null;i=s,s=s.parentNode}return t}isEqual(e){for(const t of Dw)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=ce.window,i=this.clone().moveBy(e,t);if(cf(i._source)){const s=Bw(i._source);s&&YM(i,s)}return i}excludeScrollbarsAndBorders(){const e=this._source;let t,i,s;if(hc(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const r=Lw(e);t=e.offsetWidth-e.clientWidth-r.left-r.right,i=e.offsetHeight-e.clientHeight-r.top-r.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,s==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const s of i)t.push(new Ae(s));else{let s=e.startContainer;vt(s)&&(s=s.parentNode);const r=new Ae(s.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const s of e)i++,t.left=Math.min(t.left,s.left),t.top=Math.min(t.top,s.top),t.right=Math.max(t.right,s.right),t.bottom=Math.max(t.bottom,s.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Ae(t))}}function _l(n,e){for(const t of Dw)n[t]=e[t]}function $g(n){return cf(n)?n===n.ownerDocument.body:!1}function cf(n){return n!==null&&typeof n=="object"&&n.nodeType===1&&typeof n.getBoundingClientRect=="function"}function Fg(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).position:"static"}function JM(n){return n instanceof HTMLElement?n.ownerDocument.defaultView.getComputedStyle(n).overflow:"visible"}function YM(n,e){const t=new Ae(e),i=Lw(e);let s=0,r=0;s-=t.left,r-=t.top,s+=e.scrollLeft,r+=e.scrollTop,s-=i.left,r-=i.top,n.moveBy(s,r)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xe{constructor(e,t){Xe._observerInstance||Xe._createObserver(),this._element=e,this._callback=t,Xe._addElementCallback(e,t),Xe._observerInstance.observe(e)}get element(){return this._element}destroy(){Xe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){Xe._elementCallbacks||(Xe._elementCallbacks=new Map);let i=Xe._elementCallbacks.get(e);i||(i=new Set,Xe._elementCallbacks.set(e,i)),i.add(t)}static _deleteElementCallback(e,t){const i=Xe._getElementCallbacks(e);i&&(i.delete(t),i.size||(Xe._elementCallbacks.delete(e),Xe._observerInstance.unobserve(e))),Xe._elementCallbacks&&!Xe._elementCallbacks.size&&(Xe._observerInstance=null,Xe._elementCallbacks=null)}static _getElementCallbacks(e){return Xe._elementCallbacks?Xe._elementCallbacks.get(e):null}static _createObserver(){Xe._observerInstance=new ce.window.ResizeObserver(e=>{for(const t of e){const i=Xe._getElementCallbacks(t.target);if(i)for(const s of i)s(t)}})}}Xe._observerInstance=null;Xe._elementCallbacks=null;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ng(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ao(n){return e=>e+n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ao(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Vw(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function zo(n){return n&&n.nodeType===Node.COMMENT_NODE}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function XM(n){try{ce.document.createAttribute(n)}catch{return!1}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Js(n){return!!(n&&n.getClientRects&&n.getClientRects().length)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function iu({element:n,target:e,positions:t,limiter:i,fitInViewport:s,viewportOffsetConfig:r}){qs(e)&&(e=e()),qs(i)&&(i=i());const o=Bw(n),a=QM(r),l=new Ae(n),c=Hg(e,a);let u;if(!c||!a.getIntersection(c))return null;const d={targetRect:c,elementRect:l,positionedElementAncestor:o,viewportRect:a};if(!i&&!s)u=new $w(t[0],d);else{if(i){const f=Hg(i,a);f&&(d.limiterRect=f)}u=eL(t,d)}return u}function Hg(n,e){const t=new Ae(n).getVisible();return t?t.getIntersection(e):null}function QM(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new Ae(ce.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e}function eL(n,e){const{elementRect:t}=e,i=t.getArea(),s=n.map(a=>new $w(a,e)).filter(a=>!!a.name);let r=0,o=null;for(const a of s){const{limiterIntersectionArea:l,viewportIntersectionArea:c}=a;if(l===i)return a;const u=c**2+l**2;u>r&&(r=u,o=a)}return o}class $w{constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;const{left:s,top:r,name:o,config:a}=i;this.name=o,this.config=a,this._positioningFunctionCoordinates={left:s,top:r},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=this._rect.toAbsoluteRect(),this._cachedAbsoluteRect)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jg(n){const e=n.parentNode;e&&e.removeChild(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tL({target:n,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:i,forceScroll:s}){const r=Dh(n);let o=r,a=null;for(e=sL(e);o;){let l;o==r?l=Ug(n):l=Ug(a),iL({parent:l,getRect:()=>zg(n,o),alignToTop:i,ancestorOffset:t,forceScroll:s});const c=zg(n,o);if(nL({window:o,rect:c,viewportOffset:e,alignToTop:i,forceScroll:s}),o.parent!=o){if(a=o.frameElement,o=o.parent,!a)return}else o=null}}function nL({window:n,rect:e,alignToTop:t,forceScroll:i,viewportOffset:s}){const r=e.clone().moveBy(0,s.bottom),o=e.clone().moveBy(0,-s.top),a=new Ae(n).excludeScrollbarsAndBorders(),l=[o,r],c=t&&i,u=l.every(p=>a.contains(p));let{scrollX:d,scrollY:f}=n;const h=d,m=f;c?f-=a.top-e.top+s.top:u||(Nw(o,a)?f-=a.top-e.top+s.top:Fw(r,a)&&(t?f+=e.top-a.top-s.top:f+=e.bottom-a.bottom+s.bottom)),u||(Hw(e,a)?d-=a.left-e.left+s.left:jw(e,a)&&(d+=e.right-a.right+s.right)),(d!=h||f!==m)&&n.scrollTo(d,f)}function iL({parent:n,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:s=0,limiterElement:r}){const o=Dh(n),a=t&&i;let l,c,u;const d=r||o.document.body;for(;n!=d;)c=e(),l=new Ae(n).excludeScrollbarsAndBorders(),u=l.contains(c),a?n.scrollTop-=l.top-c.top+s:u||(Nw(c,l)?n.scrollTop-=l.top-c.top+s:Fw(c,l)&&(t?n.scrollTop+=c.top-l.top-s:n.scrollTop+=c.bottom-l.bottom+s)),u||(Hw(c,l)?n.scrollLeft-=l.left-c.left+s:jw(c,l)&&(n.scrollLeft+=c.right-l.right+s)),n=n.parentNode}function Fw(n,e){return n.bottom>e.bottom}function Nw(n,e){return n.top<e.top}function Hw(n,e){return n.left<e.left}function jw(n,e){return n.right>e.right}function Dh(n){return nu(n)?n.startContainer.ownerDocument.defaultView:n.ownerDocument.defaultView}function Ug(n){if(nu(n)){let e=n.commonAncestorContainer;return vt(e)&&(e=e.parentNode),e}else return n.parentNode}function zg(n,e){const t=Dh(n),i=new Ae(n);if(t===e)return i;{let s=t;for(;s!=e;){const r=s.frameElement,o=new Ae(r).excludeScrollbarsAndBorders();i.moveBy(o.left,o.top),s=s.parent}}return i}function sL(n){return typeof n=="number"?{top:n,bottom:n,left:n,right:n}:n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const rL={ctrl:"",cmd:"",alt:"",shift:""},oL={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Wg={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Re=dL(),aL=Object.fromEntries(Object.entries(Re).map(([n,e])=>{let t;return e in Wg?t=Wg[e]:t=n.charAt(0).toUpperCase()+n.slice(1),[e,t]}));function qr(n){let e;if(typeof n=="string"){if(e=Re[n.toLowerCase()],!e)throw new k("keyboard-unknown-key",null,{key:n})}else e=n.keyCode+(n.altKey?Re.alt:0)+(n.ctrlKey?Re.ctrl:0)+(n.shiftKey?Re.shift:0)+(n.metaKey?Re.cmd:0);return e}function Vh(n){return typeof n=="string"&&(n=fL(n)),n.map(e=>typeof e=="string"?cL(e):e).reduce((e,t)=>t+e,0)}function mc(n){let e=Vh(n);return Object.entries(ke.isMac||ke.isiOS?rL:oL).reduce((s,[r,o])=>(e&Re[r]&&(e&=~Re[r],s+=o),s),"")+(e?aL[e]:"")}function lL(n){return n==Re.arrowright||n==Re.arrowleft||n==Re.arrowup||n==Re.arrowdown}function Uw(n,e){const t=e==="ltr";switch(n){case Re.arrowleft:return t?"left":"right";case Re.arrowright:return t?"right":"left";case Re.arrowup:return"up";case Re.arrowdown:return"down"}}function cL(n){if(n.endsWith("!"))return qr(n.slice(0,-1));const e=qr(n);return(ke.isMac||ke.isiOS)&&e==Re.ctrl?Re.cmd:e}function uL(n,e){const t=Uw(n,e);return t==="down"||t==="right"}function dL(){const n={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;e<=57;e++)n[e-48]=e;for(let e=112;e<=123;e++)n["f"+(e-111)]=e;return Object.assign(n,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),n}function fL(n){return n.split("+").map(e=>e.trim())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const hL=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Kg(n){return hL.includes(n)?"rtl":"ltr"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function jt(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore else -- @preserve */ce.window.CKEDITOR_TRANSLATIONS||(ce.window.CKEDITOR_TRANSLATIONS={});function mL(n,e,t=1,i){if(typeof t!="number")throw new k("translation-service-quantity-not-a-number",null,{quantity:t});const s=i||ce.window.CKEDITOR_TRANSLATIONS,r=bL(s);r===1&&(n=Object.keys(s)[0]);const o=e.id||e.string;if(r===0||!gL(n,o,s))return t!==1?e.plural:e.string;const a=s[n].dictionary,l=s[n].getPluralForm||(d=>d===1?0:1),c=a[o];if(typeof c=="string")return c;const u=Number(l(t));return c[u]}function pL(n){return Array.isArray(n)?n.reduce((e,t)=>Bh(e,t)):n}function gL(n,e,t){return!!t[n]&&!!t[n].dictionary[e]}function bL(n){return Object.keys(n).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vL{constructor({uiLanguage:e="en",contentLanguage:t,translations:i}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Kg(this.uiLanguage),this.contentLanguageDirection=Kg(this.contentLanguage),this.translations=pL(i),this.t=(s,r)=>this._t(s,r)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=jt(t),typeof e=="string"&&(e={string:e});const s=!!e.plural?t[0]:1,r=mL(this.uiLanguage,e,s,this.translations);return yL(r,t)}}function yL(n,e){return n.replace(/%(\d+)/g,(t,i)=>i<e.length?e[i]:t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ps extends Ge(){constructor(e={},t={}){super();const i=wn(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new k("collection-add-item-invalid-index",this);let i=0;for(const s of e){const r=this._getItemIdBeforeAdding(s),o=t+i;this._items.splice(o,0,s),this._itemMap.set(r,s),this.fire("add",s,o),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new k("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,i=e[t];return i&&this._itemMap.has(i)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new k("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(s,r,o)=>{const a=t._bindToCollection==this,l=t._bindToInternalToExternalMap.get(r);if(a&&l)this._bindToExternalToInternalMap.set(r,l),this._bindToInternalToExternalMap.set(l,r);else{const c=e(r);if(!c){this._skippedIndexesFromExternal.push(o);return}let u=o;for(const d of this._skippedIndexesFromExternal)o>d&&u--;for(const d of t._skippedIndexesFromExternal)u>=d&&u++;this._bindToExternalToInternalMap.set(r,c),this._bindToInternalToExternalMap.set(c,r),this.add(c,u);for(let d=0;d<t._skippedIndexesFromExternal.length;d++)u<=t._skippedIndexesFromExternal[d]&&t._skippedIndexesFromExternal[d]++}};for(const s of t)i(null,s,t.getIndex(s));this.listenTo(t,"add",i),this.listenTo(t,"remove",(s,r,o)=>{const a=this._bindToExternalToInternalMap.get(r);a&&this.remove(a),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((l,c)=>(o<c&&l.push(c-1),o>c&&l.push(c),l),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new k("collection-add-invalid-id",this);if(this.get(i))throw new k("collection-add-item-already-exists",this)}else e[t]=i=oi();return i}_remove(e){let t,i,s,r=!1;const o=this._idProperty;if(typeof e=="string"?(i=e,s=this._itemMap.get(i),r=!s,s&&(t=this._items.indexOf(s))):typeof e=="number"?(t=e,s=this._items[t],r=!s,s&&(i=s[o])):(s=e,i=s[o],t=this._items.indexOf(s),r=t==-1||!this._itemMap.get(i)),r)throw new k("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const a=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(a),this.fire("remove",s,t),[s,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ii(n){const e=n.next();return e.done?null:e.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class sn extends qn(pt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new k("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gn{constructor(){this._listener=new(qn())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+qr(i),i)})}set(e,t,i={}){const s=Vh(e),r=i.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(o,a)=>{t(a,()=>{a.preventDefault(),a.stopPropagation(),o.stop()}),o.return=!0},{priority:r})}press(e){return!!this._listener.fire("_keydown:"+qr(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wL(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ri(n){return wn(n)?new Map(n):wL(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const _L=1e4;function CL(n,e,t,i){if(Math.max(e.length,n.length)>_L)return n.slice(0,t).concat(e).concat(n.slice(t+i,n.length));{const s=Array.from(n);return s.splice(t,i,...e),s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $h(n,e){let t;function i(...s){i.cancel(),t=setTimeout(()=>n(...s),e)}return i.cancel=()=>{clearTimeout(t)},i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kL(n){function e(d){return d.length>=40&&d.length<=255?"VALID":"INVALID"}if(!n)return"INVALID";let t="";try{t=atob(n)}catch{return"INVALID"}const i=t.split("-"),s=i[0],r=i[1];if(!r)return e(n);try{atob(r)}catch{try{if(atob(s),!atob(s).length)return e(n)}catch{return e(n)}}if(s.length<40||s.length>255)return"INVALID";let o="";try{atob(s),o=atob(r)}catch{return"INVALID"}if(o.length!==8)return"INVALID";const a=Number(o.substring(0,4)),l=Number(o.substring(4,6))-1,c=Number(o.substring(6,8)),u=new Date(a,l,c);return u<Ux||isNaN(Number(u))?"INVALID":"VALID"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function EL(n){return!!n&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n)}function TL(n){return!!n&&n.length==1&&/[\ud800-\udbff]/.test(n)}function SL(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}function Fh(n,e){return TL(n.charAt(e-1))&&SL(n.charAt(e))}function Nh(n,e){return EL(n.charAt(e))}const PL=AL();function zw(n,e){const t=String(n).matchAll(PL);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}function AL(){const n=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+n.map(s=>s.source).join("|")+")",i=`${e}|${t}(?:${t})*`;return new RegExp(i,"ug")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Vi extends ps{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,s)=>{this._renderViewIntoCollectionParent(i,s)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!xL(e))throw new k("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const s of e)i.delegate(s).to(t);this.on("add",(i,s)=>{for(const r of e)s.delegate(r).to(t)}),this.on("remove",(i,s)=>{for(const r of e)s.stopDelegating(r,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function xL(n){return n.every(e=>typeof e=="string")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const OL="http://www.w3.org/1999/xhtml";class ii extends Ge(){constructor(e){super(),Object.assign(this,Gg(qg(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=Yg(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new k("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const i of t.children)pc(i)?yield i:Hh(i)&&(yield*e(i))}yield*e(this)}static bind(e,t){return{to(i,s){return new IL({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:s})},if(i,s,r){return new Ww({observable:e,emitter:t,attribute:i,valueIfTrue:s,callback:r})}}}static extend(e,t){if(e._isRendered)throw new k("template-extend-render",[this,e]);Zw(e,Gg(qg(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new k("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||OL,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Hl(this.text)?this._bindToObservable({schema:this.text,updater:ML(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const s in this.attributes){const r=t.getAttribute(s),o=this.attributes[s];i&&(i.attributes[s]=r);const a=Jg(o)?o[0].ns:null;if(Hl(o)){const l=Jg(o)?o[0].value:o;i&&Xg(s)&&l.unshift(r),this._bindToObservable({schema:l,updater:LL(t,s,a),data:e})}else if(s=="style"&&typeof o[0]!="string")this._renderStyleAttribute(o[0],e);else{i&&r&&Xg(s)&&o.unshift(r);const l=o.map(c=>c&&(c.value||c)).reduce((c,u)=>c.concat(u),[]).reduce(Gw,"");Gr(l)||t.setAttributeNS(a,s,l)}}}_renderStyleAttribute(e,t){const i=t.node;for(const s in e){const r=e[s];Hl(r)?this._bindToObservable({schema:[r],updater:BL(i,s),data:t}):i.style[s]=r}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,s=e.isApplying;let r=0;for(const o of this.children)if(jh(o)){if(!s){o.setParent(t);for(const a of o)i.appendChild(a.element)}}else if(pc(o))s||(o.isRendered||o.render(),i.appendChild(o.element));else if(ds(o))i.appendChild(o);else if(s){const a=e.revertData,l=Yg();a.children.push(l),o._renderNode({intoFragment:!1,node:i.childNodes[r++],isApplying:!0,revertData:l})}else i.appendChild(o.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(s=>{const[r,o]=t.split("@");return s.activateDomEventListener(r,o,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const s=i.revertData;Kw(e,t,i);const r=e.filter(o=>!Gr(o)).filter(o=>o.observable).map(o=>o.activateAttributeListener(e,t,i));s&&s.bindings.push(r)}_revertTemplateFromNode(e,t){for(const s of t.bindings)for(const r of s)r();if(t.text){e.textContent=t.text;return}const i=e;for(const s in t.attributes){const r=t.attributes[s];r===null?i.removeAttribute(s):i.setAttribute(s,r)}for(let s=0;s<t.children.length;++s)this._revertTemplateFromNode(i.childNodes[s],t.children[s])}}class nl{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const s=()=>Kw(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class IL extends nl{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const s=(r,o)=>{(!t||o.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(i.node,e,s),()=>{this.emitter.stopListening(i.node,e,s)}}}class Ww extends nl{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return Gr(t)?!1:this.valueIfTrue||!0}}function Hl(n){return n?(n.value&&(n=n.value),Array.isArray(n)?n.some(Hl):n instanceof nl):!1}function RL(n,e){return n.map(t=>t instanceof nl?t.getValue(e):t)}function Kw(n,e,{node:t}){const i=RL(n,t);let s;n.length==1&&n[0]instanceof Ww?s=i[0]:s=i.reduce(Gw,""),Gr(s)?e.remove():e.set(s)}function ML(n){return{set(e){n.textContent=e},remove(){n.textContent=""}}}function LL(n,e,t){return{set(i){n.setAttributeNS(t,e,i)},remove(){n.removeAttributeNS(t,e)}}}function BL(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function qg(n){return Lh(n,t=>{if(t&&(t instanceof nl||Hh(t)||pc(t)||jh(t)))return t})}function Gg(n){if(typeof n=="string"?n=$L(n):n.text&&FL(n),n.on&&(n.eventListeners=VL(n.on),delete n.on),!n.text){n.attributes&&DL(n.attributes);const e=[];if(n.children)if(jh(n.children))e.push(n.children);else for(const t of n.children)Hh(t)||pc(t)||ds(t)?e.push(t):e.push(new ii(t));n.children=e}return n}function DL(n){for(const e in n)n[e].value&&(n[e].value=jt(n[e].value)),qw(n,e)}function VL(n){for(const e in n)qw(n,e);return n}function $L(n){return{text:[n]}}function FL(n){n.text=jt(n.text)}function qw(n,e){n[e]=jt(n[e])}function Gw(n,e){return Gr(e)?n:Gr(n)?e:`${n} ${e}`}function Zg(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function Zw(n,e){if(e.attributes&&(n.attributes||(n.attributes={}),Zg(n.attributes,e.attributes)),e.eventListeners&&(n.eventListeners||(n.eventListeners={}),Zg(n.eventListeners,e.eventListeners)),e.text&&n.text.push(...e.text),e.children&&e.children.length){if(n.children.length!=e.children.length)throw new k("ui-template-extend-children-mismatch",n);let t=0;for(const i of e.children)Zw(n.children[t++],i)}}function Gr(n){return!n&&n!==0}function pc(n){return n instanceof pe}function Hh(n){return n instanceof ii}function jh(n){return n instanceof Vi}function Jg(n){return ct(n[0])&&n[0].ns}function Yg(){return{children:[],bindings:[],attributes:{}}}function Xg(n){return n=="class"||n=="style"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let pe=class extends qn(pt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ps,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ii.bind(this,this)}createCollection(e){const t=new Vi(e);return this._viewCollections.add(t),t}registerChild(e){wn(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){wn(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new ii(e)}extendTemplate(e){ii.extend(this.template,e)}render(){if(this.isRendered)throw new k("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Uh({emitter:n,activator:e,callback:t,contextElements:i}){n.listenTo(document,"mousedown",(s,r)=>{if(!e())return;const o=typeof r.composedPath=="function"?r.composedPath():[],a=typeof i=="function"?i():i;for(const l of a)if(l.contains(r.target)||o.includes(l))return;t()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function NL(n){class e extends n{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function HL({view:n}){n.listenTo(n.element,"submit",(e,t)=>{t.preventDefault(),n.fire("submit")},{useCapture:!0})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Te extends pt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Qg,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Qg),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Qg(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rn extends pt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const i=e.model.document.selection,r=!(i.getFirstPosition().root.rootName=="$graveyard")&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",e1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",e1),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function e1(n){n.return=!1,n.stop()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jw extends Ge(){constructor(e,t=[],i=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const s of t)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,r]of i)this._contextPlugins.set(s,r),this._contextPlugins.set(r,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new k("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const s=this,r=this._context;h(e),p(e);const o=e.filter(b=>!d(b,t)),a=[...m(o)];P(a,i);const l=w(a);return C(l,"init").then(()=>C(l,"afterInit")).then(()=>l);function c(b){return typeof b=="function"}function u(b){return c(b)&&!!b.isContextPlugin}function d(b,M){return M.some(T=>T===b||f(b)===T||f(T)===b)}function f(b){return c(b)?b.pluginName||b.name:b}function h(b,M=new Set){b.forEach(T=>{c(T)&&(M.has(T)||(M.add(T),T.pluginName&&!s._availablePlugins.has(T.pluginName)&&s._availablePlugins.set(T.pluginName,T),T.requires&&h(T.requires,M)))})}function m(b,M=new Set){return b.map(T=>c(T)?T:s._availablePlugins.get(T)).reduce((T,L)=>M.has(L)?T:(M.add(L),L.requires&&(p(L.requires,L),m(L.requires,M).forEach(z=>T.add(z))),T.add(L)),new Set)}function p(b,M=null){b.map(T=>c(T)?T:s._availablePlugins.get(T)||T).forEach(T=>{v(T,M),_(T,M),E(T,M)})}function v(b,M){if(!c(b))throw M?new k("plugincollection-soft-required",r,{missingPlugin:b,requiredBy:f(M)}):new k("plugincollection-plugin-not-found",r,{plugin:b})}function _(b,M){if(u(M)&&!u(b))throw new k("plugincollection-context-required",r,{plugin:f(b),requiredBy:f(M)})}function E(b,M){if(M&&d(b,t))throw new k("plugincollection-required",r,{plugin:f(b),requiredBy:f(M)})}function w(b){return b.map(M=>{let T=s._contextPlugins.get(M);return T=T||new M(r),s._add(M,T),T})}function C(b,M){return b.reduce((T,L)=>!L[M]||s._contextPlugins.has(L)?T:T.then(L[M].bind(L)),Promise.resolve())}function P(b,M){for(const T of M){if(typeof T!="function")throw new k("plugincollection-replace-plugin-invalid-type",null,{pluginItem:T});const L=T.pluginName;if(!L)throw new k("plugincollection-replace-plugin-missing-name",null,{pluginItem:T});if(T.requires&&T.requires.length)throw new k("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:L});const z=s._availablePlugins.get(L);if(!z)throw new k("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:L});const re=b.indexOf(z);if(re===-1){if(s._contextPlugins.has(z))return;throw new k("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:L})}if(z.requires&&z.requires.length)throw new k("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:L});b.splice(re,1,T),s._availablePlugins.set(L,T)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new k("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yw{constructor(e){this._contextOwner=null;const{translations:t,...i}=e||{};this.config=new Iw(i,this.constructor.defaultConfig);const s=this.constructor.builtinPlugins;this.config.define("plugins",s),this.plugins=new Jw(this,s);const r=this.config.get("language")||{};this.locale=new vL({uiLanguage:typeof r=="string"?r:r.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new ps}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new k("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new k("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new k("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const jl=new WeakMap;let t1=!1;function jL({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:s=!1}){const r=n.document;jl.has(r)||(jl.set(r,new Map),r.registerPostFixer(a=>Uu(r,a)),r.on("change:isComposing",()=>{n.change(a=>Uu(r,a))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(a,l,c)=>{o(c)}),e.placeholder?o(e.placeholder):t&&o(t),t&&qL();function o(a){jl.get(r).set(e,{text:a,isDirectHost:i,keepOnFocus:s,hostElement:i?e:null}),n.change(l=>Uu(r,l))}}function UL(n,e){return e.hasClass("ck-placeholder")?!1:(n.addClass("ck-placeholder",e),!0)}function zL(n,e){return e.hasClass("ck-placeholder")?(n.removeClass("ck-placeholder",e),!0):!1}function WL(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(o=>!o.is("uiElement")))return!1;const i=n.document,r=i.selection.anchor;return i.isComposing&&r&&r.parent===n?!1:e||!i.isFocused?!0:!!r&&r.parent!==n}function Uu(n,e){const t=jl.get(n),i=[];let s=!1;for(const[r,o]of t)o.isDirectHost&&(i.push(r),n1(e,r,o)&&(s=!0));for(const[r,o]of t){if(o.isDirectHost)continue;const a=KL(r);a&&(i.includes(a)||(o.hostElement=a,n1(e,r,o)&&(s=!0)))}return s}function n1(n,e,t){const{text:i,isDirectHost:s,hostElement:r}=t;let o=!1;return r.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,r),o=!0),(s||e.childCount==1)&&WL(r,t.keepOnFocus)?UL(n,r)&&(o=!0):zL(n,r)&&(o=!0),o}function KL(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}function qL(){t1||gt("enableplaceholder-deprecated-text-option"),t1=!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let rr=class{is(){throw new Error("is() method is abstract")}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let or=class extends Ge(rr){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new k("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=Wt(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Cw(this);return delete e.parent,e}};or.prototype.is=function(n){return n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let nt=class uf extends or{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof uf?this===e||this.data===e.data:!1}_clone(){return new uf(this.document,this.data)}};nt.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Qn=class extends rr{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new k("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new k("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}};Qn.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ta{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const s=i1(t,i);if(s)return{element:t,pattern:i,match:s}}return null}matchAll(...e){const t=[];for(const i of e)for(const s of this._patterns){const r=i1(i,s);r&&t.push({element:i,pattern:s,match:r})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function i1(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=GL(e.name,n.name),!t.name)||e.attributes&&(t.attributes=XL(e.attributes,n),!t.attributes)||e.classes&&(t.classes=QL(e.classes,n),!t.classes)||e.styles&&(t.styles=eB(e.styles,n),!t.styles)?null:t}function GL(n,e){return n instanceof RegExp?!!e.match(n):n===e}function zh(n,e,t){const i=ZL(n),s=Array.from(e),r=[];if(i.forEach(([o,a])=>{s.forEach(l=>{JL(o,l)&&YL(a,l,t)&&r.push(l)})}),!(!i.length||r.length<i.length))return r}function ZL(n){return Array.isArray(n)?n.map(e=>hn(e)?((e.key===void 0||e.value===void 0)&&gt("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):hn(n)?Object.entries(n):[[n,!0]]}function JL(n,e){return n===!0||n===e||n instanceof RegExp&&e.match(n)}function YL(n,e,t){if(n===!0)return!0;const i=t(e);return n===i||n instanceof RegExp&&!!String(i).match(n)}function XL(n,e){const t=new Set(e.getAttributeKeys());return hn(n)?(n.style!==void 0&&gt("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&gt("matcher-pattern-deprecated-attributes-class-key",n)):(t.delete("style"),t.delete("class")),zh(n,t,i=>e.getAttribute(i))}function QL(n,e){return zh(n,e.getClassNames(),()=>{})}function eB(n,e){return zh(n,e.getStyleNames(!0),t=>e.getStyle(t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class df{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=nB(e);for(const[i,s]of t)this._styleProcessor.toNormalizedForm(i,s,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(i)}set(e,t){if(ct(e))for(const[i,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,s,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ff(e);DM(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ct(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);if(Array.isArray(i))return i[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const s=t.splice(0,t.length-1).join("."),r=Ea(this._styles,s);if(!r)return;!Object.keys(r).length&&this.remove(s)}}class tB{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(ct(t)){zu(i,ff(e),t);return}if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:r,value:o}=s(t);zu(i,r,o)}else zu(i,e,t)}getNormalized(e,t){if(!e)return Bh({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Ea(t,i);const s=i(e,t);if(s)return s}return Ea(t,ff(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(s=>{const r=this.getNormalized(s,e);return r&&typeof r=="object"?Object.keys(r).length:r}),i=new Set([...t,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function nB(n){let e=null,t=0,i=0,s=null;const r=new Map;if(n==="")return r;n.charAt(n.length-1)!=";"&&(n=n+";");for(let o=0;o<n.length;o++){const a=n.charAt(o);if(e===null)switch(a){case":":s||(s=n.substr(t,o-t),i=o+1);break;case'"':case"'":e=a;break;case";":{const l=n.substr(i,o-i);s&&r.set(s.trim(),l.trim()),s=null,t=o+1;break}}else a===e&&(e=null)}return r}function ff(n){return n.replace("-",".")}function zu(n,e,t){let i=t;ct(t)&&(i=Bh({},Ea(n,e),t)),LM(n,e,i)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Un=class Xw extends or{constructor(e,t,i,s){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=iB(i),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const r=this._attrs.get("class");s1(this._classes,r),this._attrs.delete("class")}this._styles=new df(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Xw))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Ta(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const s of this.getChildren())t.push(s._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=sB(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,r.document=this.document,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?s1(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of jt(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of jt(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of jt(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Un.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};function iB(n){const e=Ri(n);for(const[t,i]of e)i===null?e.delete(t):typeof i!="string"&&e.set(t,String(i));return e}function s1(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}function sB(n,e){return typeof e=="string"?[new nt(n,e)]:(wn(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new nt(n,t):t instanceof Qn?new nt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Sa extends Un{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=rB}}Sa.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function rB(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class su extends pt(Sa){constructor(e,t,i,s){super(e,t,i,s),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",r=>r&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}su.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const r1=Symbol("rootName");class Qw extends su{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(r1)}set rootName(e){this._setCustomProperty(r1,e)}set _name(e){this.name=e}}Qw.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Is=class{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new k("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new k("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Q._createAt(e.startPosition):this._position=Q._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(i instanceof nt){if(e.isAtEnd)return this._position=Q._createAfter(i),this._next();s=i.data[e.offset]}else s=i.getChild(e.offset);if(s instanceof Un){if(!this.shallow)e=new Q(s,0);else{if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}return this._position=e,this._formatReturnValue("elementStart",s,t,e,1)}if(s instanceof nt){if(this.singleCharacters)return e=new Q(s,0),this._position=e,this._next();let r=s.data.length,o;return s==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new Qn(s,0,r),e=Q._createAfter(o)):(o=new Qn(s,0,s.data.length),e.offset++),this._position=e,this._formatReturnValue("text",o,t,e,r)}if(typeof s=="string"){let r;this.singleCharacters?r=1:r=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const o=new Qn(i,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=Q._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(i instanceof nt){if(e.isAtStart)return this._position=Q._createBefore(i),this._previous();s=i.data[e.offset-1]}else s=i.getChild(e.offset-1);if(s instanceof Un)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",s,t,e,1)):(e=new Q(s,s.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,t,e));if(s instanceof nt){if(this.singleCharacters)return e=new Q(s,s.data.length),this._position=e,this._previous();let r=s.data.length,o;if(s==this._boundaryStartParent){const a=this.boundaries.start.offset;o=new Qn(s,a,s.data.length-a),r=o.data.length,e=Q._createBefore(o)}else o=new Qn(s,0,s.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",o,t,e,r)}if(typeof s=="string"){let r;if(this.singleCharacters)r=1;else{const a=i===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-a}e.offset-=r;const o=new Qn(i,e.offset,r);return this._position=e,this._formatReturnValue("text",o,t,e,r)}return e=Q._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,s,r){return t instanceof Qn&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(s=Q._createAfter(t.textNode),this._position=s):i=Q._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(s=Q._createBefore(t.textNode),this._position=s):i=Q._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:s,length:r}}}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Q=class pi extends rr{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof su);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=pi._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Is(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const s=Wt(t,i);switch(s){case"prefix":return"before";case"extension":return"after";default:return t[s]<i[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Is(e)}clone(){return new pi(this.parent,this.offset)}static _createAt(e,t){if(e instanceof pi)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new k("view-createpositionat-offset-required",i)}return new pi(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new pi(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new k("view-position-after-root",e,{root:e});return new pi(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new pi(e.textNode,e.offsetInText);if(!e.parent)throw new k("view-position-before-root",e,{root:e});return new pi(e.parent,e.index)}};Q.prototype.is=function(n){return n==="position"||n==="view:position"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ce=class Zi extends rr{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Is({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Cl,{direction:"backward"}),t=this.end.getLastMatchingPosition(Cl);return e.parent.is("$text")&&e.isAtStart&&(e=Q._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Q._createAfter(t.parent)),new Zi(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Cl);if(e.isAfter(this.end)||e.isEqual(this.end))return new Zi(e,e);let t=this.end.getLastMatchingPosition(Cl,{direction:"backward"});const i=e.nodeAfter,s=t.nodeBefore;return i&&i.is("$text")&&(e=new Q(i,0)),s&&s.is("$text")&&(t=new Q(s,s.data.length)),new Zi(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Zi(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Zi(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Zi(t,i)}return null}getWalker(e={}){return e.boundaries=this,new Is(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Zi(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Is(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Is(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,s){return new this(new Q(e,t),new Q(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Q._createBefore(e),t)}};Ce.prototype.is=function(n){return n==="range"||n==="view:range"};function Cl(n){return!!(n.item.is("attributeElement")||n.item.is("uiElement"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Si=class e_ extends Ge(rr){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=af(this.getRanges()),i=af(e.getRanges());if(t!=i)return!1;if(t==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let r=!1;for(let o of e.getRanges())if(o=o.getTrimmed(),s.start.isEqual(o.start)&&s.end.isEqual(o.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(s);else if(t instanceof e_||t instanceof Wh)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Ce)this._setRanges([t],s&&s.backward),this._setFakeOptions(s);else if(t instanceof Q)this._setRanges([new Ce(t)]),this._setFakeOptions(s);else if(t instanceof or){const r=!!s&&!!s.backward;let o;if(i===void 0)throw new k("view-selection-setto-required-second-parameter",this);i=="in"?o=Ce._createIn(t):i=="on"?o=Ce._createOn(t):o=new Ce(Q._createAt(t,i)),this._setRanges([o],r),this._setFakeOptions(s)}else if(wn(t))this._setRanges(t,s&&s.backward),this._setFakeOptions(s);else throw new k("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new k("view-selection-setfocus-no-ranges",this);const i=Q._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),i.compareWith(s)=="before"?this._addRange(new Ce(i,s),!0):this._addRange(new Ce(s,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Ce))throw new k("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new k("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Ce(e.start,e.end))}};Si.prototype.is=function(n){return n==="selection"||n==="view:selection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Wh=class extends Ge(rr){constructor(...e){super(),this._selection=new Si,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}};Wh.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lo extends Oi{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Wu=Symbol("bubbling contexts");function hf(n){class e extends n{fire(i,...s){try{const r=i instanceof Oi?i:new Oi(this,i),o=Ku(this);if(!o.size)return;if(vo(r,"capturing",this),hr(o,"$capture",r,...s))return r.return;const a=r.startRange||this.selection.getFirstRange(),l=a?a.getContainedElement():null,c=l?!!t_(o,l):!1;let u=l||oB(a);if(vo(r,"atTarget",u),!c){if(hr(o,"$text",r,...s))return r.return;vo(r,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(hr(o,"$root",r,...s))return r.return}else if(u.is("element")&&hr(o,u.name,r,...s))return r.return;if(hr(o,u,r,...s))return r.return;u=u.parent,vo(r,"bubbling",u)}return vo(r,"bubbling",this),hr(o,"$document",r,...s),r.return}catch(r){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(r,this)}}_addEventListener(i,s,r){const o=jt(r.context||"$document"),a=Ku(this);for(const l of o){let c=a.get(l);c||(c=new(Ge()),a.set(l,c)),this.listenTo(c,i,s,r)}}_removeEventListener(i,s){const r=Ku(this);for(const o of r.values())this.stopListening(o,i,s)}}return e}{const n=hf(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{hf[e]=n.prototype[e]})}function vo(n,e,t){n instanceof lo&&(n._eventPhase=e,n._currentTarget=t)}function hr(n,e,t,...i){const s=typeof e=="string"?n.get(e):t_(n,e);return s?(s.fire(t,...i),t.stop.called):!1}function t_(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function Ku(n){return n[Wu]||(n[Wu]=new Map),n[Wu]}function oB(n){if(!n)return null;const e=n.start.parent,t=n.end.parent,i=e.getPath(),s=t.getPath();return i.length>s.length?e:t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let n_=class extends hf(pt()){constructor(e){super(),this._postFixers=new Set,this.selection=new Wh,this.roots=new ps({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const i_=10;class Fs extends Un{constructor(e,t,i,s){super(e,t,i,s),this._priority=i_,this._id=null,this._clonesGroup=null,this.getFillerOffset=aB}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new k("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Fs.DEFAULT_PRIORITY=i_;Fs.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function aB(){if(qu(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(qu(n)>1)return null;n=n.parent}return!n||qu(n)>1?null:this.childCount}function qu(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Kh extends Un{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=lB}_insertChild(e,t){if(t&&(t instanceof or||Array.from(t).length>0))throw new k("view-emptyelement-cannot-add",[this,t]);return 0}}Kh.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function lB(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ru extends Un{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=uB}_insertChild(e,t){if(t&&(t instanceof or||Array.from(t).length>0))throw new k("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}ru.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function cB(n){n.document.on("arrowKey",(e,t)=>dB(e,t,n.domConverter),{priority:"low"})}function uB(){return null}function dB(n,e,t){if(e.keyCode==Re.arrowright){const i=e.domTarget.ownerDocument.defaultView.getSelection(),s=i.rangeCount==1&&i.getRangeAt(0).collapsed;if(s||e.shiftKey){const r=i.focusNode,o=i.focusOffset,a=t.domPositionToView(r,o);if(a===null)return;let l=!1;const c=a.getLastMatchingPosition(u=>(u.item.is("uiElement")&&(l=!0),!!(u.item.is("uiElement")||u.item.is("attributeElement"))));if(l){const u=t.viewPositionToDom(c);s?i.collapse(u.parent,u.offset):i.extend(u.parent,u.offset)}}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qh extends Un{constructor(e,t,i,s){super(e,t,i,s),this.getFillerOffset=fB}_insertChild(e,t){if(t&&(t instanceof or||Array.from(t).length>0))throw new k("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}qh.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};function fB(){return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let Ns=class extends Ge(rr){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const s=hB(this.document,t);for(const r of s)r.parent!==null&&r._remove(),r.parent=this,this._children.splice(e,0,r),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};Ns.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};function hB(n,e){return typeof e=="string"?[new nt(n,e)]:(wn(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new nt(n,t):t instanceof Qn?new nt(n,t.data):t))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s_{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Ns(this.document,e)}createText(e){return new nt(this.document,e)}createAttributeElement(e,t,i={}){const s=new Fs(this.document,e,t);return typeof i.priority=="number"&&(s._priority=i.priority),i.id&&(s._id=i.id),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createContainerElement(e,t,i={},s={}){let r=null;hn(i)?s=i:r=i;const o=new Sa(this.document,e,t,r);return s.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),o}createEditableElement(e,t,i={}){const s=new su(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createEmptyElement(e,t,i={}){const s=new Kh(this.document,e,t);return i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}createUIElement(e,t,i){const s=new ru(this.document,e,t);return i&&(s.render=i),s}createRawElement(e,t,i,s={}){const r=new qh(this.document,e,t);return i&&(r.render=i),s.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),r}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){hn(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Q?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new k("view-writer-break-non-container-element",this.document);if(!t.parent)throw new k("view-writer-break-root",this.document);if(e.isAtStart)return Q._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(Q._createAfter(t),i);const s=new Ce(e,Q._createAt(t,"end")),r=new Q(i,0);this.move(s,r)}return Q._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const o=i.parent,a=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new Q(o,a))}const s=i.getChild(t-1),r=i.getChild(t);if(!s||!r)return e;if(s.is("$text")&&r.is("$text"))return a1(s,r);if(s.is("attributeElement")&&r.is("attributeElement")&&s.isSimilar(r)){const o=s.childCount;return s._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new Q(s,o))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement"))throw new k("view-writer-merge-containers-invalid-position",this.document);const s=t.getChild(t.childCount-1),r=s instanceof nt?Q._createAt(s,"end"):Q._createAt(t,"end");return this.move(Ce._createIn(i),Q._createAt(t,"end")),this.remove(Ce._createOn(i)),r}insert(e,t){t=wn(t)?[...t]:[t],r_(t,this.document);const i=t.reduce((o,a)=>{const l=o[o.length-1],c=!a.is("uiElement");return!l||l.breakAttributes!=c?o.push({breakAttributes:c,nodes:[a]}):l.nodes.push(a),o},[]);let s=null,r=e;for(const{nodes:o,breakAttributes:a}of i){const l=this._insertNodes(r,o,a);s||(s=l.start),r=l.end}return s?new Ce(s,r):new Ce(e)}remove(e){const t=e instanceof Ce?e:Ce._createOn(e);if(yo(t,this.document),t.isCollapsed)return new Ns(this.document);const{start:i,end:s}=this._breakAttributesRange(t,!0),r=i.parent,o=s.offset-i.offset,a=r._removeChildren(i.offset,o);for(const c of a)this._removeFromClonedElementsGroup(c);const l=this.mergeAttributes(i);return t.start=l,t.end=l.clone(),new Ns(this.document,a)}clear(e,t){yo(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of i){const r=s.item;let o;if(r.is("element")&&t.isSimilar(r))o=Ce._createOn(r);else if(!s.nextPosition.isAfter(e.start)&&r.is("$textProxy")){const a=r.getAncestors().find(l=>l.is("element")&&t.isSimilar(l));a&&(o=Ce._createIn(a))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const s=t.parent,r=s.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=s.childCount-r}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof Fs))throw new k("view-writer-wrap-invalid-attribute",this.document);if(yo(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&!mB(i.parent)&&(i=i.getLastMatchingPosition(r=>r.item.is("uiElement"))),i=this._wrapPosition(i,t);const s=this.document.selection;return s.isCollapsed&&s.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new Ce(i)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Fs))throw new k("view-writer-unwrap-invalid-attribute",this.document);if(yo(e,this.document),e.isCollapsed)return e;const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._unwrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new Ce(a,l)}rename(e,t){const i=new Sa(this.document,e,t.getAttributes());return this.insert(Q._createAfter(t),i),this.move(Ce._createIn(t),Q._createAt(i,0)),this.remove(Ce._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new Si(...e)}createSlot(e="children"){if(!this._slotFactory)throw new k("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let s;if(i?s=mf(e):s=e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new k("view-writer-invalid-position-container",this.document);let r;i?r=this._breakAttributes(e,!0):r=e.parent.is("$text")?Gu(e):e;const o=s._insertChild(r.offset,t);for(const u of t)this._addToClonedElementsGroup(u);const a=r.getShiftedBy(o),l=this.mergeAttributes(r);l.isEqual(r)||a.offset--;const c=this.mergeAttributes(a);return new Ce(l,c)}_wrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r),c=l.is("$text"),u=l.is("attributeElement");if(u&&this._wrapAttributeElement(s,l))o.push(new Q(e,r));else if(c||!u||pB(s,l)){const d=s._clone();l._remove(),d._appendChild(l),e._insertChild(r,d),this._addToClonedElementsGroup(d),o.push(new Q(e,r))}else this._wrapChildren(l,0,l.childCount,s);r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return Ce._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,s){let r=t;const o=[];for(;r<i;){const l=e.getChild(r);if(!l.is("attributeElement")){r++;continue}if(l.isSimilar(s)){const c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(r,c),this._removeFromClonedElementsGroup(l),o.push(new Q(e,r),new Q(e,r+u)),r+=u,i+=u-1;continue}if(this._unwrapAttributeElement(s,l)){o.push(new Q(e,r),new Q(e,r+1)),r++;continue}this._unwrapChildren(l,0,l.childCount,s),r++}let a=0;for(const l of o){if(l.offset-=a,l.offset==t||l.offset==i)continue;this.mergeAttributes(l).isEqual(l)||(a++,i--)}return Ce._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:s}=this._breakAttributesRange(e,!0),r=i.parent,o=this._wrapChildren(r,i.offset,s.offset,t),a=this.mergeAttributes(o.start);a.isEqual(o.start)||o.end.offset--;const l=this.mergeAttributes(o.end);return new Ce(a,l)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return o1(e.clone());e.parent.is("$text")&&(e=Gu(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const s=new Ce(e,e.getShiftedBy(1));this.wrap(s,t);const r=new Q(i.parent,i.index);i._remove();const o=r.nodeBefore,a=r.nodeAfter;return o instanceof nt&&a instanceof nt?a1(o,a):o1(r)}_wrapAttributeElement(e,t){if(!l1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t);for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!l1(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(!(i==="class"||i==="style")&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i==="class"||i==="style"||this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,s=e.end;if(yo(e,this.document),e.isCollapsed){const l=this._breakAttributes(e.start,t);return new Ce(l,l)}const r=this._breakAttributes(s,t),o=r.parent.childCount,a=this._breakAttributes(i,t);return r.offset+=r.parent.childCount-o,new Ce(a,r)}_breakAttributes(e,t=!1){const i=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new k("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new k("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new k("view-writer-cannot-break-raw-element",this.document);if(!t&&s.is("$text")&&pf(s.parent)||pf(s))return e.clone();if(s.is("$text"))return this._breakAttributes(Gu(e),t);const r=s.childCount;if(i==r){const o=new Q(s.parent,s.index+1);return this._breakAttributes(o,t)}else if(i===0){const o=new Q(s.parent,s.index);return this._breakAttributes(o,t)}else{const o=s.index+1,a=s._clone();s.parent._insertChild(o,a),this._addToClonedElementsGroup(a);const l=s.childCount-i,c=s._removeChildren(i,l);a._appendChild(c);const u=new Q(s.parent,o);return this._breakAttributes(u,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function mB(n){return Array.from(n.getChildren()).some(e=>!e.is("uiElement"))}function mf(n){let e=n.parent;for(;!pf(e);){if(!e)return;e=e.parent}return e}function pB(n,e){return n.priority<e.priority?!0:n.priority>e.priority?!1:n.getIdentity()<e.getIdentity()}function o1(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new Q(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new Q(t,0):n}function Gu(n){if(n.offset==n.parent.data.length)return new Q(n.parent.parent,n.parent.index+1);if(n.offset===0)return new Q(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new nt(n.root.document,e)),new Q(n.parent.parent,n.parent.index+1)}function a1(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new Q(n,t)}const gB=[nt,Fs,Sa,Kh,qh,ru];function r_(n,e){for(const t of n){if(!gB.some(i=>t instanceof i))throw new k("view-writer-insert-invalid-node-type",e);t.is("$text")||r_(t.getChildren(),e)}}function pf(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function yo(n,e){const t=mf(n.start),i=mf(n.end);if(!t||!i||t!==i)throw new k("view-writer-invalid-range-container",e)}function l1(n,e){return n.id===null&&e.id===null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const o_=n=>n.createTextNode(""),a_=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},l_=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},Vn=7,Pa="".repeat(Vn);function dn(n){return typeof n=="string"?n.substr(0,Vn)===Pa:vt(n)&&n.data.substr(0,Vn)===Pa}function Er(n){return n.data.length==Vn&&dn(n)}function c1(n){const e=typeof n=="string"?n:n.data;return dn(n)?e.slice(Vn):e}function bB(n){n.document.on("arrowKey",vB,{priority:"low"})}function vB(n,e){if(e.keyCode==Re.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,s=t.getRangeAt(0).startOffset;dn(i)&&s<=Vn&&t.collapse(i,0)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yB extends pt(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),ke.isBlink&&!ke.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new k("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!ke.isAndroid)return;let e=null;const t=ke.isBlink&&!ke.isAndroid?!this.isSelecting:!0;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Q._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),s=i.parent.ownerDocument;dn(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=u1(s,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),r=this._diffNodeLists(i,s),o=this._findUpdateActions(r,i,s,_B);if(o.indexOf("update")!==-1){const a={equal:0,insert:0,delete:0};for(const l of o)if(l==="update"){const c=a.equal+a.insert,u=a.equal+a.delete,d=e.getChild(c);d&&!d.is("uiElement")&&!d.is("rawElement")&&this._updateElementMappings(d,i[u]),jg(s[c]),a.equal++}else a[l]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Q._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&vt(t.parent)&&dn(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!dn(e))throw new k("view-renderer-filler-was-lost",this);Er(e)?e.remove():e.data=e.data.substr(Vn),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!wB(t))return!1;const s=e.nodeBefore,r=e.nodeAfter;return!(s instanceof nt||r instanceof nt||i===t.getFillerOffset()&&(!s||!s.is("element","br"))||ke.isAndroid&&(s||r))}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(r=Pa+r),d1(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(r=>r.name),s=e.getAttributeKeys();for(const r of s)this.domConverter.setDomElementAttribute(t,r,e.getAttribute(r),e);for(const r of i)e.hasAttribute(r)||this.domConverter.removeDomElementAttribute(t,r)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(ke.isAndroid){let d=null;for(const f of Array.from(i.childNodes)){if(d&&vt(d)&&vt(f)){i.normalize();break}d=f}}const s=t.inlineFillerPosition,r=i.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&u1(i.ownerDocument,o,s.offset);const a=this._diffNodeLists(r,o),l=this._findUpdateActions(a,r,o,CB);let c=0;const u=new Set;for(const d of l)d==="delete"?(u.add(r[c]),jg(r[c])):(d==="equal"||d==="update")&&c++;c=0;for(const d of l)d==="insert"?(Vw(i,c,o[c]),c++):d==="update"?(d1(r[c],o[c].data),c++):d==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(o[c])),c++);for(const d of u)d.parentNode||this.domConverter.unbindDomElement(d)}_diffNodeLists(e,t){return e=TB(e,this._fakeSelectionContainer),jo(e,t,kB.bind(null,this.domConverter))}_findUpdateActions(e,t,i,s){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let r=[],o=[],a=[];const l={equal:0,insert:0,delete:0};for(const c of e)c==="insert"?a.push(i[l.equal+l.insert]):c==="delete"?o.push(t[l.equal+l.delete]):(r=r.concat(jo(o,a,s).map(u=>u==="equal"?"update":u)),r.push("equal"),o=[],a=[]),l[c]++;return r.concat(jo(o,a,s).map(c=>c==="equal"?"update":c))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(ke.isBlink&&!ke.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&ke.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=SB(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!i.parentElement||i.parentElement!=e)&&e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"";const s=t.getSelection(),r=t.createRange();s.removeAllRanges(),r.selectNodeContents(i),s.addRange(r)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,s.parent,s.offset),ke.isGecko&&EB(s,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,s=this.domConverter.mapDomToView(i);i&&s&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function wB(n){if(n.getAttribute("contenteditable")=="false")return!1;const e=n.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function u1(n,e,t){const i=e instanceof Array?e:e.childNodes,s=i[t];if(vt(s))return s.data=Pa+s.data,s;{const r=n.createTextNode(Pa);return Array.isArray(e)?i.splice(t,0,r):Vw(e,t,r),r}}function _B(n,e){return ds(n)&&ds(e)&&!vt(n)&&!vt(e)&&!zo(n)&&!zo(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function CB(n,e){return ds(n)&&ds(e)&&vt(n)&&vt(e)}function kB(n,e,t){return e===t?!0:vt(e)&&vt(t)?e.data===t.data:!!(n.isBlockFiller(e)&&n.isBlockFiller(t))}function EB(n,e){let t=n.parent,i=n.offset;if(vt(t)&&Er(t)&&(i=Ao(t)+1,t=t.parentNode),t.nodeType!=Node.ELEMENT_NODE||i!=t.childNodes.length-1)return;const s=t.childNodes[i];s&&s.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function TB(n,e){const t=Array.from(n);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function SB(n){const e=n.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}function d1(n,e){const t=n.data;if(t==e)return;const i=Fy(t,e);for(const s of i)s.type==="insert"?n.insertData(s.index,s.values.join("")):n.deleteData(s.index,s.howMany)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const PB=l_(ce.document),AB=o_(ce.document),xB=a_(ce.document),kl="data-ck-unsafe-attribute-",f1="data-ck-unsafe-element";class c_{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ta,this._inlineObjectElementMatcher=new Ta,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ce.document:ce.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Si(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const i=new DOMParser().parseFromString(t,"text/html"),s=i.createDocumentFragment(),r=i.body.childNodes;for(;r.length>0;)s.appendChild(r[0]);const o=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),a=[];let l;for(;l=o.nextNode();)a.push(l);for(const c of a){for(const d of c.getAttributeNames())this.setDomElementAttribute(c,d,c.getAttribute(d));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(m1(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}else{const i=e;if(this.mapViewToDom(i))if(i.getCustomProperty("editingPipeline:doNotReuseOnce"))this._elementsWithTemporaryCustomProperties.add(i);else return this.mapViewToDom(i);let s;if(i.is("documentFragment"))s=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(s,i);else{if(i.is("uiElement"))return i.name==="$comment"?s=this._domDocument.createComment(i.getCustomProperty("$rawContent")):s=i.render(this._domDocument,this),t.bind&&this.bindElements(s,i),s;this._shouldRenameElement(i.name)?(m1(i.name),s=this._createReplacementDomElement(i.name)):i.hasAttribute("xmlns")?s=this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):s=this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(s,this),t.bind&&this.bindElements(s,i);for(const r of i.getAttributeKeys())this.setDomElementAttribute(s,r,i.getAttribute(r),i)}if(t.withChildren!==!1)for(const r of this.viewChildrenToDom(i,t))s instanceof HTMLTemplateElement?s.content.appendChild(r):s.appendChild(r);return s}}setDomElementAttribute(e,t,i,s){const r=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(t);if(r||gt("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),!XM(t)){gt("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i});return}e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(kl+t)&&r&&e.removeAttribute(kl+t),e.setAttribute(r?t:kl+t,i)}removeDomElementAttribute(e,t){t!=f1&&(e.removeAttribute(t),e.removeAttribute(kl+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const r of e.getChildren()){i===s&&(yield this._getBlockFiller());const o=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Ii(r.getAttributes());o&&this.renderingMode=="data"?yield*this.viewChildrenToDom(r,t):(o&&gt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,t)),s++}i===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(t.parent,t.offset),s.setEnd(i.parent,i.offset),s}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let s=e.offset;return dn(i)&&(s+=Vn),{parent:i,offset:s}}else{let i,s,r;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;r=i.childNodes[0]}else{const a=e.nodeBefore;if(s=a.is("$text")?this.findCorrespondingDomText(a):this.mapViewToDom(a),!s)return null;i=s.parentNode,r=s.nextSibling}if(vt(r)&&dn(r))return{parent:r,offset:Vn};const o=s?Ao(s)+1:0;return{parent:i,offset:o}}}domToView(e,t={}){const i=[],s=this._domToView(e,t,i),r=s.next().value;return!r||(s.next(),this._processDomInlineNodes(null,i,t),r.is("$text")&&r.data.length==0)?null:r}*domChildrenToView(e,t={},i=[]){let s=[];e instanceof HTMLTemplateElement?s=[...e.content.childNodes]:s=[...e.childNodes];for(let r=0;r<s.length;r++){const o=s[r],a=this._domToView(o,t,i),l=a.next().value;l!==null&&(this._isBlockViewElement(l)&&this._processDomInlineNodes(e,i,t),yield l,a.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(RB(e))return new Si([]);if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;vt(s)&&(s=s.parentNode);const r=this.fakeSelectionToView(s);if(r)return r}const t=this.isDomSelectionBackward(e),i=[];for(let s=0;s<e.rangeCount;s++){const r=e.getRangeAt(s),o=this.domRangeToView(r);o&&i.push(o)}return new Si(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new Ce(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Ao(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return Q._createBefore(i);if(vt(e)){if(Er(e))return this.domPositionToView(e.parentNode,Ao(e));const s=this.findCorrespondingViewText(e);let r=t;return s?(dn(e)&&(r-=Vn,r=r<0?0:r),new Q(s,r)):null}else{if(t===0){const s=this.mapDomToView(e);if(s)return new Q(s,0)}else{const s=e.childNodes[t-1];if(vt(s)&&Er(s)||s&&this.isBlockFiller(s))return this.domPositionToView(s.parentNode,Ao(s));const r=vt(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(r&&r.parent)return new Q(r.parent,r.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Er(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const s=this.mapDomToView(i);if(s){const r=s.nextSibling;return r instanceof nt?r:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const r=s.getChild(0);return r instanceof nt?r:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:s}=ce.window,r=[];h1(t,o=>{const{scrollLeft:a,scrollTop:l}=o;r.push([a,l])}),t.focus(),h1(t,o=>{const[a,l]=r.shift();o.scrollLeft=a,o.scrollTop=l}),ce.window.scrollTo(i,s)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(PB):e.tagName==="BR"&&u_(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(xB)||IB(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=GM(e);for(t.pop();t.length;){const i=t.pop(),s=this._domToViewMapping.get(i);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return o_(this._domDocument);case"markedNbsp":return a_(this._domDocument);case"br":return l_(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(vt(e)&&dn(e)&&t<Vn||this.isElement(e)&&dn(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!(i&&(i.is("uiElement")||i.is("rawElement")))}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(zo(e)&&t.skipComments)return null;if(vt(e)){if(Er(e))return null;{const r=e.data;if(r==="")return null;const o=new nt(this.document,r);return i.push(o),o}}else{let r=this.mapDomToView(e);if(r)return this._isInlineObjectElement(r)&&i.push(r),r;if(this.isDocumentFragment(e))r=new Ns(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const a=e.attributes;if(a)for(let l=a.length,c=0;c<l;c++)r._setAttribute(a[c].name,a[c].value);if(this._isViewElementWithRawContent(r,t))return r._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(r)||i.push(r),r;if(zo(e))return r._setCustomProperty("$rawContent",e.data),r}yield r;const o=[];if(t.withChildren!==!1)for(const a of this.domChildrenToView(e,t,o))r._appendChild(a);if(this._isInlineObjectElement(r))i.push(r);else for(const a of o)i.push(a)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let s=!1;for(let r=0;r<t.length;r++){const o=t[r];if(!o.is("$text")){s=!1;continue}let a,l=!1;if(OB(o,this.preElements))a=c1(o.data);else{a=o.data.replace(/[ \n\t\r]{1,}/g," "),l=/[^\S\u00A0]/.test(a.charAt(a.length-1));const c=r>0?t[r-1]:null,u=r+1<t.length?t[r+1]:null,d=!c||c.is("element")&&c.name=="br"||s,f=u?!1:!dn(o.data);i.withChildren!==!1&&(d&&(a=a.replace(/^ /,"")),f&&(a=a.replace(/ $/,""))),a=c1(a),a=a.replace(/ \u00A0/g,"  ");const h=u&&u.is("element")&&u.name!="br",m=u&&u.is("$text")&&u.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(a)||!u||h||m)&&(a=a.replace(/\u00A0$/," ")),(d||c&&c.is("element")&&c.name!="br")&&(a=a.replace(/^\u00A0/," "))}a.length==0&&o.parent?(o._remove(),t.splice(r,1),r--):(o._data=a,s=l)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i)||!i)&&(t=""+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),s=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!i||s)&&(t=t.substr(0,t.length-1)+"")}return t.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new Is({startPosition:t?Q._createAfter(e):Q._createBefore(e),direction:t?"forward":"backward"});for(const s of i){if(s.item.is("element","br"))return null;if(this._isInlineObjectElement(s.item))return s.item;if(s.item.is("containerElement"))return null;if(s.item.is("$textProxy"))return s.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return e.is("element")?e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e):!1}_createViewElement(e,t){if(zo(e))return new ru(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Un(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(f1,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const s of t.getAttributeNames())i.setAttribute(s,t.getAttribute(s))}return i}}function OB(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function h1(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function IB(n,e){return n.isEqualNode(AB)&&u_(n,e)&&n.parentNode.childNodes.length===1}function u_(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function m1(n){n==="script"&&gt("domconverter-unsafe-script-element-detected"),n==="style"&&gt("domconverter-unsafe-style-element-detected")}function RB(n){if(!ke.isGecko||!n.rangeCount)return!1;const e=n.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch{return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $i extends qn(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Zr{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,tw(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ar extends $i{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(s,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new Zr(this.view,t,i))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MB extends ar{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return qr(this)}};this.fire(e.type,e,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LB extends $i{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Kr(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Si(t.getRanges(),{backward:t.isBackward,fake:!1});(e==Re.arrowleft||e==Re.arrowup)&&i.setTo(i.getFirstPosition()),(e==Re.arrowright||e==Re.arrowdown)&&i.setTo(i.getLastPosition());const s={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let d_=class extends $i{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,s=new Set;for(const o of e){const a=t.mapDomToView(o.target);a&&(a.is("uiElement")||a.is("rawElement")||o.type==="childList"&&!this._isBogusBrMutation(o)&&s.add(a))}for(const o of e){const a=t.mapDomToView(o.target);if(!(a&&(a.is("uiElement")||a.is("rawElement")))&&o.type==="characterData"){const l=t.findCorrespondingViewText(o.target);l&&!s.has(l.parent)?i.add(l):!l&&dn(o.target)&&s.add(t.mapDomToView(o.target.parentNode))}}let r=!1;for(const o of i)r=!0,this.renderer.markToSync("text",o);for(const o of s){const a=t.mapViewToDom(o),l=Array.from(o.getChildren()),c=Array.from(t.domChildrenToView(a,{withChildren:!1}));OM(l,c,BB)||(r=!0,this.renderer.markToSync("children",o))}r&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}};function BB(n,e){if(!Array.isArray(n))return n===e?!0:n.is("$text")&&e.is("$text")?n.data===e.data:!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gc extends ar{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,s)=>{const r=t.selection.editableElement;(r===null||r===s.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DB extends $i{constructor(e){super(e),this.mutationObserver=e.getObserver(d_),this.focusObserver=e.getObserver(gc),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Kr(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Kr(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",i,{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,o)=>{this.document.isComposing&&!ke.isAndroid||(this._handleSelectionChange(o,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(i);if(s.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(i))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.selection.isSimilar(s))this.view.forceRender();else{const r={oldSelection:this.selection,newSelection:s,domSelection:i};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VB extends ar{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class f_{constructor(e,t={}){this._files=t.cacheFiles?p1(e):null,this._native=e}get files(){return this._files||(this._files=p1(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function p1(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $B extends ar{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,s=i.document;let r=null,o=null,a=[];if(e.dataTransfer&&(r=new f_(e.dataTransfer)),e.data!==null?o=e.data:r&&(o=r.getData("text/plain")),s.selection.isFake)a=Array.from(s.selection.getRanges());else if(t.length)a=t.map(l=>{const c=i.domConverter.domPositionToView(l.startContainer,l.startOffset),u=i.domConverter.domPositionToView(l.endContainer,l.endOffset);if(c)return i.createRange(c,u);if(u)return i.createRange(u)}).filter(l=>!!l);else if(ke.isAndroid){const l=e.target.ownerDocument.defaultView.getSelection();a=Array.from(i.domConverter.domSelectionToView(l).getRanges())}if(ke.isAndroid&&e.inputType=="insertCompositionText"&&o&&o.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(a[0].end)]});return}if(e.inputType=="insertText"&&o&&o.includes(`
`)){const l=o.split(/\n{1,2}/g);let c=a;for(let u=0;u<l.length;u++){const d=l[u];d!=""&&(this.fire(e.type,e,{data:d,dataTransfer:r,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing}),c=[s.selection.getFirstRange()]),u+1<l.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:c}),c=[s.selection.getFirstRange()])}return}this.fire(e.type,e,{data:o,dataTransfer:r,targetRanges:a,inputType:e.inputType,isComposing:e.isComposing})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FB extends $i{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&lL(i.keyCode)){const s=new lo(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(s,i),s.stop.called&&t.stop()}})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class NB extends $i{constructor(e){super(e);const t=this.document;t.on("keydown",(i,s)=>{if(!this.isEnabled||s.keyCode!=Re.tab||s.ctrlKey)return;const r=new lo(t,"tab",t.selection.getFirstRange());t.fire(r,s),r.stop.called&&i.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HB extends pt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new n_(e),this.domConverter=new c_(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new yB(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new s_(this.document),this.addObserver(d_),this.addObserver(gc),this.addObserver(DB),this.addObserver(MB),this.addObserver(LB),this.addObserver(VB),this.addObserver(FB),this.addObserver($B),this.addObserver(NB),bB(this),cB(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),ke.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const s={};for(const{name:o,value:a}of Array.from(e.attributes))s[o]=a,o==="class"?this._writer.addClass(a.split(" "),i):this._writer.setAttribute(o,a,i);this._initialDomRootAttributes.set(e,s);const r=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};r(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(o,a)=>this._renderer.markToSync("children",a)),i.on("change:attributes",(o,a)=>this._renderer.markToSync("attributes",a)),i.on("change:text",(o,a)=>this._renderer.markToSync("text",a)),i.on("change:isReadOnly",()=>this.change(r)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:s})=>t.removeAttribute(s));const i=this._initialDomRootAttributes.get(t);for(const s in i)t.setAttribute(s,i[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const s of this._observers.values())s.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,s]of this.domRoots)t.observe(s,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:s=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const o=Kn({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:s});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const a={target:this.domConverter.viewRangeToDom(r),viewportOffset:i,ancestorOffset:s,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",a,o),tL(a)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new k("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(gc).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new Si(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gs{is(){throw new Error("is() method is abstract")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let lr=class extends gs{constructor(e){super(),this.parent=null,this._attrs=Ri(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new k("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new k("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),s=e.getAncestors(t);let r=0;for(;i[r]==s[r]&&i[r];)r++;return r===0?null:i[r-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),s=Wt(t,i);switch(s){case"prefix":return!0;case"extension":return!1;default:return t[s]<i[s]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Ri(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};lr.prototype.is=function(n){return n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Wo{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,s)=>i+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new k("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new k("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof lr))throw new k("model-nodelist-insertnodes-not-node",this);this._nodes=CL(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ke extends lr{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Ke(this.data,this.getAttributes())}static fromJSON(e){return new Ke(e.data,e.attributes)}}Ke.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $n extends gs{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new k("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new k("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}$n.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let ot=class Ul extends lr{constructor(e,t,i){super(t),this._children=new Wo,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new Ul(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=jB(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(Ul.fromJSON(i)):t.push(Ke.fromJSON(i))}return new Ul(e.name,e.attributes,t)}};ot.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};function jB(n){return typeof n=="string"?[new Ke(n)]:(wn(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Ke(e):e instanceof $n?new Ke(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _i{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new k("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new k("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=U._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,s,r;do s=this.position,r=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=s,this._visitedParent=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Ko(t,i),r=s||h_(t,i,s);if(r instanceof ot){if(!this.shallow)t.path.push(0),this._visitedParent=r;else{if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}return this._position=t,Cs("elementStart",r,e,t,1)}if(r instanceof Ke){let o;if(this.singleCharacters)o=1;else{let c=r.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),o=c-t.offset}const a=t.offset-r.startOffset,l=new $n(r,a,o);return t.offset+=o,this._position=t,Cs("text",l,e,t,o)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Cs("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=t.parent,r=Ko(t,s),o=r||m_(t,s,r);if(o instanceof ot)return t.offset--,this.shallow?(this._position=t,Cs("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():Cs("elementEnd",o,e,t));if(o instanceof Ke){let a;if(this.singleCharacters)a=1;else{let u=o.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),a=t.offset-u}const l=t.offset-o.startOffset,c=new $n(o,l-a,a);return t.offset-=a,this._position=t,Cs("text",c,e,t,a)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Cs("elementStart",i,e,t,1)}}function Cs(n,e,t,i,s){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:s}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U extends gs{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new k("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new k("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new k("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new k("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ko(this,this.parent)}get nodeAfter(){const e=this.parent;return h_(this,e,Ko(this,e))}get nodeBefore(){const e=this.parent;return m_(this,e,Ko(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Wt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new _i(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Wt(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]==i[s]&&t[s];)s++;return s===0?null:t[s-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const s=this.path[i]-e.path[i];if(s<-1||s>1)return!1;if(s===1)return g1(e,this,i);if(s===-1)return g1(this,e,i)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?gf(this.path,t):gf(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return Wt(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=U._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,i=t.containsPosition(this)||t.start.isEqual(this);let s;return i?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?s=U._createAt(e.deletionPosition):s=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,t){const i=U._createAt(this);if(this.root!=e.root)return i;if(Wt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(Wt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+t>this.path[s])return null;i.path[s]-=t}}return i}_getTransformedByInsertion(e,t){const i=U._createAt(this);if(this.root!=e.root)return i;if(Wt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(Wt(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(i.path[s]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return U._createAt(this);const s=this._getTransformedByDeletion(e,i);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):s._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,s=U._createAt(t);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[i]-e.offset,s.path=[...s.path,...this.path.slice(i+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof U)return new U(e.root,e.path,e.stickiness);{const s=e;if(t=="end")t=s.maxOffset;else{if(t=="before")return this._createBefore(s,i);if(t=="after")return this._createAfter(s,i);if(t!==0&&!t)throw new k("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new k("model-position-parent-incorrect",[this,e]);const r=s.getPath();return r.push(t),new this(s.root,r,i)}}static _createAfter(e,t){if(!e.parent)throw new k("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new k("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new U(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new k("model-position-fromjson-no-root",t,{rootName:e.root});return new U(t.getRoot(e.root),e.path,e.stickiness)}}U.prototype.is=function(n){return n==="position"||n==="model:position"};function Ko(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function h_(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function m_(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function g1(n,e,t){return!(t+1===n.path.length||!gf(e.path,t+1)||!UB(n,t+1))}function gf(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}function UB(n,e){let t=n.parent,i=n.path.length-1,s=0;for(;i>=e;){if(n.path[i]+s!==t.maxOffset)return!1;s=1,i--,t=t.parent}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class x extends gs{constructor(e,t){super(),this.start=U._createAt(e),this.end=t?U._createAt(t):U._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new _i({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Wt(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&s}containsItem(e){const t=U._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new x(this.start,e.start)),this.containsPosition(e.end)&&t.push(new x(e.end,this.end))):t.push(new x(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new x(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(this.start.isBefore(e.start)?i=t?this.end.isTouching(e.start):this.end.isEqual(e.start):i=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let s=this.start,r=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(r)&&(r=e.end),new x(s,r)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=U._createAt(this.start);let s=i.parent;for(;i.path.length>t+1;){const r=s.maxOffset-i.offset;r!==0&&e.push(new x(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,s=s.parent}for(;i.path.length<=this.end.path.length;){const r=this.end.path[i.path.length-1],o=r-i.offset;o!==0&&e.push(new x(i,i.getShiftedBy(o))),i.offset=r,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new _i(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new _i(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new _i(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new x(this.start,this.end)]}getTransformedByOperations(e){const t=[new x(this.start,this.end)];for(const i of e)for(let s=0;s<t.length;s++){const r=t[s].getTransformedByOperation(i);t.splice(s,1,...r),s+=r.length-1}for(let i=0;i<t.length;i++){const s=t[i];for(let r=i+1;r<t.length;r++){const o=t[r];(s.containsRange(o)||o.containsRange(s)||s.isEqual(o))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,s=e.howMany,r=e.targetPosition;return this._getTransformedByMove(i,r,s,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new x(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new x(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=U._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new x(t,i)):new x(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new x(this.start,e),new x(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const s=new x(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,t),s.end=s.end._getTransformedByInsertion(e,t),[s]}}_getTransformedByMove(e,t,i,s=!1){if(this.isCollapsed){const d=this.start._getTransformedByMove(e,t,i);return[new x(d)]}const r=x._createFromPositionAndShift(e,i),o=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!s&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const d=this.start._getTransformedByMove(e,t,i),f=this.end._getTransformedByMove(e,t,i);return[new x(d,f)]}let a;const l=this.getDifference(r);let c=null;const u=this.getIntersection(r);if(l.length==1?c=new x(l[0].start._getTransformedByDeletion(e,i),l[0].end._getTransformedByDeletion(e,i)):l.length==2&&(c=new x(this.start,this.end._getTransformedByDeletion(e,i))),c?a=c._getTransformedByInsertion(o,i,u!==null||s):a=[],u){const d=new x(u.start._getCombined(r.start,o),u.end._getCombined(r.start,o));a.length==2?a.splice(1,0,d):a.push(d)}return a}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),s=this.end._getTransformedByDeletion(e,t);return i==null&&s==null?null:(i==null&&(i=e),s==null&&(s=e),new x(i,s))}static _createFromPositionAndShift(e,t){const i=e,s=e.getShiftedBy(t);return t>0?new this(i,s):new this(s,i)}static _createIn(e){return new this(U._createAt(e,0),U._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(U._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new k("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((r,o)=>r.start.isAfter(o.start)?1:-1);const i=e.indexOf(t),s=new this(t.start,t.end);if(i>0)for(let r=i-1;e[r].end.isEqual(s.start);r++)s.start=U._createAt(e[r].start);for(let r=i+1;r<e.length&&e[r].start.isEqual(s.end);r++)s.end=U._createAt(e[r].end);return s}static fromJSON(e,t){return new this(U.fromJSON(e.start,t),U.fromJSON(e.end,t))}}x.prototype.is=function(n){return n==="range"||n==="model:range"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p_ extends Ge(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new k("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),s=this._viewToModelMapping.get(i),r=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=U._createAt(s,r)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const s=this._elementToMarkerNames.get(e);s&&(s.delete(t),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new x(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ce(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const s of t)if(s.is("attributeElement"))for(const r of s.getElementsWithSameId())i.add(r);else i.add(s);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e){const r=this._toModelOffset(e.parent,e.index,i),o=this._toModelOffset(e,t,e);return r+o}if(e.is("$text"))return t;let s=0;for(let r=0;r<t;r++)s+=this.getModelLength(e.getChild(r));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,s=0,r=0,o=0;if(e.is("$text"))return new Q(e,t);for(;r<t;)i=e.getChild(o),s=this.getModelLength(i),r+=s,o++;return r==t?this._moveViewPositionToTextNode(new Q(e,o)):this.findPositionIn(i,t-(r-s))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof nt?new Q(t,t.data.length):i instanceof nt?new Q(i,0):e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zB{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=El(t),e instanceof $n&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=El(t),e instanceof $n&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=El(t),e instanceof $n&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const s=i.get(t);return s===void 0?null:s}revert(e,t){t=El(t),e instanceof $n&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[i,s]of this._consumable)for(const[r,o]of s){const a=r.split(":")[0];o&&e==a&&t.push({event:r,item:i.name||i.description})}if(t.length)throw new k("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const s=i.get(e.endOffset);s&&(t=s.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,s=e.parent,r=Symbol("$textProxy:"+e.data);let o,a;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),a=o.get(i),a||(a=new Map,o.set(i,a)),a.set(s,r),r}}function El(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class g_ extends Ge(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const s=this._createConversionApi(i,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,s);const r=this._reduceChanges(e.getChanges());for(const o of r)o.type==="insert"?this._convertInsert(x._createFromPositionAndShift(o.position,o.length),s):o.type==="reinsert"?this._convertReinsert(x._createFromPositionAndShift(o.position,o.length),s):o.type==="remove"?this._convertRemove(o.position,o.length,o.name,s):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,s);s.mapper.flushDeferredBindings();for(const o of s.mapper.flushUnboundMarkerNames()){const a=t.get(o).getRange();this._convertMarkerRemove(o,a,s),this._convertMarkerAdd(o,a,s)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,s);s.consumable.verifyAllConsumed("insert")}convert(e,t,i,s={}){const r=this._createConversionApi(i,void 0,s);this._convertInsert(e,r);for(const[o,a]of t)this._convertMarkerAdd(o,a,r);r.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const s=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},s);const r=e.getFirstPosition().root;if(!s.mapper.toViewElement(r))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(s.consumable,e,o),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const a of o)if(s.consumable.test(e,"addMarker:"+a.name)){const l=a.getRange();if(!WB(e.getFirstPosition(),a,s.mapper))continue;const c={item:e,markerName:a.name,markerRange:l};this.fire(`addMarker:${a.name}`,c,s)}for(const a of e.getAttributeKeys())if(s.consumable.test(e,"attribute:"+a)){const l={item:e,range:e.getFirstRange(),attributeKey:a,attributeOldValue:null,attributeNewValue:e.getAttribute(a)};this.fire(`attribute:${a}:$text`,l,s)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const s of Array.from(e.getWalker({shallow:!0})).map(b1))this._testAndFire("insert",s,t)}_convertRemove(e,t,i,s){this.fire(`remove:${i}`,{position:e,length:t},s)}_convertAttribute(e,t,i,s,r){this._addConsumablesForRange(r.consumable,e,`attribute:${t}`);for(const o of e){const a={item:o.item,range:x._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:i,attributeNewValue:s};this._testAndFire(`attribute:${t}`,a,r)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const s of i.map(b1))this._testAndFire("insert",{...s,reconversion:!0},t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(i.consumable.add(t,s),this.fire(s,{markerName:e,markerRange:t},i),!!i.consumable.consume(t,s)){this._addConsumablesForRange(i.consumable,t,s);for(const r of t.getItems()){if(!i.consumable.test(r,s))continue;const o={item:r,range:x._createOn(r),markerName:e,markerRange:t};this.fire(s,o,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const s=i.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const r of s.getAttributeKeys())e.add(s,"attribute:"+r)}}return e}_addConsumablesForRange(e,t,i){for(const s of t.getItems())e.add(s,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const s of i)e.add(t,"addMarker:"+s.name);for(const s of t.getAttributeKeys())e.add(t,"attribute:"+s);return e}_testAndFire(e,t,i){const s=KB(e,t),r=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(i),a=o.get(r);if(!a)o.set(r,new Set([s]));else if(!a.has(s))a.add(s);else return;this.fire(s,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:x._createOn(e)};for(const s of i.item.getAttributeKeys())i.attributeKey=s,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(s),this._testAndFire(`attribute:${s}`,i,t)}_createConversionApi(e,t=new Set,i={}){const s={...this._conversionApi,consumable:new zB,writer:e,options:i,convertItem:r=>this._convertInsert(x._createOn(r),s),convertChildren:r=>this._convertInsert(x._createIn(r),s,{doNotAddConsumables:!0}),convertAttributes:r=>this._testAndFireAddAttributes(r,s),canReuseView:r=>!t.has(s.mapper.toModelElement(r))};return this._firedEventsMap.set(s,new Map),s}}function WB(n,e,t){const i=e.getRange(),s=Array.from(n.getAncestors());return s.shift(),s.reverse(),!s.some(o=>{if(i.containsItem(o))return!!t.toViewElement(o).getCustomProperty("addHighlight")})}function KB(n,e){const t=e.item.is("element")?e.item.name:"$text";return`${n}:${t}`}function b1(n){const e=n.item,t=x._createFromPositionAndShift(n.previousPosition,n.length);return{item:e,range:t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mn extends Ge(gs){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const s of e._ranges)if(t.isEqual(s)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new x(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new x(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new x(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,s]=e;if(typeof i=="object"&&(s=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof mn)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof x)this._setRanges([t],!!s&&!!s.backward);else if(t instanceof U)this._setRanges([new x(t)]);else if(t instanceof lr){const r=!!s&&!!s.backward;let o;if(i=="in")o=x._createIn(t);else if(i=="on")o=x._createOn(t);else if(i!==void 0)o=new x(U._createAt(t,i));else throw new k("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([o],r)}else if(wn(t))this._setRanges(t,s&&!!s.backward);else throw new k("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const i=Array.from(e),s=i.some(r=>{if(!(r instanceof x))throw new k("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(o=>!o.isEqual(r))});i.length===this._ranges.length&&!s||(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new k("model-selection-setfocus-no-ranges",[this,e]);const i=U._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(s)=="before"?(this._pushRange(new x(i,s)),this._lastRangeBackward=!0):(this._pushRange(new x(s,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=v1(t.start,e);GB(i,t)&&(yield i);for(const r of t.getWalker()){const o=r.item;r.type=="elementEnd"&&qB(o,e,t)&&(yield o)}const s=v1(t.end,e);ZB(s,t)&&(yield s)}}containsEntireContent(e=this.anchor.root){const t=U._createAt(e,0),i=U._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new x(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new k("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}mn.prototype.is=function(n){return n==="selection"||n==="model:selection"};function b_(n,e){return e.has(n)?!1:(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function qB(n,e,t){return b_(n,e)&&Gh(n,t)}function v1(n,e){const i=n.parent.root.document.model.schema,s=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=s.find(a=>r?!1:(r=i.isLimit(a),!r&&b_(a,e)));return s.forEach(a=>e.add(a)),o}function Gh(n,e){const t=JB(n);return t?!e.containsRange(x._createOn(t),!0):!0}function GB(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.start.isTouching(U._createAt(n,n.maxOffset))?!1:Gh(n,e):!1}function ZB(n,e){return n?e.isCollapsed||n.isEmpty?!0:e.end.isTouching(U._createAt(n,0))?!1:Gh(n,e):!1}function JB(n){const e=n.root.document.model.schema;let t=n.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fn extends Ge(x){constructor(e,t){super(e,t),YB.call(this)}detach(){this.stopListening()}toRange(){return new x(this.start,this.end)}static fromRange(e){return new Fn(e.start,e.end)}}Fn.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};function YB(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&XB.call(this,t)},{priority:"low"})}function XB(n){const e=this.getTransformedByOperation(n),t=x._createFromRanges(e),i=!t.isEqual(this),s=QB(this,n);let r=null;if(i){t.root.rootName=="$graveyard"&&(n.type=="remove"?r=n.sourcePosition:r=n.deletionPosition);const o=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",o,{deletionPosition:r})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:r})}function QB(n,e){switch(e.type){case"insert":return n.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return n.containsPosition(e.sourcePosition)||n.start.isEqual(e.sourcePosition)||n.containsPosition(e.targetPosition);case"split":return n.containsPosition(e.splitPosition)||n.containsPosition(e.insertionPosition)}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Aa="selection:";class zn extends Ge(gs){constructor(e){super(),this._selection=new eD(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Aa+e}static _isStoreAttributeKey(e){return e.startsWith(Aa)}}zn.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class eD extends mn{constructor(e){super(),this.markers=new ps({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const s=i[0];!s.isDocumentOperation||s.type=="marker"||s.type=="rename"||s.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,s,r)=>{this._updateMarker(i,r)}),this.listenTo(this._document,"change",(t,i)=>{tD(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=oi();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new k("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new k("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Fn.fromRange(e);return t.on("change:range",(i,s,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const o=this._ranges.indexOf(t);this._ranges.splice(o,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const s of this._model.markers){const r=s.name.split(":",1)[0];if(!this._observedMarkers.has(r))continue;const o=s.getRange();for(const a of this.getRanges())o.containsRange(a,!a.isCollapsed)&&e.push(s)}const i=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),t=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let s=!1;const r=Array.from(this.markers),o=this.markers.has(e);if(!t)o&&(this.markers.remove(e),s=!0);else{let a=!1;for(const l of this.getRanges())if(t.containsRange(l,!l.isCollapsed)){a=!0;break}a&&!o?(this.markers.add(e),s=!0):!a&&o&&(this.markers.remove(e),s=!0)}s&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(e){const t=Ri(this._getSurroundingAttributes()),i=Ri(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[r,o]of this._attributePriority)o=="low"&&(this._attrs.delete(r),this._attributePriority.delete(r));this._setAttributesTo(t);const s=[];for(const[r,o]of this.getAttributes())(!i.has(r)||i.get(r)!==o)&&s.push(r);for(const[r]of i)this.hasAttribute(r)||s.push(r);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,t,i=!0){const s=i?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,s),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,i),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[i,s]of this.getAttributes())e.get(i)!==s&&this._removeAttribute(i,!1);for(const[i,s]of e)this._setAttribute(i,s,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Aa)&&(yield[t.substr(Aa.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,r=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=wo(s,t)),i||(i=wo(r,t)),!this.isGravityOverridden&&!i){let o=s;for(;o&&!i;)o=o.previousSibling,i=wo(o,t)}if(!i){let o=r;for(;o&&!i;)o=o.nextSibling,i=wo(o,t)}i||(i=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const r of s){if(r.item.is("element")&&t.isObject(r.item)){i=wo(r.item,t);break}if(r.type=="text"){i=r.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function wo(n,e){if(!n)return null;if(n instanceof $n||n instanceof Ke)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,s]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,s]);return t}function tD(n,e){const t=n.document.differ;for(const i of t.getChanges()){if(i.type!="insert")continue;const s=i.position.parent;i.length===s.maxOffset&&n.enqueueChange(e,o=>{const a=Array.from(s.getAttributeKeys()).filter(l=>l.startsWith(Aa));for(const l of a)o.removeAttribute(l,s)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class v_{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nD extends v_{elementToElement(e){return this.add(wD(e))}elementToStructure(e){return this.add(_D(e))}attributeToElement(e){return this.add(CD(e))}attributeToAttribute(e){return this.add(kD(e))}markerToElement(e){return this.add(ED(e))}markerToHighlight(e){return this.add(SD(e))}markerToData(e){return this.add(TD(e))}}function y_(){return(n,e,t)=>{if(!t.consumable.consume(e.item,n.name))return;const i=t.writer,s=t.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(s,r)}}function w_(){return(n,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function iD(){return(n,e,t)=>{const i=t.mapper.toViewPosition(e.position),s=e.position.getShiftedBy(e.length),r=t.mapper.toViewPosition(s,{isPhantom:!0}),o=t.writer.createRange(i,r),a=t.writer.remove(o.getTrimmed());for(const l of t.writer.createRangeIn(a).getItems())t.mapper.unbindViewElement(l,{defer:!0})}}function __(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function sD(){return(n,e,t)=>{const i=e.selection;if(i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=[];for(const r of i.getRanges())s.push(t.mapper.toViewRange(r));t.writer.setSelection(s,{backward:i.isBackward})}}function rD(){return(n,e,t)=>{const i=e.selection;if(!i.isCollapsed||!t.consumable.consume(i,"selection"))return;const s=t.writer,r=i.getFirstPosition(),o=t.mapper.toViewPosition(r),a=s.breakAttributes(o);s.setSelection(a)}}function oD(){return(n,e,t)=>{const i=t.writer,s=i.document.selection;for(const r of s.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&t.writer.mergeAttributes(r.start);i.setSelection(null)}}function aD(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.writer,a=o.document.selection;if(t.item instanceof mn||t.item instanceof zn)o.wrap(a.getFirstRange(),r);else{let l=i.mapper.toViewRange(t.range);t.attributeOldValue!==null&&s&&(l=o.unwrap(l,s)),t.attributeNewValue!==null&&r&&o.wrap(l,r)}}}function lD(n,e=MD){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=n(i.item,s,i);if(!r)return;e(i.item,s.consumable);const o=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,r),s.writer.insert(o,r),s.convertAttributes(i.item),S_(r,i.item.getChildren(),s,{reconversion:i.reconversion})}}function cD(n,e){return(t,i,s)=>{if(!e(i.item,s.consumable,{preflight:!0}))return;const r=new Map;s.writer._registerSlotFactory(xD(i.item,r,s));const o=n(i.item,s,i);if(s.writer._clearSlotFactory(),!o)return;OD(i.item,r,s),e(i.item,s.consumable);const a=s.mapper.toViewPosition(i.range.start);s.mapper.bindElements(i.item,o),s.writer.insert(a,o),s.convertAttributes(i.item),ID(o,r,s,{reconversion:i.reconversion})}}function uD(n){return(e,t,i)=>{t.isOpening=!0;const s=n(t,i);t.isOpening=!1;const r=n(t,i);if(!s||!r)return;const o=t.markerRange;if(o.isCollapsed&&!i.consumable.consume(o,e.name))return;for(const c of o)if(!i.consumable.consume(c.item,e.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(o.start),s),i.mapper.bindElementToMarker(s,t.markerName),o.isCollapsed||(l.insert(a.toViewPosition(o.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}function dD(){return(n,e,t)=>{const i=t.mapper.markerNameToElements(e.markerName);if(i){for(const s of i)t.mapper.unbindElementFromMarkerName(s,e.markerName),t.writer.clear(t.writer.createRangeOn(s),s);t.writer.clearClonedElementsGroup(e.markerName),n.stop()}}}function fD(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=t.markerRange;i.consumable.consume(r,e.name)&&(y1(r,!1,i,t,s),y1(r,!0,i,t,s),e.stop())}}function y1(n,e,t,i,s){const r=e?n.start:n.end,o=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(o||a){let c,u;e&&o||!e&&!a?(c=o,u=!0):(c=a,u=!1);const d=t.mapper.toViewElement(c);if(d){hD(d,e,u,t,i,s);return}}const l=t.mapper.toViewPosition(r);mD(l,e,t,i,s)}function hD(n,e,t,i,s,r){const o=`data-${r.group}-${e?"start":"end"}-${t?"before":"after"}`,a=n.hasAttribute(o)?n.getAttribute(o).split(","):[];a.unshift(r.name),i.writer.setAttribute(o,a.join(","),n),i.mapper.bindElementToMarker(n,s.markerName)}function mD(n,e,t,i,s){const r=`${s.group}-${e?"start":"end"}`,o=s.name?{name:s.name}:null,a=t.writer.createUIElement(r,o);t.writer.insert(n,a),t.mapper.bindElementToMarker(a,i.markerName)}function pD(n){return(e,t,i)=>{const s=n(t.markerName,i);if(!s)return;const r=i.mapper.markerNameToElements(t.markerName);if(!r)return;for(const a of r)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("containerElement")?(o(`data-${s.group}-start-before`,a),o(`data-${s.group}-start-after`,a),o(`data-${s.group}-end-before`,a),o(`data-${s.group}-end-after`,a)):i.writer.clear(i.writer.createRangeOn(a),a);i.writer.clearClonedElementsGroup(t.markerName),e.stop();function o(a,l){if(l.hasAttribute(a)){const c=new Set(l.getAttribute(a).split(","));c.delete(s.name),c.size==0?i.writer.removeAttribute(a,l):i.writer.setAttribute(a,Array.from(c).join(","),l)}}}}function gD(n){return(e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;const s=n(t.attributeOldValue,i,t),r=n(t.attributeNewValue,i,t);if(!s&&!r)return;i.consumable.consume(t.item,e.name);const o=i.mapper.toViewElement(t.item),a=i.writer;if(!o)throw new k("conversion-attribute-to-attribute-on-text",i.dispatcher,t);if(t.attributeOldValue!==null&&s)if(s.key=="class"){const l=typeof s.value=="string"?s.value.split(/\s+/):s.value;for(const c of l)a.removeClass(c,o)}else if(s.key=="style")if(typeof s.value=="string"){const l=new df(a.document.stylesProcessor);l.setTo(s.value);for(const[c]of l.getStylesEntries())a.removeStyle(c,o)}else{const l=Object.keys(s.value);for(const c of l)a.removeStyle(c,o)}else a.removeAttribute(s.key,o);if(t.attributeNewValue!==null&&r)if(r.key=="class"){const l=typeof r.value=="string"?r.value.split(/\s+/):r.value;for(const c of l)a.addClass(c,o)}else if(r.key=="style")if(typeof r.value=="string"){const l=new df(a.document.stylesProcessor);l.setTo(r.value);for(const[c,u]of l.getStylesEntries())a.setStyle(c,u,o)}else{const l=Object.keys(r.value);for(const c of l)a.setStyle(c,r.value[c],o)}else a.setAttribute(r.key,r.value,o)}}function bD(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof mn||t.item instanceof zn)&&!t.item.is("$textProxy"))return;const s=Zh(n,t,i);if(!s||!i.consumable.consume(t.item,e.name))return;const r=i.writer,o=__(r,s),a=r.document.selection;if(t.item instanceof mn||t.item instanceof zn)r.wrap(a.getFirstRange(),o);else{const l=i.mapper.toViewRange(t.range),c=r.wrap(l,o);for(const u of c.getItems())if(u.is("attributeElement")&&u.isSimilar(o)){i.mapper.bindElementToMarker(u,t.markerName);break}}}}function vD(n){return(e,t,i)=>{if(!t.item||!(t.item instanceof ot))return;const s=Zh(n,t,i);if(!s||!i.consumable.test(t.item,e.name))return;const r=i.mapper.toViewElement(t.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(t.item,e.name);for(const a of x._createIn(t.item))i.consumable.consume(a.item,e.name);r.getCustomProperty("addHighlight")(r,s,i.writer),i.mapper.bindElementToMarker(r,t.markerName)}}}function yD(n){return(e,t,i)=>{if(t.markerRange.isCollapsed)return;const s=Zh(n,t,i);if(!s)return;const r=__(i.writer,s),o=i.mapper.markerNameToElements(t.markerName);if(o){for(const a of o)i.mapper.unbindElementFromMarkerName(a,t.markerName),a.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(a),r):a.getCustomProperty("removeHighlight")(a,s.id,i.writer);i.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function wD(n){const e=C_(n.model),t=xa(n.view,"container");return e.attributes.length&&(e.children=!0),i=>{i.on(`insert:${e.name}`,lD(t,T_(e)),{priority:n.converterPriority||"normal"}),(e.children||e.attributes.length)&&i.on("reduceChanges",E_(e),{priority:"low"})}}function _D(n){const e=C_(n.model),t=xa(n.view,"container");return e.children=!0,i=>{if(i._conversionApi.schema.checkChild(e.name,"$text"))throw new k("conversion-element-to-structure-disallowed-text",i,{elementName:e.name});i.on(`insert:${e.name}`,cD(t,T_(e)),{priority:n.converterPriority||"normal"}),i.on("reduceChanges",E_(e),{priority:"low"})}}function CD(n){n=Kn(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=xa(n.view[s],"attribute");else n.view=xa(n.view,"attribute");const i=k_(n);return s=>{s.on(t,aD(i),{priority:n.converterPriority||"normal"})}}function kD(n){n=Kn(n);let e=n.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const s of e.values)n.view[s]=w1(n.view[s]);else n.view=w1(n.view);const i=k_(n);return s=>{s.on(t,gD(i),{priority:n.converterPriority||"normal"})}}function ED(n){const e=xa(n.view,"ui");return t=>{t.on(`addMarker:${n.model}`,uD(e),{priority:n.converterPriority||"normal"}),t.on(`removeMarker:${n.model}`,dD(),{priority:n.converterPriority||"normal"})}}function TD(n){n=Kn(n);const e=n.model;let t=n.view;return t||(t=i=>({group:e,name:i.substr(n.model.length+1)})),i=>{i.on(`addMarker:${e}`,fD(t),{priority:n.converterPriority||"normal"}),i.on(`removeMarker:${e}`,pD(t),{priority:n.converterPriority||"normal"})}}function SD(n){return e=>{e.on(`addMarker:${n.model}`,bD(n.view),{priority:n.converterPriority||"normal"}),e.on(`addMarker:${n.model}`,vD(n.view),{priority:n.converterPriority||"normal"}),e.on(`removeMarker:${n.model}`,yD(n.view),{priority:n.converterPriority||"normal"})}}function C_(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?jt(n.attributes):[],children:!!n.children}}function xa(n,e){return typeof n=="function"?n:(t,i)=>PD(n,i,e)}function PD(n,e,t){typeof n=="string"&&(n={name:n});let i;const s=e.writer,r=Object.assign({},n.attributes);if(t=="container")i=s.createContainerElement(n.name,r);else if(t=="attribute"){const o={priority:n.priority||Fs.DEFAULT_PRIORITY};i=s.createAttributeElement(n.name,r,o)}else i=s.createUIElement(n.name,r);if(n.styles){const o=Object.keys(n.styles);for(const a of o)s.setStyle(a,n.styles[a],i)}if(n.classes){const o=n.classes;if(typeof o=="string")s.addClass(o,i);else for(const a of o)s.addClass(a,i)}return i}function k_(n){return n.model.values?(e,t,i)=>{const s=n.view[e];return s?s(e,t,i):null}:n.view}function w1(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function Zh(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function AD(n){return(e,t)=>{if(!e.is("element",n.name))return!1;if(t.type=="attribute"){if(n.attributes.includes(t.attributeKey))return!0}else{/* istanbul ignore else: This is always true because otherwise it would not register a reducer callback. -- @preserve */if(n.children)return!0}return!1}}function E_(n){const e=AD(n);return(t,i)=>{const s=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const r of i.changes){const o=r.type=="attribute"?r.range.start.nodeAfter:r.position.parent;if(!o||!e(o,r)){s.push(r);continue}if(!i.reconvertedElements.has(o)){i.reconvertedElements.add(o);const a=U._createBefore(o);let l=s.length;for(let c=s.length-1;c>=0;c--){const u=s[c],f=(u.type=="attribute"?u.range.start:u.position).compareWith(a);if(f=="before"||u.type=="remove"&&f=="same")break;l=c}s.splice(l,0,{type:"remove",name:o.name,position:a,length:1},{type:"reinsert",name:o.name,position:a,length:1})}}i.changes=s}}function T_(n){return(e,t,i={})=>{const s=["insert"];for(const r of n.attributes)e.hasAttribute(r)&&s.push(`attribute:${r}`);return s.every(r=>t.test(e,r))?(i.preflight||s.forEach(r=>t.consume(e,r)),!0):!1}}function xD(n,e,t){return(i,s)=>{const r=i.createContainerElement("$slot");let o=null;if(s==="children")o=Array.from(n.getChildren());else if(typeof s=="function")o=Array.from(n.getChildren()).filter(a=>s(a));else throw new k("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:s});return e.set(r,o),r}}function OD(n,e,t){const i=Array.from(e.values()).flat(),s=new Set(i);if(s.size!=i.length)throw new k("conversion-slot-filter-overlap",t.dispatcher,{element:n});if(s.size!=n.childCount)throw new k("conversion-slot-filter-incomplete",t.dispatcher,{element:n})}function ID(n,e,t,i){t.mapper.on("modelToViewPosition",o,{priority:"highest"});let s=null,r=null;for([s,r]of e)S_(n,r,t,i),t.writer.move(t.writer.createRangeIn(s),t.writer.createPositionBefore(s)),t.writer.remove(s);t.mapper.off("modelToViewPosition",o);function o(a,l){const c=l.modelPosition.nodeAfter,u=r.indexOf(c);u<0||(l.viewPosition=l.mapper.findPositionIn(s,u))}}function S_(n,e,t,i){for(const s of e)RD(n.root,s,t,i)||t.convertItem(s)}function RD(n,e,t,i){const{writer:s,mapper:r}=t;if(!i.reconversion)return!1;const o=r.toViewElement(e);return!o||o.root==n||!t.canReuseView(o)?!1:(s.move(s.createRangeOn(o),r.toViewPosition(U._createBefore(e))),!0)}function MD(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function P_(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function A_(n,e,t){const i=t.createContext(n);return!(!t.checkChild(i,"paragraph")||!t.checkChild(i.push("paragraph"),e))}function x_(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LD extends v_{elementToElement(e){return this.add(O_(e))}elementToAttribute(e){return this.add(VD(e))}attributeToAttribute(e){return this.add($D(e))}elementToMarker(e){return this.add(FD(e))}dataToMarker(e){return this.add(ND(e))}}function _1(){return(n,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:i,modelCursor:s}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=i,e.modelCursor=s}}}function BD(){return(n,e,{schema:t,consumable:i,writer:s})=>{let r=e.modelCursor;if(!i.test(e.viewItem))return;if(!t.checkChild(r,"$text")){if(!A_(r,"$text",t)||e.viewItem.data.trim().length==0)return;const a=r.nodeBefore;r=x_(r,s),a&&a.is("element","$marker")&&(s.move(s.createRangeOn(a),r),r=s.createPositionAfter(a))}i.consume(e.viewItem);const o=s.createText(e.viewItem.data);s.insert(o,r),e.modelRange=s.createRange(r,r.getShiftedBy(o.offsetSize)),e.modelCursor=e.modelRange.end}}function DD(n,e){return(t,i)=>{const s=i.newSelection,r=[];for(const a of s.getRanges())r.push(e.toModelRange(a));const o=n.createSelection(r,{backward:s.isBackward});o.isEqual(n.document.selection)||n.change(a=>{a.setSelection(o)})}}function O_(n){n=Kn(n);const e=bf(n),t=Jh(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"normal"})}}function VD(n){n=Kn(n),I_(n);const e=R_(n,!1),t=Jh(n.view),i=t?`element:${t}`:"element";return s=>{s.on(i,e,{priority:n.converterPriority||"low"})}}function $D(n){n=Kn(n);let e=null;(typeof n.view=="string"||n.view.key)&&(e=UD(n)),I_(n,e);const t=R_(n,!0);return i=>{i.on("element",t,{priority:n.converterPriority||"low"})}}function FD(n){const e=KD(n.model);return O_({...n,model:e})}function ND(n){n=Kn(n),n.model||(n.model=s=>s?n.view+":"+s:n.view);const e={view:n.view,model:n.model},t=bf(C1(e,"start")),i=bf(C1(e,"end"));return s=>{s.on(`element:${n.view}-start`,t,{priority:n.converterPriority||"normal"}),s.on(`element:${n.view}-end`,i,{priority:n.converterPriority||"normal"});const r=$s.low,o=$s.highest,a=$s.get(n.converterPriority)/o;s.on("element",HD(e),{priority:r+a})}}function HD(n){return(e,t,i)=>{const s=`data-${n.view}`;if(!i.consumable.test(t.viewItem,{attributes:s+"-end-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-after"})&&!i.consumable.test(t.viewItem,{attributes:s+"-end-before"})&&!i.consumable.test(t.viewItem,{attributes:s+"-start-before"}))return;t.modelRange||Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor)),i.consumable.consume(t.viewItem,{attributes:s+"-end-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-end-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-after"})&&r(t.modelRange.end,t.viewItem.getAttribute(s+"-start-after").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-end-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-end-before").split(",")),i.consumable.consume(t.viewItem,{attributes:s+"-start-before"})&&r(t.modelRange.start,t.viewItem.getAttribute(s+"-start-before").split(","));function r(o,a){for(const l of a){const c=n.model(l,i),u=i.writer.createElement("$marker",{"data-name":c});i.writer.insert(u,o),t.modelCursor.isEqual(o)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(o,1),t.modelRange=t.modelRange._getTransformedByInsertion(o,1)[0]}}}}function Jh(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function bf(n){const e=new Ta(n.view);return(t,i,s)=>{const r=e.match(i.viewItem);if(!r)return;const o=r.match;if(o.name=!0,!s.consumable.test(i.viewItem,o))return;const a=jD(n.model,i.viewItem,s);a&&s.safeInsert(a,i.modelCursor)&&(s.consumable.consume(i.viewItem,o),s.convertChildren(i.viewItem,a),s.updateConversionResult(a,i))}}function jD(n,e,t){return n instanceof Function?n(e,t):t.writer.createElement(n)}function UD(n){typeof n.view=="string"&&(n.view={key:n.view});const e=n.view.key,t=typeof n.view.value>"u"?/[\s\S]*/:n.view.value;let i;return e=="class"||e=="style"?i={[e=="class"?"classes":"styles"]:t}:i={attributes:{[e]:t}},n.view.name&&(i.name=n.view.name),n.view=i,e}function I_(n,e=null){const t=e===null?!0:r=>r.getAttribute(e),i=typeof n.model!="object"?n.model:n.model.key,s=typeof n.model!="object"||typeof n.model.value>"u"?t:n.model.value;n.model={key:i,value:s}}function R_(n,e){const t=new Ta(n.view);return(i,s,r)=>{if(!s.modelRange&&e)return;const o=t.match(s.viewItem);if(!o||(zD(n.view,s.viewItem)?o.match.name=!0:delete o.match.name,!r.consumable.test(s.viewItem,o.match)))return;const a=n.model.key,l=typeof n.model.value=="function"?n.model.value(s.viewItem,r):n.model.value;if(l===null)return;s.modelRange||Object.assign(s,r.convertChildren(s.viewItem,s.modelCursor)),WD(s.modelRange,{key:a,value:l},e,r)&&(r.consumable.test(s.viewItem,{name:!0})&&(o.match.name=!0),r.consumable.consume(s.viewItem,o.match))}}function zD(n,e){const t=typeof n=="function"?n(e):n;return typeof t=="object"&&!Jh(t)?!1:!t.classes&&!t.attributes&&!t.styles}function WD(n,e,t,i){let s=!1;for(const r of Array.from(n.getItems({shallow:t})))i.schema.checkAttribute(r,e.key)&&(s=!0,!r.hasAttribute(e.key)&&i.writer.setAttribute(e.key,e.value,r));return s}function KD(n){return(e,t)=>{const i=typeof n=="string"?n:n(e,t);return t.writer.createElement("$marker",{"data-name":i})}}function C1(n,e){const t=(i,s)=>{const r=i.getAttribute("name"),o=n.model(r,s);return s.writer.createElement("$marker",{"data-name":o})};return{view:`${n.view}-${e}`,model:t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function qD(n){n.document.registerPostFixer(e=>GD(e,n))}function GD(n,e){const t=e.document.selection,i=e.schema,s=[];let r=!1;for(const o of t.getRanges()){const a=M_(o,i);a&&!a.isEqual(o)?(s.push(a),r=!0):s.push(o)}return r&&n.setSelection(XD(s),{backward:t.isBackward}),!1}function M_(n,e){return n.isCollapsed?ZD(n,e):JD(n,e)}function ZD(n,e){const t=n.start,i=e.getNearestSelectionRange(t);if(!i){const r=t.getAncestors().reverse().find(o=>e.isObject(o));return r?x._createOn(r):null}if(!i.isCollapsed)return i;const s=i.start;return t.isEqual(s)?null:new x(s)}function JD(n,e){const{start:t,end:i}=n,s=e.checkChild(t,"$text"),r=e.checkChild(i,"$text"),o=e.getLimitElement(t),a=e.getLimitElement(i);if(o===a){if(s&&r)return null;if(YD(t,i,e)){const d=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),h=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),m=d?d.start:t,p=h?h.end:i;return new x(m,p)}}const l=o&&!o.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const u=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,d=l&&(!u||!E1(t.nodeAfter,e)),f=c&&(!u||!E1(i.nodeBefore,e));let h=t,m=i;return d&&(h=U._createBefore(k1(o,e))),f&&(m=U._createAfter(k1(a,e))),new x(h,m)}return null}function k1(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function YD(n,e,t){const i=n.nodeAfter&&!t.isLimit(n.nodeAfter)||t.checkChild(n,"$text"),s=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return i||s}function XD(n){const e=[...n],t=new Set;let i=1;for(;i<e.length;){const r=e[i],o=e.slice(0,i);for(const[a,l]of o.entries())if(!t.has(a)){if(r.isEqual(l))t.add(a);else if(r.isIntersecting(l)){t.add(a),t.add(i);const c=r.getJoined(l);e.push(c)}}i++}return e.filter((r,o)=>!t.has(o))}function E1(n,e){return n&&e.isSelectable(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QD extends pt(){constructor(e,t){super(),this.model=e,this.view=new HB(t),this.mapper=new p_,this.downcastDispatcher=new g_({mapper:this.mapper,schema:e.schema});const i=this.model.document,s=i.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(o=>{this.downcastDispatcher.convertChanges(i.differ,r,o),this.downcastDispatcher.convertSelection(s,r,o)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",DD(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",eV(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",y_(),{priority:"lowest"}),this.downcastDispatcher.on("insert",w_(),{priority:"lowest"}),this.downcastDispatcher.on("remove",iD(),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",oD()),this.downcastDispatcher.on("selection",sD(),{priority:"low"}),this.downcastDispatcher.on("selection",rD(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(o=>{if(o.rootName=="$graveyard")return null;const a=new Qw(this.view.document,o.name);return a.rootName=o.rootName,this.mapper.bindElements(o,a),a})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new k("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function eV(n,e,t){return(i,s)=>{if(!(t.document.isComposing&&!ke.isAndroid))for(let r=0;r<s.targetRanges.length;r++){const o=s.targetRanges[r],a=n.toModelRange(o),l=M_(a,e);!l||l.isEqual(a)||(s.targetRanges[r]=n.toViewRange(l))}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qo{constructor(){this._consumables=new Map}add(e,t){let i;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?i=this._consumables.get(e):(i=new tV(e),this._consumables.set(e,i)),i.add(t)}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const o of i)o=="style"||o=="class"||t.attributes.push(o);const s=e.getClassNames();for(const o of s)t.classes.push(o);const r=e.getStyleNames();for(const o of r)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new qo),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,qo.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=qo.createFrom(i,t);return t}}const Tl=["attributes","classes","styles"];class tV{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of Tl)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of Tl)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of Tl)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of Tl)t in e&&this._revert(t,e[t])}_add(e,t){const i=jt(t),s=this._consumables[e];for(const r of i){if(e==="attributes"&&(r==="class"||r==="style"))throw new k("viewconsumable-invalid-attribute",this);if(s.set(r,!0),e==="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!0)}}_test(e,t){const i=jt(t),s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles",a=this._test(o,[...this._consumables[o].keys()]);if(a!==!0)return a}else{const o=s.get(r);if(o===void 0)return null;if(!o)return!1}return!0}_consume(e,t){const i=jt(t),s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._consume(o,[...this._consumables[o].keys()])}else if(s.set(r,!1),e=="styles")for(const o of this.element.document.stylesProcessor.getRelatedStyles(r))s.set(o,!1)}_revert(e,t){const i=jt(t),s=this._consumables[e];for(const r of i)if(e==="attributes"&&(r==="class"||r==="style")){const o=r=="class"?"classes":"styles";this._revert(o,[...this._consumables[o].keys()])}else s.get(r)===!1&&s.set(r,!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nV extends pt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Hs(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Hs(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new k("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new k("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const i=this.getDefinition(e.last);return i?i.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof U){const i=e.nodeBefore,s=e.nodeAfter;if(!(i instanceof ot))throw new k("schema-check-merge-no-element-before",this);if(!(s instanceof ot))throw new k("schema-check-merge-no-element-after",this);return this.checkMerge(i,s)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,s])=>{if(!s)return;const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,s])=>{const r=e(i,s);typeof r=="boolean"&&(t.stop(),t.return=r)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof U?t=e.parent:t=(e instanceof x?[e]:Array.from(e.getRanges())).reduce((s,r)=>{const o=r.getCommonAncestor();return s?s.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Ke("",e.getAttributes())];return this.checkAttribute(s,t)}else{const i=e.getRanges();for(const s of i)for(const r of s)if(this.checkAttribute(r.item,t))return!0}return!1}*getValidRanges(e,t){e=vV(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new x(e);let i,s;const r=e.getAncestors().reverse().find(o=>this.isLimit(o))||e.root;(t=="both"||t=="backward")&&(i=new _i({boundaries:x._createIn(r),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(s=new _i({boundaries:x._createIn(r),startPosition:e}));for(const o of bV(i,s)){const a=o.walker==i?"elementEnd":"elementStart",l=o.value;if(l.type==a&&this.isObject(l.item))return x._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new x(l.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const s=i.model;for(const[r,o]of Object.entries(t))s.schema.checkAttribute(e,r)&&i.setAttribute(r,o,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))T1(this,i,t);else{const r=x._createIn(i).getPositions();for(const o of r){const a=o.nodeBefore||o.parent;T1(this,a,t)}}}getAttributesWithProperty(e,t,i){const s={};for(const[r,o]of e.getAttributes()){const a=this.getAttributeProperties(r);a[t]!==void 0&&(i===void 0||i===a[t])&&(s[r]=o)}return s}createContext(e){return new Hs(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const s of i)e[s]=iV(t[s],s);for(const s of i)sV(e,s);for(const s of i)rV(e,s);for(const s of i)oV(e,s);for(const s of i)aV(e,s),lV(e,s);for(const s of i)cV(e,s),uV(e,s),dV(e,s);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const s=t.getItem(i);if(e.allowIn.includes(s.name)){if(i==0)return!0;{const r=this.getDefinition(s);return this._checkContextMatch(r,t,i-1)}}else return!1}*_getValidRangesForRange(e,t){let i=e.start,s=e.start;for(const r of e.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(x._createIn(r),t)),this.checkAttribute(r,t)||(i.isEqual(s)||(yield new x(i,s)),i=U._createAfter(r)),s=U._createAfter(r);i.isEqual(s)||(yield new x(i,s))}findOptimalInsertionRange(e,t){const i=e.getSelectedElement();if(i&&this.isObject(i)&&!this.isInline(i))return t=="before"||t=="after"?new x(U._createAt(i,t)):x._createOn(i);const s=Ii(e.getSelectedBlocks());if(!s)return new x(e.focus);if(s.isEmpty)return new x(U._createAt(s,0));const r=U._createAfter(s);return e.focus.isTouching(r)?new x(r):new x(U._createBefore(s))}}class Hs{constructor(e){if(e instanceof Hs)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(gV)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Hs([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function iV(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return fV(n,t),ks(n,t,"allowIn"),ks(n,t,"allowContentOf"),ks(n,t,"allowWhere"),ks(n,t,"allowAttributes"),ks(n,t,"allowAttributesOf"),ks(n,t,"allowChildren"),ks(n,t,"inheritTypesFrom"),hV(n,t),t}function sV(n,e){const t=n[e];for(const i of t.allowChildren){const s=n[i];s&&s.allowIn.push(e)}t.allowChildren.length=0}function rV(n,e){for(const t of n[e].allowContentOf)n[t]&&mV(n,t).forEach(s=>{s.allowIn.push(e)});delete n[e].allowContentOf}function oV(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const s=i.allowIn;n[e].allowIn.push(...s)}}delete n[e].allowWhere}function aV(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const s=i.allowAttributes;n[e].allowAttributes.push(...s)}}delete n[e].allowAttributesOf}function lV(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const s=n[i];if(s){const r=Object.keys(s).filter(o=>o.startsWith("is"));for(const o of r)o in t||(t[o]=s[o])}}delete t.inheritTypesFrom}function cV(n,e){const t=n[e],i=t.allowIn.filter(s=>n[s]);t.allowIn=Array.from(new Set(i))}function uV(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function dV(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function fV(n,e){for(const t of n){const i=Object.keys(t).filter(s=>s.startsWith("is"));for(const s of i)e[s]=!!t[s]}}function ks(n,e,t){for(const i of n){const s=i[t];typeof s=="string"?e[t].push(s):Array.isArray(s)&&e[t].push(...s)}}function hV(n,e){for(const t of n){const i=t.inheritAllFrom;i&&(e.allowContentOf.push(i),e.allowWhere.push(i),e.allowAttributesOf.push(i),e.inheritTypesFrom.push(i))}}function mV(n,e){const t=n[e];return pV(n).filter(i=>i.allowIn.includes(t.name))}function pV(n){return Object.keys(n).map(e=>n[e])}function gV(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*bV(n,e){let t=!1;for(;!t;){if(t=!0,n){const i=n.next();i.done||(t=!1,yield{walker:n,value:i.value})}if(e){const i=e.next();i.done||(t=!1,yield{walker:e,value:i.value})}}}function*vV(n){for(const e of n)yield*e.getMinimalFlatRanges()}function T1(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yV extends Ge(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,i)=>this._convertItem(t,i),convertChildren:(t,i)=>this._convertChildren(t,i),safeInsert:(t,i)=>this._safeInsert(t,i),updateConversionResult:(t,i)=>this._updateConversionResult(t,i),splitToAllowedParent:(t,i)=>this._splitToAllowedParent(t,i),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=_V(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=qo.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),r=t.createDocumentFragment();if(s){this._removeEmptyElements();for(const o of Array.from(this._modelCursor.parent.getChildren()))t.append(o,r);r.markers=wV(r,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof x))throw new k("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:U._createAt(t,0);const s=new x(i);for(const r of Array.from(e.getChildren())){const o=this._convertItem(r,i);o.modelRange instanceof x&&(s.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:s,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return i?(this.conversionApi.writer.insert(e,i.position),!0):!1}_updateConversionResult(e,t){const i=this._getSplitParts(e),s=this.conversionApi.writer;t.modelRange||(t.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(i[i.length-1])));const r=this._cursorParents.get(e);r?t.modelCursor=s.createPositionAt(r,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:s}=this.conversionApi;let r=i.findAllowedParent(t,e);if(r){if(r===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return A_(t,e,i)?{position:x_(t,s)}:null;const o=this.conversionApi.writer.split(t,r),a=[];for(const c of o.range.getWalker())if(c.type=="elementEnd")a.push(c.item);else{const u=a.pop(),d=c.item;this._registerSplitPair(u,d)}const l=o.range.end.parent;return this._cursorParents.set(e,l),{position:o.position,cursorParent:l}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function wV(n,e){const t=new Set,i=new Map,s=x._createIn(n).getItems();for(const r of s)r.is("element","$marker")&&t.add(r);for(const r of t){const o=r.getAttribute("data-name"),a=e.createPositionBefore(r);i.has(o)?i.get(o).end=a.clone():i.set(o,new x(a.clone())),e.remove(r)}return i}function _V(n,e){let t;for(const i of new Hs(n)){const s={};for(const o of i.getAttributeKeys())s[o]=i.getAttribute(o);const r=e.createElement(i.name,s);t&&e.insert(r,t),t=U._createAt(r,0)}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CV{getHtml(e){const i=ce.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kV{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new c_(e,{renderingMode:"data"}),this.htmlWriter=new CV}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),s=t.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EV extends Ge(){constructor(e,t){super(),this.model=e,this.mapper=new p_,this.downcastDispatcher=new g_({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",y_(),{priority:"lowest"}),this.downcastDispatcher.on("insert",w_(),{priority:"lowest"}),this.upcastDispatcher=new yV({schema:e.schema}),this.viewDocument=new n_(t),this.stylesProcessor=t,this.htmlProcessor=new kV(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new s_(this.viewDocument),this.upcastDispatcher.on("text",BD(),{priority:"lowest"}),this.upcastDispatcher.on("element",_1(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",_1(),{priority:"lowest"}),pt().prototype.decorate.call(this,"init"),pt().prototype.decorate.call(this,"set"),pt().prototype.decorate.call(this,"get"),pt().prototype.decorate.call(this,"toView"),pt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},P_)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new k("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(t);return s.isAttached()||gt("datacontroller-get-detached-root",this),i==="empty"&&!this.model.hasContent(s,{ignoreWhitespaces:!0})?"":this.stringify(s,e)}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const r=x._createIn(e),o=new Ns(i);this.mapper.bindElements(e,o);const a=e.is("documentFragment")?e.markers:TV(e);return this.downcastDispatcher.convert(r,a,s,t),o}init(e){if(this.model.document.version)throw new k("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new k("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const s of Object.keys(t)){const r=this.model.document.getRoot(s);i.insert(this.parse(t[s],r),r,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new k("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const r of Object.keys(i)){const o=this.model.document.getRoot(r);s.remove(s.createRangeIn(o)),s.insert(this.parse(i[r],o),o,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function TV(n){const e=[],t=n.root.document;if(!t)return new Map;const i=x._createIn(n);for(const s of t.model.markers){const r=s.getRange(),o=r.isCollapsed,a=r.start.isEqual(i.start)||r.end.isEqual(i.end);if(o&&a)e.push([s.name,r]);else{const l=i.getIntersection(r);l&&e.push([s.name,l])}}return e.sort(([s,r],[o,a])=>{if(r.end.compareWith(a.start)!=="after")return 1;if(r.start.compareWith(a.end)!=="before")return-1;switch(r.start.compareWith(a.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(a.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(s)}}}),new Map(e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class SV{constructor(e,t){this._helpers=new Map,this._downcast=jt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=jt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new k("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new k("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of Zu(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of Zu(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of Zu(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new k("conversion-group-exists",this);const s=i?new nD(t):new LD(t);this._helpers.set(e,s)}}function*Zu(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],s=n.upcastAlso?n.upcastAlso[e]:void 0;yield*S1(t,i,s)}else yield*S1(n.model,n.view,n.upcastAlso)}function*S1(n,e,t){if(yield{model:n,view:e},t)for(const i of jt(t))yield{model:n,view:i}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _n{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Yh(n,e){const t=B_(e),i=t.reduce((o,a)=>o+a.offsetSize,0),s=n.parent;Ra(n);const r=n.index;return s._insertChild(r,t),Ia(s,r+t.length),Ia(s,r),new x(n,n.getShiftedBy(i))}function L_(n){if(!n.isFlat)throw new k("operation-utils-remove-range-not-flat",this);const e=n.start.parent;Ra(n.start),Ra(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return Ia(e,n.start.index),t}function Oa(n,e){if(!n.isFlat)throw new k("operation-utils-move-range-not-flat",this);const t=L_(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),Yh(e,t)}function PV(n,e,t){Ra(n.start),Ra(n.end);for(const i of n.getItems({shallow:!0})){const s=i.is("$textProxy")?i.textNode:i;t!==null?s._setAttribute(e,t):s._removeAttribute(e),Ia(s.parent,s.index)}Ia(n.end.parent,n.end.index)}function B_(n){const e=[];function t(i){if(typeof i=="string")e.push(new Ke(i));else if(i instanceof $n)e.push(new Ke(i.data,i.getAttributes()));else if(i instanceof lr)e.push(i);else if(wn(i))for(const s of i)t(s)}t(n);for(let i=1;i<e.length;i++){const s=e[i],r=e[i-1];s instanceof Ke&&r instanceof Ke&&D_(s,r)&&(e.splice(i-1,2,new Ke(r.data+s.data,r.getAttributes())),i--)}return e}function Ia(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&D_(t,i)){const s=new Ke(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,s)}}function Ra(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,s=e.index;t._removeChildren(s,1);const r=new Ke(e.data.substr(0,i),e.getAttributes()),o=new Ke(e.data.substr(i),e.getAttributes());t._insertChild(s,[r,o])}}function D_(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const s of t){if(s[1]!==e.getAttribute(s[0]))return!1;i.next()}return i.next().done}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fe extends _n{constructor(e,t,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[x._createFromPositionAndShift(this.sourcePosition,this.howMany),x._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Fe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Fe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,s=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new k("move-operation-nodes-do-not-exist",this);if(e===t&&i<s&&s<i+this.howMany)throw new k("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Wt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const r=this.sourcePosition.path.length-1;if(this.targetPosition.path[r]>=i&&this.targetPosition.path[r]<i+this.howMany)throw new k("move-operation-node-into-itself",this)}}_execute(){Oa(x._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=U.fromJSON(e.sourcePosition,t),s=U.fromJSON(e.targetPosition,t);return new this(i,e.howMany,s,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class It extends _n{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Wo(B_(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Wo([...this.nodes].map(i=>i._clone(!0))),t=new It(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new U(e,[0]);return new Fe(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new k("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Wo([...e].map(t=>t._clone(!0))),Yh(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const r of e.nodes)r.name?i.push(ot.fromJSON(r)):i.push(Ke.fromJSON(r));const s=new It(U.fromJSON(e.position,t),i,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class qe extends _n{constructor(e,t,i,s,r){super(r),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new U(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new x(this.splitPosition,e)}get affectedSelectable(){const e=[x._createFromPositionAndShift(this.splitPosition,0),x._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(x._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new qe(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new U(e,[0]);return new bt(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new k("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new k("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new k("split-operation-graveyard-position-invalid",this)}else throw new k("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Oa(x._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();Yh(this.insertionPosition,i)}const t=new x(U._createAt(e,this.splitPosition.offset),U._createAt(e,e.maxOffset));Oa(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new U(e.root,t,"toPrevious")}static fromJSON(e,t){const i=U.fromJSON(e.splitPosition,t),s=U.fromJSON(e.insertionPosition,t),r=e.graveyardPosition?U.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bt extends _n{constructor(e,t,i,s,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new U(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new x(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[x._createOn(e),x._createFromPositionAndShift(this.targetPosition,0),x._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new bt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new U(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new qe(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new k("merge-operation-how-many-invalid",this)}else throw new k("merge-operation-target-position-invalid",this);else throw new k("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=x._createIn(e);Oa(t,this.targetPosition),Oa(x._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=U.fromJSON(e.sourcePosition,t),s=U.fromJSON(e.targetPosition,t),r=U.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,s,r,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qt extends _n{constructor(e,t,i,s,r,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=r,this._markers=s}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Qt(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Qt(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Qt(e.name,e.oldRange?x.fromJSON(e.oldRange,t):null,e.newRange?x.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yt extends _n{constructor(e,t,i,s,r){super(r),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new k("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Lg(e.getAttribute(this.key),this.oldValue))throw new k("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new k("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Lg(this.oldValue,this.newValue)||PV(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new yt(x.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pt extends _n{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Pt(this.baseVersion)}getReversed(){return new Pt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class en extends _n{constructor(e,t,i,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new en(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new en(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof ot){if(e.name!==this.oldName)throw new k("rename-operation-wrong-name",this)}else throw new k("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new en(U.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pi extends _n{constructor(e,t,i,s,r){super(r),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Pi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Pi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new k("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new k("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new k("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new k("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Pi(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class si extends _n{constructor(e,t,i,s,r){if(super(r),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=s,!this._document.getRoot(this.rootName)){const o=this._document.createRoot(this.elementName,this.rootName);o._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new si(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new si(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new si(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const In={};In[yt.className]=yt;In[It.className]=It;In[Qt.className]=Qt;In[Fe.className]=Fe;In[Pt.className]=Pt;In[_n.className]=_n;In[en.className]=en;In[Pi.className]=Pi;In[si.className]=si;In[qe.className]=qe;In[bt.className]=bt;class AV{static fromJSON(e,t){return In[e.__className].fromJSON(e,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const vf=new Map;function Ve(n,e,t){let i=vf.get(n);i||(i=new Map,vf.set(n,i)),i.set(e,t)}function xV(n,e){const t=vf.get(n);return t&&t.has(e)?t.get(e):OV}function OV(n){return[n]}function P1(n,e,t={}){const i=xV(n.constructor,e.constructor);try{return n=n.clone(),i(n,e,t)}catch(s){throw s}}function IV(n,e,t){n=n.slice(),e=e.slice();const i=new RV(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const s=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:s};const r=new WeakMap;for(const l of n)r.set(l,0);const o={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let a=0;for(;a<n.length;){const l=n[a],c=r.get(l);if(c==e.length){a++;continue}const u=e[c],d=P1(l,u,i.getContext(l,u,!0)),f=P1(u,l,i.getContext(u,l,!1));i.updateRelation(l,u),i.setOriginalOperations(d,l),i.setOriginalOperations(f,u);for(const h of d)r.set(h,c+f.length);n.splice(a,1,...d),e.splice(c,1,...f)}return A1(n,o.nextBaseVersionB),A1(e,o.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:s}}class RV{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const s of e)this.originalOperations.set(s,i||s)}updateRelation(e,t){if(e instanceof Fe)t instanceof bt?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Fe&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof qe){if(t instanceof bt)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Fe)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=x._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const s=i.end.offset-e.splitPosition.offset,r=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:s,offset:r})}}}else if(e instanceof bt)t instanceof bt?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof qe?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Fe&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof Qt){const i=e.newRange;if(!i)return;if(t instanceof Fe){const s=x._createFromPositionAndShift(t.sourcePosition,t.howMany),r=s.containsPosition(i.start)||s.start.isEqual(i.start),o=s.containsPosition(i.end)||s.end.isEqual(i.end);(r||o)&&!s.containsRange(i)&&this._setRelation(e,t,{side:r?"left":"right",path:r?i.start.path.slice():i.end.path.slice()})}else if(t instanceof bt){const s=i.start.isEqual(t.targetPosition),r=i.start.isEqual(t.deletionPosition),o=i.end.isEqual(t.deletionPosition),a=i.end.isEqual(t.sourcePosition);(s||r||o||a)&&this._setRelation(e,t,{wasInLeftElement:s,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),s=this._history.getUndoneOperation(i);if(!s)return null;const r=this.originalOperations.get(e),o=this._relations.get(r);return o&&o.get(s)||null}_setRelation(e,t,i){const s=this.originalOperations.get(e),r=this.originalOperations.get(t);let o=this._relations.get(s);o||(o=new Map,this._relations.set(s,o)),o.set(r,i)}}function A1(n,e){for(const t of n)t.baseVersion=e++}Ve(yt,yt,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(r=>new yt(r,n.key,n.oldValue,n.newValue,0)),s=n.range.getIntersection(e.range);return s&&t.aIsStrong&&i.push(new yt(s,e.key,e.newValue,n.newValue,0)),i.length==0?[new Pt(0)]:i}else return[n]});Ve(yt,It,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const i=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new yt(s,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const s=V_(e,n.key,n.oldValue);s&&i.unshift(s)}return i}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]});function V_(n,e,t){const s=n.nodes.getNode(0).getAttribute(e);if(s==t)return null;const r=new x(n.position,n.position.getShiftedBy(n.howMany));return new yt(r,e,s,t,0)}Ve(yt,bt,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(x._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(s=>new yt(s,n.key,n.oldValue,n.newValue,n.baseVersion))});Ve(yt,Fe,(n,e)=>MV(n.range,e).map(i=>new yt(i,n.key,n.oldValue,n.newValue,n.baseVersion)));function MV(n,e){const t=x._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,s=[];t.containsRange(n,!0)?i=n:n.start.hasSameParentAs(t.start)?(s=n.getDifference(t),i=n.getIntersection(t)):s=[n];const r=[];for(let o of s){o=o._getTransformedByDeletion(e.sourcePosition,e.howMany);const a=e.getMovedRangeStart(),l=o.start.hasSameParentAs(a),c=o._getTransformedByInsertion(a,e.howMany,l);r.push(...c)}return i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),r}Ve(yt,qe,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new x(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]});Ve(It,yt,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=V_(n,e.key,e.newValue);i&&t.push(i)}return t});Ve(It,It,(n,e,t)=>n.position.isEqual(e.position)&&t.aIsStrong?[n]:(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ve(It,Fe,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ve(It,qe,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n]));Ve(It,bt,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ve(Qt,It,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n]));Ve(Qt,Qt,(n,e,t)=>{if(n.name==e.name)if(t.aIsStrong)n.oldRange=e.newRange?e.newRange.clone():null;else return[new Pt(0)];return[n]});Ve(Qt,bt,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n]));Ve(Qt,Fe,(n,e,t)=>{if(n.oldRange&&(n.oldRange=x._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=x._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=x._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]});Ve(Qt,qe,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=U._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=U._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=U._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=U._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]});Ve(bt,It,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n]));Ve(bt,bt,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new U(e.graveyardPosition.root,i),n.howMany=0,[n]}else return[new Pt(0)];if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=e.targetPosition._getTransformedByMergeOperation(e),c=n.targetPosition._getTransformedByMergeOperation(e);return[new Fe(l,n.howMany,c,0)]}else return[new Pt(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),(!n.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ve(bt,Fe,(n,e,t)=>{const i=x._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Pt(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(n.sourcePosition)?n.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(n.sourcePosition)&&t.abRelation=="mergeSourceAffected"?n.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(n.targetPosition)?(n.targetPosition.stickiness="toNone",n.howMany-=e.howMany):e.targetPosition.isEqual(n.targetPosition)&&t.abRelation=="mergeTargetWasBefore"?(n.targetPosition.stickiness="toPrevious",n.howMany+=e.howMany):(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany)),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.sourcePosition.stickiness="toPrevious",n.targetPosition.stickiness="toNext",n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])});Ve(bt,qe,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,s=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||s||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]});Ve(Fe,It,(n,e)=>{const i=x._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=i.start,n.howMany=i.end.offset-i.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]});Ve(Fe,Fe,(n,e,t)=>{const i=x._createFromPositionAndShift(n.sourcePosition,n.howMany),s=x._createFromPositionAndShift(e.sourcePosition,e.howMany);let r=t.aIsStrong,o=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?o=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(o=!1);let a;if(n.targetPosition.isEqual(e.targetPosition)&&o?a=n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a=n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),x1(n,e)&&x1(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(s,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tr([i],a);if(s.containsPosition(n.targetPosition)&&s.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Tr([i],a);const u=Wt(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(u=="prefix"||u=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tr([i],a);n.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?r=!0:n.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(r=!1);const d=[],f=i.getDifference(s);for(const m of f){m.start=m.start._getTransformedByDeletion(e.sourcePosition,e.howMany),m.end=m.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const p=Wt(m.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",v=m._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,p);d.push(...v)}const h=i.getIntersection(s);return h!==null&&r&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.length===0?d.push(h):d.length==1?s.start.isBefore(i.start)||s.start.isEqual(i.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),d.length===0?[new Pt(n.baseVersion)]:Tr(d,a)});Ve(Fe,qe,(n,e,t)=>{let i=n.targetPosition.clone();(!n.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(i=n.targetPosition._getTransformedBySplitOperation(e));const s=x._createFromPositionAndShift(n.sourcePosition,n.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let a=new x(e.splitPosition,s.end);a=a._getTransformedBySplitOperation(e);const l=[new x(s.start,e.splitPosition),a];return Tr(l,i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const o=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const a=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);n.howMany>1&&a&&!t.aWasUndone&&o.push(x._createFromPositionAndShift(e.insertionPosition,1))}return Tr(o,i)});Ve(Fe,bt,(n,e,t)=>{const i=x._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const o=[];let a=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(o.push(new Fe(n.sourcePosition,n.howMany-1,n.targetPosition,0)),a=a._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),l=l._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const c=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),u=new Fe(a,1,c,0),d=u.getMovedRangeStart().path.slice();d.push(0);const f=new U(u.targetPosition.root,d);l=l._getTransformedByMove(a,c,1);const h=new Fe(l,e.howMany,f,0);return o.push(u),o.push(h),o}}else if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Pt(0)]}const r=x._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]});Ve(en,It,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n]));Ve(en,bt,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n]));Ve(en,Fe,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n]));Ve(en,en,(n,e,t)=>{if(n.position.isEqual(e.position))if(t.aIsStrong)n.oldName=e.newName;else return[new Pt(0)];return[n]});Ve(en,qe,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if(Wt(t,i)=="same"&&!e.graveyardPosition){const s=new en(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,s]}return n.position=n.position._getTransformedBySplitOperation(e),[n]});Ve(Pi,Pi,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Pt(0)];n.oldValue=e.newValue}return[n]});Ve(si,si,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new Pt(0)]:[n]);Ve(qe,It,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n]));Ve(qe,bt,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const s=new U(e.graveyardPosition.root,i),r=qe.getInsertionPosition(new U(e.graveyardPosition.root,i)),o=new qe(s,0,r,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=qe.getInsertionPosition(n.splitPosition),n.graveyardPosition=o.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[o,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=qe.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]});Ve(qe,Fe,(n,e,t)=>{const i=x._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const r=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&r){const o=n.splitPosition._getTransformedByMoveOperation(e),a=n.graveyardPosition._getTransformedByMoveOperation(e),l=a.path.slice();l.push(0);const c=new U(a.root,l);return[new Fe(o,n.howMany,c,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const s=n.splitPosition.isEqual(e.targetPosition);if(s&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=qe.getInsertionPosition(n.splitPosition),[n];if(s&&t.abRelation&&t.abRelation.howMany){const{howMany:r,offset:o}=t.abRelation;return n.howMany+=r,n.splitPosition=n.splitPosition.getShiftedBy(o),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const r=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=r,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=qe.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=qe.getInsertionPosition(n.splitPosition),[n]});Ve(qe,qe,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Pt(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Pt(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!i||!(i&&!s)&&t.aIsStrong){const l=[];return e.howMany&&l.push(new Fe(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&l.push(new Fe(n.splitPosition,n.howMany,n.moveTargetPosition,0)),l}else return[new Pt(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const s=new U(e.insertionPosition.root,i),r=new Fe(n.insertionPosition,1,s,0);return[n,r]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=qe.getInsertionPosition(n.splitPosition),[n]});function x1(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Tr(n,e){const t=[];for(let i=0;i<n.length;i++){const s=n[i],r=new Fe(s.start,s.end.offset-s.start.offset,e,0);t.push(r);for(let o=i+1;o<n.length;o++)n[o]=n[o]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Gt extends Ge(U){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new k("model-liveposition-root-not-rootelement",e);LV.call(this)}detach(){this.stopListening()}toPosition(){return new U(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Gt.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};function LV(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&BV.call(this,t)},{priority:"low"})}function BV(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mr{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},gt("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:s=!1,isTyping:r=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=s,this.isTyping=r}get type(){return gt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DV{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),s=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),s||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=x._createFromPositionAndShift(t.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(i)){const r=s.getData();this.bufferMarkerChange(s.name,r,r)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const s=t.graveyardPosition.parent;this._markInsert(s,t.graveyardPosition.offset,1);const r=t.targetPosition.parent;this._isInInsertedElement(r)||this._markInsert(r,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let s=this._changedMarkers.get(e);s?s.newMarkerData=i:(s={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,s)),s.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,s=!e.range&&t.range,r=e.range&&t.range&&!e.range.isEqual(t.range);if(i||s||r)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const s=this._changesInElement.get(i).sort((u,d)=>u.offset===d.offset?u.type!=d.type?u.type=="remove"?-1:1:0:u.offset<d.offset?-1:1),r=this._elementSnapshots.get(i),o=O1(i.getChildren()),a=VV(r.length,s);let l=0,c=0;for(const u of a)if(u==="i")t.push(this._getInsertDiff(i,l,o[l])),l++;else if(u==="r")t.push(this._getRemoveDiff(i,l,r[c])),c++;else if(u==="a"){const d=o[l].attributes,f=r[c].attributes;let h;if(o[l].name=="$text")h=new x(U._createAt(i,l),U._createAt(i,l+1));else{const m=i.offsetToIndex(l);h=new x(U._createAt(i,l),U._createAt(i.getChild(m),0))}t.push(...this._getAttributesDiff(h,f,d)),l++,c++}else l++,c++}t.sort((i,s)=>i.position.root!=s.position.root?i.position.root.rootName<s.position.root.rootName?-1:1:i.position.isEqual(s.position)?i.changeCount-s.changeCount:i.position.isBefore(s.position)?-1:1);for(let i=1,s=0;i<t.length;i++){const r=t[s],o=t[i],a=r.type=="remove"&&o.type=="remove"&&r.name=="$text"&&o.name=="$text"&&r.position.isEqual(o.position),l=r.type=="insert"&&o.type=="insert"&&r.name=="$text"&&o.name=="$text"&&r.position.parent==o.position.parent&&r.position.offset+r.length==o.position.offset,c=r.type=="attribute"&&o.type=="attribute"&&r.position.parent==o.position.parent&&r.range.isFlat&&o.range.isFlat&&r.position.offset+r.length==o.position.offset&&r.attributeKey==o.attributeKey&&r.attributeOldValue==o.attributeOldValue&&r.attributeNewValue==o.attributeNewValue;a||l||c?(r.length++,c&&(r.range.end=r.range.end.getShiftedBy(1)),t[i]=null):s=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter($V),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,s){const r=this._changedRoots.get(e)||{name:e},o=r.attributes||{};if(o[t]){const a=o[t];s===a.oldValue?delete o[t]:a.newValue=s}else o[t]={oldValue:i,newValue:s};Object.entries(o).length===0?(delete r.attributes,r.state===void 0&&this._changedRoots.delete(e)):(r.attributes=o,this._changedRoots.set(e,r))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=x._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const i=t.getData();this.bufferMarkerChange(t.name,{...i,range:null},i)}}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const s={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let s=0;s<i.length;s++)i[s].howMany<1&&(i.splice(s,1),s--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,O1(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const s=e.offset+e.howMany,r=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<r&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<r){const o=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:s,howMany:o-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(s<=i.offset)i.offset-=e.howMany;else if(s<=r)if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o,e.nodesToHandle-=o}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<r){const o=r-e.offset;i.howMany-=o,e.nodesToHandle-=o}}if(i.type=="remove"&&(s<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(s<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const o=s-i.offset;i.offset=e.offset,i.howMany-=o}else if(e.offset<r)if(s<=r){const o=i.howMany;i.howMany=e.offset-i.offset;const a=o-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:a,count:this._changeCount++})}else i.howMany-=r-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&s>i.offset){if(s>r){const o={type:"attribute",offset:r,howMany:s-r,count:this._changeCount++};this._handleChange(o,t),t.push(o)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<r&&(s>r?(e.nodesToHandle=s-r,e.offset=r):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&s>i.offset){const o={type:"attribute",offset:i.offset,howMany:s-i.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&s<=r?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&s>=r&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:U._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getRemoveDiff(e,t,i){return{type:"remove",position:U._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++,_element:i.element}}_getAttributesDiff(e,t,i){const s=[];i=new Map(i);for(const[r,o]of t){const a=i.has(r)?i.get(r):null;a!==o&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:a,changeCount:this._changeCount++}),i.delete(r)}for(const[r,o]of i)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:r,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),s=e.startOffset;if(i){for(const r of i)if(r.type=="insert"&&s>=r.offset&&s<r.offset+r.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const s=new x(U._createAt(e,t),U._createAt(e,t+i));for(const r of s.getItems({shallow:!0}))r.is("element")&&(this._elementSnapshots.delete(r),this._changesInElement.delete(r),this._removeAllNestedChanges(r,0,r.maxOffset))}}function O1(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes()),element:t});return e}function VV(n,e){const t=[];let i=0,s=0;for(const r of e){if(r.offset>i){for(let o=0;o<r.offset-i;o++)t.push("e");s+=r.offset-i}if(r.type=="insert"){for(let o=0;o<r.howMany;o++)t.push("i");i=r.offset+r.howMany}else if(r.type=="remove"){for(let o=0;o<r.howMany;o++)t.push("r");i=r.offset,s+=r.howMany}else t.push(..."a".repeat(r.howMany).split("")),i=r.offset+r.howMany,s+=r.howMany}if(s<n)for(let r=0;r<n-s-i;r++)t.push("e");return t}function $V(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FV{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new k("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let s=t-1;for(const[a,l]of this._gaps)e>a&&e<l&&(e=l),s>a&&s<l&&(s=a-1);if(s<i.baseVersion||e>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(e);r===void 0&&(r=0);let o=this._baseVersionToOperationIndex.get(s);return o===void 0&&(o=this._operations.length-1),this._operations.slice(r,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bc extends ot{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}bc.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const I1="$graveyard";class NV extends Ge(){constructor(e){super(),this.model=e,this.history=new FV,this.selection=new zn(this),this.roots=new ps({idProperty:"rootName"}),this.differ=new DV(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",I1),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const s=i[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,s,r,o)=>{const a={...i.getData(),range:r};this.differ.bufferMarkerChange(i.name,o,a),s===null&&i.on("change",(l,c)=>{const u=i.getData();this.differ.bufferMarkerChange(i.name,{...u,range:c},u)})}),this.registerPostFixer(t=>{let i=!1;for(const s of this.roots)!s.isAttached()&&!s.isEmpty&&(t.remove(t.createRangeIn(s)),i=!0);for(const s of this.model.markers)s.getRange().root.isAttached()||(t.removeMarker(s),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(I1)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new k("model-document-createroot-name-exists",this,{name:t});const i=new bc(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Cw(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,s=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(s)||t.createRange(s)}_validateSelectionRange(e){return R1(e.start)&&R1(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function R1(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!Fh(t,i)&&!Nh(t,i)}return!0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HV extends Ge(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof _r?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,s=!1){const r=e instanceof _r?e.name:e;if(r.includes(","))throw new k("markercollection-incorrect-marker-name",this);const o=this._markers.get(r);if(o){const c=o.getData(),u=o.getRange();let d=!1;return u.isEqual(t)||(o._attachLiveRange(Fn.fromRange(t)),d=!0),i!=o.managedUsingOperations&&(o._managedUsingOperations=i,d=!0),typeof s=="boolean"&&s!=o.affectsData&&(o._affectsData=s,d=!0),d&&this.fire(`update:${r}`,o,u,t,c),o}const a=Fn.fromRange(t),l=new _r(r,a,i,s);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,t,{...l.getData(),range:null}),l}_remove(e){const t=e instanceof _r?e.name:e,i=this._markers.get(t);return i?(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0):!1}_refresh(e){const t=e instanceof _r?e.name:e,i=this._markers.get(t);if(!i)throw new k("markercollection-refresh-marker-not-exists",this);const s=i.getRange();this.fire(`update:${t}`,i,s,s,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class _r extends Ge(gs){constructor(e,t,i,s){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new k("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new k("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new k("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new k("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new k("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_r.prototype.is=function(n){return n==="marker"||n==="model:marker"};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jV extends _n{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new k("detach-operation-on-document-node",this)}_execute(){L_(x._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vi extends gs{constructor(e){super(),this.markers=new Map,this._children=new Wo,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(ot.fromJSON(i)):t.push(Ke.fromJSON(i));return new vi(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=UV(t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const s of i)s.parent=null;return i}}vi.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};function UV(n){return typeof n=="string"?[new Ke(n)]:(wn(n)||(n=[n]),Array.from(n).map(e=>typeof e=="string"?new Ke(e):e instanceof $n?new Ke(e.data,e.getAttributes()):e))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zV{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Ke(e,t)}createElement(e,t){return new ot(e,t)}createDocumentFragment(){return new vi}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof Ke&&e.data=="")return;const s=U._createAt(t,i);if(e.parent)if(B1(e.root,s.root)){this.move(x._createOn(e),s);return}else{if(e.root.document)throw new k("model-writer-insert-forbidden-move",this);this.remove(e)}const r=s.root.document?s.root.document.version:null,o=new It(s,e,r);if(e instanceof Ke&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof vi)for(const[a,l]of e.markers){const c=U._createAt(l.root,0),d={range:new x(l.start._getCombined(c,s),l.end._getCombined(c,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(a)?this.updateMarker(a,d):this.addMarker(a,d)}}insertText(e,t,i,s){t instanceof vi||t instanceof ot||t instanceof U?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,s)}insertElement(e,t,i,s){t instanceof vi||t instanceof ot||t instanceof U?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,s)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof vi||t instanceof ot?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof vi||t instanceof ot?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof x){const s=i.getMinimalFlatRanges();for(const r of s)M1(this,e,t,r)}else L1(this,e,t,i)}setAttributes(e,t){for(const[i,s]of Ri(e))this.setAttribute(i,s,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof x){const i=t.getMinimalFlatRanges();for(const s of i)M1(this,e,null,s)}else L1(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const s of i.getAttributeKeys())this.removeAttribute(s,i)};if(!(e instanceof x))t(e);else for(const i of e.getItems())t(i)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof x))throw new k("writer-move-invalid-range",this);if(!e.isFlat)throw new k("writer-move-range-not-flat",this);const s=U._createAt(t,i);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!B1(e.root,s.root))throw new k("writer-move-different-document",this);const r=e.root.document?e.root.document.version:null,o=new Fe(e.start,e.end.offset-e.start.offset,s,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof x?e:x._createOn(e)).getMinimalFlatRanges().reverse();for(const s of i)this._addOperationForAffectedMarkers("move",s),WV(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ot))throw new k("writer-merge-no-element-before",this);if(!(i instanceof ot))throw new k("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(x._createIn(i),U._createAt(t,"end")),this.remove(i)}_merge(e){const t=U._createAt(e.nodeBefore,"end"),i=U._createAt(e.nodeAfter,0),s=e.root.document.graveyard,r=new U(s,[0]),o=e.root.document.version,a=new bt(i,e.nodeAfter.maxOffset,t,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ot))throw new k("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,s=new en(U._createBefore(e),e.name,t,i);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent)throw new k("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new k("writer-split-invalid-limit-element",this);let s,r;do{const o=i.root.document?i.root.document.version:null,a=i.maxOffset-e.offset,l=qe.getInsertionPosition(e),c=new qe(e,a,l,null,o);this.batch.addOperation(c),this.model.applyOperation(c),!s&&!r&&(s=i,r=e.parent.nextSibling),e=this.createPositionAfter(e.parent),i=e.parent}while(i!==t);return{position:e,range:new x(U._createAt(s,"end"),U._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new k("writer-wrap-range-not-flat",this);const i=t instanceof ot?t:new ot(t);if(i.childCount>0)throw new k("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new k("writer-wrap-element-attached",this);this.insert(i,e.start);const s=new x(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,U._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new k("writer-unwrap-element-no-parent",this);this.move(x._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new k("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,s=t.range,r=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new k("writer-addmarker-marker-exists",this);if(!s)throw new k("writer-addmarker-no-range",this);return i?(_o(this,e,null,s,r),this.model.markers.get(e)):this.model.markers._set(e,s,i,r)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,s=this.model.markers.get(i);if(!s)throw new k("writer-updatemarker-marker-not-exists",this);if(!t){gt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),this.model.markers._refresh(s);return}const r=typeof t.usingOperation=="boolean",o=typeof t.affectsData=="boolean",a=o?t.affectsData:s.affectsData;if(!r&&!t.range&&!o)throw new k("writer-updatemarker-wrong-options",this);const l=s.getRange(),c=t.range?t.range:l;if(r&&t.usingOperation!==s.managedUsingOperations){t.usingOperation?_o(this,i,null,c,a):(_o(this,i,l,null,a),this.model.markers._set(i,c,void 0,a));return}s.managedUsingOperations?_o(this,i,l,c,a):this.model.markers._set(i,c,void 0,a)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new k("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const s=i.getRange();_o(this,t,s,null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new k("writer-addroot-root-exists",this);const s=this.model.document,r=new si(e,t,!0,s,s.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new k("writer-detachroot-no-root",this);for(const r of this.model.markers)r.getRange().root===t&&this.removeMarker(r);for(const r of t.getAttributeKeys())this.removeAttribute(r,t);this.remove(this.createRangeIn(t));const i=this.model.document,s=new si(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(s),this.model.applyOperation(s)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,s]of Ri(e))this._setSelectionAttribute(i,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const s=zn._getStoreAttributeKey(e);this.setAttribute(s,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=zn._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new k("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const s=i.getRange();let r=!1;if(e==="move"){const o=t;r=o.containsPosition(s.start)||o.start.isEqual(s.start)||o.containsPosition(s.end)||o.end.isEqual(s.end)}else{const o=t,a=o.nodeBefore,l=o.nodeAfter,c=s.start.parent==a&&s.start.isAtEnd,u=s.end.parent==l&&s.end.offset==0,d=s.end.nodeAfter==l,f=s.start.nodeAfter==l;r=c||u||d||f}r&&this.updateMarker(i.name,{range:s})}}}function M1(n,e,t,i){const s=n.model,r=s.document;let o=i.start,a,l,c;for(const d of i.getWalker({shallow:!0}))c=d.item.getAttribute(e),a&&l!=c&&(l!=t&&u(),o=a),a=d.nextPosition,l=c;a instanceof U&&a!=o&&l!=t&&u();function u(){const d=new x(o,a),f=d.root.document?r.version:null,h=new yt(d,e,l,t,f);n.batch.addOperation(h),s.applyOperation(h)}}function L1(n,e,t,i){const s=n.model,r=s.document,o=i.getAttribute(e);let a,l;if(o!=t){if(i.root===i){const u=i.document?r.version:null;l=new Pi(i,e,o,t,u)}else{a=new x(U._createBefore(i),n.createPositionAfter(i));const u=a.root.document?r.version:null;l=new yt(a,e,o,t,u)}n.batch.addOperation(l),s.applyOperation(l)}}function _o(n,e,t,i,s){const r=n.model,o=r.document,a=new Qt(e,t,i,r.markers,!!s,o.version);n.batch.addOperation(a),r.applyOperation(a)}function WV(n,e,t,i){let s;if(n.root.document){const r=i.document,o=new U(r.graveyard,[0]);s=new Fe(n,e,o,r.version)}else s=new jV(n,e);t.addOperation(s),i.applyOperation(s)}function B1(n,e){return n===e||n instanceof bc&&e instanceof bc}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function KV(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const s=n.schema;n.change(r=>{if(!t.doNotResetEntireContent&&t$(s,e)){e$(r,e);return}const o={};if(!t.doNotAutoparagraph){const c=e.getSelectedElement();c&&Object.assign(o,s.getAttributesWithProperty(c,"copyOnReplace",!0))}const[a,l]=qV(i);a.isTouching(l)||r.remove(r.createRange(a,l)),t.leaveUnmerged||(ZV(r,a,l),s.removeDisallowedAttributes(a.parent.getChildren(),r)),H_(r,e,a),!t.doNotAutoparagraph&&XV(s,a)&&N_(r,a,e,o),a.detach(),l.detach()})}function qV(n){const e=n.root.document.model,t=n.start;let i=n.end;if(e.hasContent(n,{ignoreMarkers:!0})){const s=GV(i);if(s&&i.isTouching(e.createPositionAt(s,0))){const r=e.createSelection(n);e.modifySelection(r,{direction:"backward"});const o=r.getLastPosition(),a=e.createRange(o,i);e.hasContent(a,{ignoreMarkers:!0})||(i=o)}}return[Gt.fromPosition(t,"toPrevious"),Gt.fromPosition(i,"toNext")]}function GV(n){const e=n.parent,t=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const s of i){if(t.isLimit(s))return null;if(t.isBlock(s))return s}}function ZV(n,e,t){const i=n.model;if(!Xh(n.model.schema,e,t))return;const[s,r]=YV(e,t);!s||!r||(!i.hasContent(s,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?F_(n,e,t,s.parent):$_(n,e,t,s.parent))}function $_(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(r,e),n.merge(e);t.parent.isEmpty;){const o=t.parent;t=n.createPositionBefore(o),n.remove(o)}Xh(n.model.schema,e,t)&&$_(n,e,t,i)}}function F_(n,e,t,i){const s=e.parent,r=t.parent;if(!(s==i||r==i)){for(e=n.createPositionAfter(s),t=n.createPositionBefore(r),t.isEqual(e)||n.insert(s,t);e.parent.isEmpty;){const o=e.parent;e=n.createPositionBefore(o),n.remove(o)}t=n.createPositionBefore(r),JV(n,t),Xh(n.model.schema,e,t)&&F_(n,e,t,i)}}function JV(n,e){const t=e.nodeBefore,i=e.nodeAfter;t.name!=i.name&&n.rename(t,i.name),n.clearAttributes(t),n.setAttributes(Object.fromEntries(i.getAttributes()),t),n.merge(e)}function Xh(n,e,t){const i=e.parent,s=t.parent;return i==s||n.isLimit(i)||n.isLimit(s)?!1:QV(e,t,n)}function YV(n,e){const t=n.getAncestors(),i=e.getAncestors();let s=0;for(;t[s]&&t[s]==i[s];)s++;return[t[s],i[s]]}function XV(n,e){const t=n.checkChild(e,"$text"),i=n.checkChild(e,"paragraph");return!t&&i}function QV(n,e,t){const i=new x(n,e);for(const s of i.getWalker())if(t.isLimit(s.item))return!1;return!0}function N_(n,e,t,i={}){const s=n.createElement("paragraph");n.model.schema.setAllowedAttributes(s,i,n),n.insert(s,e),H_(n,t,n.createPositionAt(s,0))}function e$(n,e){const t=n.model.schema.getLimitElement(e);n.remove(n.createRangeIn(t)),N_(n,n.createPositionAt(t,0),e)}function t$(n,e){const t=n.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const i=e.getFirstRange();return i.start.parent==i.end.parent?!1:n.checkChild(t,"paragraph")}function H_(n,e,t){e instanceof zn?n.setSelection(t):e.setTo(t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function n$(n,e){return n.change(t=>{const i=t.createDocumentFragment(),s=e.getFirstRange();if(!s||s.isCollapsed)return i;const r=s.start.root,o=s.start.getCommonPath(s.end),a=r.getNodeByPath(o);let l;s.start.parent==s.end.parent?l=s:l=t.createRange(t.createPositionAt(a,s.start.path[o.length]),t.createPositionAt(a,s.end.path[o.length]+1));const c=l.end.offset-l.start.offset;for(const u of l.getItems({shallow:!0}))u.is("$textProxy")?t.appendText(u.data,u.getAttributes(),i):t.append(t.cloneElement(u,!0),i);if(l!=s){const u=s._getTransformedByMove(l.start,t.createPositionAt(i,0),c)[0],d=t.createRange(t.createPositionAt(i,0),u.start),f=t.createRange(u.end,t.createPositionAt(i,"end"));D1(f,t),D1(d,t)}return i})}function D1(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let s=i;for(;s.parent&&s.isEmpty;){const r=e.createRangeOn(s);s=s.parent,e.remove(r)}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function i$(n,e,t){return n.change(i=>{const s=t||n.document.selection;s.isCollapsed||n.deleteContent(s,{doNotAutoparagraph:!0});const r=new s$(n,i,s.anchor),o=[];let a;if(e.is("documentFragment")){if(e.markers.size){const u=[];for(const[d,f]of e.markers){const{start:h,end:m}=f,p=h.isEqual(m);u.push({position:h,name:d,isCollapsed:p},{position:m,name:d,isCollapsed:p})}u.sort(({position:d},{position:f})=>d.isBefore(f)?1:-1);for(const{position:d,name:f,isCollapsed:h}of u){let m=null,p=null;const v=d.parent===e&&d.isAtStart,_=d.parent===e&&d.isAtEnd;!v&&!_?(m=i.createElement("$marker"),i.insert(m,d)):h&&(p=v?"start":"end"),o.push({name:f,element:m,collapsed:p})}}a=e.getChildren()}else a=[e];r.handleNodes(a);let l=r.getSelectionRange();if(e.is("documentFragment")&&o.length){const u=l?Fn.fromRange(l):null,d={};for(let f=o.length-1;f>=0;f--){const{name:h,element:m,collapsed:p}=o[f],v=!d[h];if(v&&(d[h]=[]),m){const _=i.createPositionAt(m,"before");d[h].push(_),i.remove(m)}else{const _=r.getAffectedRange();if(!_){p&&d[h].push(r.position);continue}p?d[h].push(_[p]):d[h].push(v?_.start:_.end)}}for(const[f,[h,m]]of Object.entries(d))h&&m&&h.root===m.root&&h.root.document&&!i.model.markers.has(f)&&i.addMarker(f,{usingOperation:!0,affectsData:!0,range:new x(h,m)});u&&(l=u.toRange(),u.detach())}/* istanbul ignore else -- @preserve */l&&(s instanceof zn?i.setSelection(l):s.setTo(l));const c=r.getAffectedRange()||n.createRange(s.anchor);return r.destroy(),c})}class s${constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){this._lastNode=e;/* istanbul ignore if -- @preserve */if(this.position.parent!=e||!this.position.isAtEnd)throw new k("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?x._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new x(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Gt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){/* istanbul ignore if -- @preserve */if(!this.schema.checkChild(this.position,e))throw new k("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Gt.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gt.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ot)||!this._canMergeLeft(e))return;const t=Gt._createBefore(e);t.stickiness="toNext";const i=Gt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Gt._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Gt._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ot)||!this._canMergeRight(e))return;const t=Gt._createAfter(e);t.stickiness="toNext";/* istanbul ignore if -- @preserve */if(!this.position.isEqual(t))throw new k("insertcontent-invalid-insertion-position",this);this.position=U._createAt(t.nodeBefore,"end");const i=Gt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Gt._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Gt._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ot&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ot&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r$(n,e,t,i={}){if(!n.schema.isObject(e))throw new k("insertobject-element-not-an-object",n,{object:e});const s=t||n.document.selection;let r=s;i.findOptimalPosition&&n.schema.isBlock(e)&&(r=n.createSelection(n.schema.findOptimalInsertionRange(s,i.findOptimalPosition)));const o=Ii(s.getSelectedBlocks()),a={};return o&&Object.assign(a,n.schema.getAttributesWithProperty(o,"copyOnReplace",!0)),n.change(l=>{r.isCollapsed||n.deleteContent(r,{doNotAutoparagraph:!0});let c=e;const u=r.anchor.parent;!n.schema.checkChild(u,e)&&n.schema.checkChild(u,"paragraph")&&n.schema.checkChild("paragraph",e)&&(c=l.createElement("paragraph"),l.insert(e,c)),n.schema.setAllowedAttributes(c,a,l);const d=n.insertContent(c,r);return d.isCollapsed||i.setSelection&&o$(l,e,i.setSelection,a),d})}function o$(n,e,t,i){const s=n.model;if(t=="on"){n.setSelection(e,"on");return}if(t!="after")throw new k("insertobject-invalid-place-parameter-value",s);let r=e.nextSibling;if(s.schema.isInline(e)){n.setSelection(e,"after");return}!(r&&s.schema.checkChild(r,"$text"))&&s.schema.checkChild(e.parent,"paragraph")&&(r=n.createElement("paragraph"),s.schema.setAllowedAttributes(r,i,n),s.insertContent(r,n.createPositionAfter(e))),r&&n.setSelection(r,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const a$=' ,.?!:;"-()';function l$(n,e,t={}){const i=n.schema,s=t.direction!="backward",r=t.unit?t.unit:"character",o=!!t.treatEmojiAsSingleUnit,a=e.focus,l=new _i({boundaries:f$(a,s),singleCharacters:!0,direction:s?"forward":"backward"}),c={walker:l,schema:i,isForward:s,unit:r,treatEmojiAsSingleUnit:o};let u;for(;u=l.next();){if(u.done)return;const d=c$(c,u.value);if(d){e instanceof zn?n.change(f=>{f.setSelectionFocus(d)}):e.setFocus(d);return}}}function c$(n,e){const{isForward:t,walker:i,unit:s,schema:r,treatEmojiAsSingleUnit:o}=n,{type:a,item:l,nextPosition:c}=e;if(a=="text")return n.unit==="word"?d$(i,t):u$(i,s,o);if(a==(t?"elementStart":"elementEnd")){if(r.isSelectable(l))return U._createAt(l,t?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l)){i.skip(()=>!0);return}if(r.checkChild(c,"$text"))return c}}function u$(n,e,t){const i=n.position.textNode;if(i){const s=i.data;let r=n.position.offset-i.startOffset;for(;Fh(s,r)||e=="character"&&Nh(s,r)||t&&zw(s,r);)n.next(),r=n.position.offset-i.startOffset}return n.position}function d$(n,e){let t=n.position.textNode;for(t||(t=e?n.position.nodeAfter:n.position.nodeBefore);t&&t.is("$text");){const i=n.position.offset-t.startOffset;if(m$(t,i,e))t=e?n.position.nodeAfter:n.position.nodeBefore;else{if(h$(t.data,i,e))break;n.next()}}return n.position}function f$(n,e){const t=n.root,i=U._createAt(t,e?"end":0);return e?new x(n,i):new x(i,n)}function h$(n,e,t){const i=e+(t?0:-1);return a$.includes(n.charAt(i))}function m$(n,e,t){return e===(t?n.offsetSize:0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */let p$=class extends pt(){constructor(){super(),this.markers=new HV,this.document=new NV(this),this.schema=new nV,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),qD(this),this.document.registerPostFixer(P_),this.on("insertContent",(e,[t,i])=>{e.return=i$(this,t,i)}),this.on("insertObject",(e,[t,i,s])=>{e.return=r$(this,t,i,s)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new mr,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new mr):e instanceof mr||(e=new mr(e)):e=new mr,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...s){const r=Ju(t,i);return this.fire("insertContent",[e,r,i,...s])}insertObject(e,t,i,s,...r){const o=Ju(t,i);return this.fire("insertObject",[e,o,s,s,...r])}deleteContent(e,t){KV(this,e,t)}modifySelection(e,t){l$(this,e,t)}getSelectedContent(e){return n$(this,e)}hasContent(e,t={}){const i=e instanceof x?e:x._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:r=!1}=t;if(!r){for(const o of this.markers.getMarkersIntersectingRange(i))if(o.affectsData)return!0}for(const o of i.getItems())if(this.schema.isContent(o))if(o.is("$textProxy"))if(s){if(o.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}canEditAt(e){const t=Ju(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new U(e,t,i)}createPositionAt(e,t){return U._createAt(e,t)}createPositionAfter(e){return U._createAfter(e)}createPositionBefore(e){return U._createBefore(e)}createRange(e,t){return new x(e,t)}createRangeIn(e){return x._createIn(e)}createRangeOn(e){return x._createOn(e)}createSelection(...e){return new mn(...e)}createBatch(e){return new mr(e)}createOperationFromJSON(e){return AV.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new zV(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}};function Ju(n,e){if(n)return n instanceof mn||n instanceof zn?n:n instanceof lr?e||e===0?new mn(n,e):n.is("rootElement")?new mn(n,"in"):new mn(n,"on"):new mn(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class g$ extends ar{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qh extends ar{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class b${constructor(e){this.document=e}createDocumentFragment(e){return new Ns(this.document,e)}createElement(e,t,i){return new Un(this.document,e,t,i)}createText(e){return new nt(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const s=i.getChildIndex(e);return this.removeChildren(s,1,i),this.insertChild(s,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new Un(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){hn(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Q._createAt(e,t)}createPositionAfter(e){return Q._createAfter(e)}createPositionBefore(e){return Q._createBefore(e)}createRange(e,t){return new Ce(e,t)}createRangeOn(e){return Ce._createOn(e)}createRangeIn(e){return Ce._createIn(e)}createSelection(...e){return new Si(...e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class v${constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new k("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y$ extends Gn{constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const s=t;t=(r,o)=>{this.editor.execute(s),o()}}super.set(e,t,i)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Yu="contentEditing",V1="common";class w${constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),i=e.locale.t;this.addKeystrokeInfoCategory({id:Yu,label:i("Content editing keystrokes"),description:i("These keyboard shortcuts allow for quick access to content editing features.")});const s=[{label:i("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:i("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:i("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:i("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:i("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:i("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&s.push({label:i("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:i("User interface and content navigation keystrokes"),description:i("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:s}]})}addKeystrokeInfoCategory({id:e,label:t,description:i,groups:s}){this.keystrokeInfos.set(e,{id:e,label:t,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:V1}),s&&s.forEach(r=>{this.addKeystrokeInfoGroup({categoryId:e,...r})})}addKeystrokeInfoGroup({categoryId:e=Yu,id:t,label:i,keystrokes:s}){const r=this.keystrokeInfos.get(e);if(!r)throw new k("accessibility-unknown-keystroke-info-category",this._editor,{groupId:t,categoryId:e});r.groups.set(t,{id:t,label:i,keystrokes:s||[]})}addKeystrokeInfos({categoryId:e=Yu,groupId:t=V1,keystrokes:i}){if(!this.keystrokeInfos.has(e))throw new k("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:i});const s=this.keystrokeInfos.get(e);if(!s.groups.has(t))throw new k("accessibility-unknown-keystroke-info-group",this._editor,{groupId:t,categoryId:e,keystrokes:i});s.groups.get(t).keystrokes.push(...i)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _$ extends pt(){constructor(e={}){super();const t=this.constructor,{translations:i,...s}=t.defaultConfig||{},{translations:r=i,...o}=e,a=e.language||s.language;this._context=e.context||new Yw({language:a,translations:r}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new Iw(o,s),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new Jw(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new v$,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new p$,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new tB;this.data=new EV(this.model,c),this.editing=new QD(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new SV([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new y$(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new w$(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new k("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new k("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new k("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],r=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(s),i,r)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){/* istanbul ignore next -- @preserve */k.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function C$(n){if(!qs(n.updateSourceElement))throw new k("attachtoform-missing-elementapi-interface",n);const e=n.sourceElement;if(k$(e)&&e.form){let t;const i=e.form,s=()=>n.updateSourceElement();qs(i.submit)&&(t=i.submit,i.submit=()=>{s(),t.apply(i)}),i.addEventListener("submit",s),n.on("destroy",()=>{i.removeEventListener("submit",s),t&&(i.submit=t)})}}function k$(n){return!!n&&n.tagName.toLowerCase()==="textarea"}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function yf(n){class e extends n{updateSourceElement(i){if(!this.sourceElement)throw new k("editor-missing-sourceelement",this);const s=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!s&&!r){Ng(this.sourceElement,"");return}const o=typeof i=="string"?i:this.data.get();Ng(this.sourceElement,o)}}return e}yf.updateSourceElement=yf(Object).prototype.updateSourceElement;const E$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',T$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',S$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',P$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',A$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',x$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',O$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',I$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',R$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',M$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',L$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',B$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',D$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',V$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',$$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',F$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',N$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',H$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',j$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',U$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',z$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',W$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',K$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',q$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',G$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',Z$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',J$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',Y$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',X$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',Q$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',eF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',tF='<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',nF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',iF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',sF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',rF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',oF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',aF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',lF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',cF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',uF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',dF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',fF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',hF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',mF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',pF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',gF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',vF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',yF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',wF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',_F='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',CF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',kF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',EF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',TF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',SF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',PF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',AF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',xF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',OF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',IF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',RF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Qe={bold:uF,cancel:E$,caption:T$,check:S$,cog:P$,colorPalette:A$,eraser:x$,history:O$,image:D$,imageUpload:V$,imageAssetManager:$$,imageUrl:F$,lowVision:I$,textAlternative:R$,loupe:M$,previousArrow:L$,nextArrow:B$,importExport:mF,paragraph:dF,plus:fF,text:hF,alignBottom:N$,alignMiddle:H$,alignTop:j$,alignLeft:U$,alignCenter:z$,alignRight:W$,alignJustify:K$,objectLeft:X$,objectCenter:G$,objectRight:Q$,objectFullWidth:J$,objectInline:Y$,objectBlockLeft:q$,objectBlockRight:Z$,objectSizeCustom:tF,objectSizeFull:eF,objectSizeLarge:nF,objectSizeSmall:iF,objectSizeMedium:sF,pencil:rF,pilcrow:oF,quote:aF,threeVerticalDots:lF,dragIndicator:cF,redo:pF,undo:gF,bulletedList:bF,numberedList:vF,todoList:yF,codeBlock:wF,browseFiles:_F,heading1:CF,heading2:kF,heading3:EF,heading4:TF,heading5:SF,heading6:PF,horizontalLine:AF,html:xF,indent:OF,outdent:IF,table:RF};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ou extends pe{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${oi()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class MF extends pe{constructor(e,t){super(e);const i=e.t,s=new ou;s.text=i("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":s.id,role:"document",tabindex:-1},children:[Ln(document,"p",{},i("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),s]})}focus(){this.element.focus()}_createCategories(e){return e.map(t=>{const i=[Ln(document,"h3",{},t.label),...Array.from(t.groups.values()).map(s=>this._createGroup(s)).flat()];return t.description&&i.splice(1,0,Ln(document,"p",{},t.description)),Ln(document,"section",{},i)})}_createGroup(e){const t=e.keystrokes.sort((s,r)=>s.label.localeCompare(r.label)).map(s=>this._createGroupRow(s)).flat(),i=[Ln(document,"dl",{},t)];return e.label&&i.unshift(Ln(document,"h4",{},e.label)),i}_createGroupRow(e){const t=this.locale.t,i=Ln(document,"dt"),s=Ln(document,"dd"),r=BF(e.keystroke),o=[];for(const a of r)o.push(a.map(LF).join(""));return i.innerHTML=e.label,s.innerHTML=o.join(", ")+(e.mayRequireFn&&ke.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[i,s]}}function LF(n){return mc(n).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}function BF(n){return typeof n=="string"?[[n]]:typeof n[0]=="string"?[n]:n}const $1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DF extends Te{constructor(){super(...arguments),this.contentView=null}static get requires(){return[bi]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const i=this._createButton(_t);return i.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),i}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const i=this._createButton(bs);return i.label=t("Accessibility"),i}),e.keystrokes.set("Alt+0",(i,s)=>{this._showDialog(),s()}),this._setupRootLabels()}_createButton(e){const i=this.editor.locale,s=new e(i);return s.set({keystroke:"Alt+0",icon:$1}),s.on("execute",()=>this._showDialog()),s}_setupRootLabels(){const e=this.editor,t=e.editing.view,i=e.t;e.ui.on("ready",()=>{t.change(r=>{for(const o of t.document.roots)s(r,o)}),e.on("addRoot",(r,o)=>{const a=e.editing.view.document.getRoot(o.rootName);t.change(l=>s(l,a))},{priority:"low"})});function s(r,o){const l=`${o.getAttribute("aria-label")}. ${i("Press %0 for help.",[mc("Alt+0")])}`;r.setAttribute("aria-label",l,o)}}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),i=e.locale.t;this.contentView||(this.contentView=new MF(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:i("Accessibility help"),icon:$1,hasCloseButton:!0,content:this.contentView})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VF extends Vi{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ii({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Ln(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fi extends pe{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",t=>!t),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:s,value:r}of Array.from(t.attributes))Fi.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}Fi.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class $F extends pe{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _t extends pe{constructor(e,t=new $F){super(e),this._focusDelayed=null;const i=this.bindTemplate,s=oi();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${s}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new Fi,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",o=>!o),i.if("isVisible","ck-hidden",o=>!o),i.to("isOn",o=>o?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",o=>o||"button"),tabindex:i.to("tabindex"),"aria-checked":i.to("ariaChecked"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,o=>!o),"aria-pressed":i.to("isOn",o=>this.isToggleable?String(!!o):!1),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(o=>{this.isEnabled?this.fire("execute"):o.preventDefault()})}};ke.isSafari&&(this._focusDelayed||(this._focusDelayed=$h(()=>this.focus(),0)),r.on.mousedown=i.to(()=>{this._focusDelayed()}),r.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(r)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>mc(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=mc(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class em extends _t{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new pe;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FF extends _t{constructor(e){super(e),this.buttonView=this,this._fileInputView=new NF(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class NF extends pe{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const tm='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var HF={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const Ma=HF,j_={};for(const n of Object.keys(Ma))j_[Ma[n]]=n;const ae={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var U_=ae;for(const n of Object.keys(ae)){if(!("channels"in ae[n]))throw new Error("missing channels property: "+n);if(!("labels"in ae[n]))throw new Error("missing channel labels property: "+n);if(ae[n].labels.length!==ae[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:e,labels:t}=ae[n];delete ae[n].channels,delete ae[n].labels,Object.defineProperty(ae[n],"channels",{value:e}),Object.defineProperty(ae[n],"labels",{value:t})}ae.rgb.hsl=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.min(e,t,i),r=Math.max(e,t,i),o=r-s;let a,l;r===s?a=0:e===r?a=(t-i)/o:t===r?a=2+(i-e)/o:i===r&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360);const c=(s+r)/2;return r===s?l=0:c<=.5?l=o/(r+s):l=o/(2-r-s),[a,l*100,c*100]};ae.rgb.hsv=function(n){let e,t,i,s,r;const o=n[0]/255,a=n[1]/255,l=n[2]/255,c=Math.max(o,a,l),u=c-Math.min(o,a,l),d=function(f){return(c-f)/6/u+1/2};return u===0?(s=0,r=0):(r=u/c,e=d(o),t=d(a),i=d(l),o===c?s=i-t:a===c?s=1/3+e-i:l===c&&(s=2/3+t-e),s<0?s+=1:s>1&&(s-=1)),[s*360,r*100,c*100]};ae.rgb.hwb=function(n){const e=n[0],t=n[1];let i=n[2];const s=ae.rgb.hsl(n)[0],r=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[s,r*100,i*100]};ae.rgb.cmyk=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.min(1-e,1-t,1-i),r=(1-e-s)/(1-s)||0,o=(1-t-s)/(1-s)||0,a=(1-i-s)/(1-s)||0;return[r*100,o*100,a*100,s*100]};function jF(n,e){return(n[0]-e[0])**2+(n[1]-e[1])**2+(n[2]-e[2])**2}ae.rgb.keyword=function(n){const e=j_[n];if(e)return e;let t=1/0,i;for(const s of Object.keys(Ma)){const r=Ma[s],o=jF(n,r);o<t&&(t=o,i=s)}return i};ae.keyword.rgb=function(n){return Ma[n]};ae.rgb.xyz=function(n){let e=n[0]/255,t=n[1]/255,i=n[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const s=e*.4124+t*.3576+i*.1805,r=e*.2126+t*.7152+i*.0722,o=e*.0193+t*.1192+i*.9505;return[s*100,r*100,o*100]};ae.rgb.lab=function(n){const e=ae.rgb.xyz(n);let t=e[0],i=e[1],s=e[2];t/=95.047,i/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const r=116*i-16,o=500*(t-i),a=200*(i-s);return[r,o,a]};ae.hsl.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;let s,r,o;if(t===0)return o=i*255,[o,o,o];i<.5?s=i*(1+t):s=i+t-i*t;const a=2*i-s,l=[0,0,0];for(let c=0;c<3;c++)r=e+1/3*-(c-1),r<0&&r++,r>1&&r--,6*r<1?o=a+(s-a)*6*r:2*r<1?o=s:3*r<2?o=a+(s-a)*(2/3-r)*6:o=a,l[c]=o*255;return l};ae.hsl.hsv=function(n){const e=n[0];let t=n[1]/100,i=n[2]/100,s=t;const r=Math.max(i,.01);i*=2,t*=i<=1?i:2-i,s*=r<=1?r:2-r;const o=(i+t)/2,a=i===0?2*s/(r+s):2*t/(i+t);return[e,a*100,o*100]};ae.hsv.rgb=function(n){const e=n[0]/60,t=n[1]/100;let i=n[2]/100;const s=Math.floor(e)%6,r=e-Math.floor(e),o=255*i*(1-t),a=255*i*(1-t*r),l=255*i*(1-t*(1-r));switch(i*=255,s){case 0:return[i,l,o];case 1:return[a,i,o];case 2:return[o,i,l];case 3:return[o,a,i];case 4:return[l,o,i];case 5:return[i,o,a]}};ae.hsv.hsl=function(n){const e=n[0],t=n[1]/100,i=n[2]/100,s=Math.max(i,.01);let r,o;o=(2-t)*i;const a=(2-t)*s;return r=t*s,r/=a<=1?a:2-a,r=r||0,o/=2,[e,r*100,o*100]};ae.hwb.rgb=function(n){const e=n[0]/360;let t=n[1]/100,i=n[2]/100;const s=t+i;let r;s>1&&(t/=s,i/=s);const o=Math.floor(6*e),a=1-i;r=6*e-o,o&1&&(r=1-r);const l=t+r*(a-t);let c,u,d;switch(o){default:case 6:case 0:c=a,u=l,d=t;break;case 1:c=l,u=a,d=t;break;case 2:c=t,u=a,d=l;break;case 3:c=t,u=l,d=a;break;case 4:c=l,u=t,d=a;break;case 5:c=a,u=t,d=l;break}return[c*255,u*255,d*255]};ae.cmyk.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100,s=n[3]/100,r=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,t*(1-s)+s),a=1-Math.min(1,i*(1-s)+s);return[r*255,o*255,a*255]};ae.xyz.rgb=function(n){const e=n[0]/100,t=n[1]/100,i=n[2]/100;let s,r,o;return s=e*3.2406+t*-1.5372+i*-.4986,r=e*-.9689+t*1.8758+i*.0415,o=e*.0557+t*-.204+i*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),[s*255,r*255,o*255]};ae.xyz.lab=function(n){let e=n[0],t=n[1],i=n[2];e/=95.047,t/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*t-16,r=500*(e-t),o=200*(t-i);return[s,r,o]};ae.lab.xyz=function(n){const e=n[0],t=n[1],i=n[2];let s,r,o;r=(e+16)/116,s=t/500+r,o=r-i/200;const a=r**3,l=s**3,c=o**3;return r=a>.008856?a:(r-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,s*=95.047,r*=100,o*=108.883,[s,r,o]};ae.lab.lch=function(n){const e=n[0],t=n[1],i=n[2];let s;s=Math.atan2(i,t)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(t*t+i*i);return[e,o,s]};ae.lch.lab=function(n){const e=n[0],t=n[1],s=n[2]/360*2*Math.PI,r=t*Math.cos(s),o=t*Math.sin(s);return[e,r,o]};ae.rgb.ansi16=function(n,e=null){const[t,i,s]=n;let r=e===null?ae.rgb.hsv(n)[2]:e;if(r=Math.round(r/50),r===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(i/255)<<1|Math.round(t/255));return r===2&&(o+=60),o};ae.hsv.ansi16=function(n){return ae.rgb.ansi16(ae.hsv.rgb(n),n[2])};ae.rgb.ansi256=function(n){const e=n[0],t=n[1],i=n[2];return e===t&&t===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5)};ae.ansi16.rgb=function(n){let e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const t=(~~(n>50)+1)*.5,i=(e&1)*t*255,s=(e>>1&1)*t*255,r=(e>>2&1)*t*255;return[i,s,r]};ae.ansi256.rgb=function(n){if(n>=232){const r=(n-232)*10+8;return[r,r,r]}n-=16;let e;const t=Math.floor(n/36)/5*255,i=Math.floor((e=n%36)/6)/5*255,s=e%6/5*255;return[t,i,s]};ae.rgb.hex=function(n){const t=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};ae.hex.rgb=function(n){const e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));const i=parseInt(t,16),s=i>>16&255,r=i>>8&255,o=i&255;return[s,r,o]};ae.rgb.hcg=function(n){const e=n[0]/255,t=n[1]/255,i=n[2]/255,s=Math.max(Math.max(e,t),i),r=Math.min(Math.min(e,t),i),o=s-r;let a,l;return o<1?a=r/(1-o):a=0,o<=0?l=0:s===e?l=(t-i)/o%6:s===t?l=2+(i-e)/o:l=4+(e-t)/o,l/=6,l%=1,[l*360,o*100,a*100]};ae.hsl.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=t<.5?2*e*t:2*e*(1-t);let s=0;return i<1&&(s=(t-.5*i)/(1-i)),[n[0],i*100,s*100]};ae.hsv.hcg=function(n){const e=n[1]/100,t=n[2]/100,i=e*t;let s=0;return i<1&&(s=(t-i)/(1-i)),[n[0],i*100,s*100]};ae.hcg.rgb=function(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100;if(t===0)return[i*255,i*255,i*255];const s=[0,0,0],r=e%1*6,o=r%1,a=1-o;let l=0;switch(Math.floor(r)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-t)*i,[(t*s[0]+l)*255,(t*s[1]+l)*255,(t*s[2]+l)*255]};ae.hcg.hsv=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);let s=0;return i>0&&(s=e/i),[n[0],s*100,i*100]};ae.hcg.hsl=function(n){const e=n[1]/100,i=n[2]/100*(1-e)+.5*e;let s=0;return i>0&&i<.5?s=e/(2*i):i>=.5&&i<1&&(s=e/(2*(1-i))),[n[0],s*100,i*100]};ae.hcg.hwb=function(n){const e=n[1]/100,t=n[2]/100,i=e+t*(1-e);return[n[0],(i-e)*100,(1-i)*100]};ae.hwb.hcg=function(n){const e=n[1]/100,i=1-n[2]/100,s=i-e;let r=0;return s<1&&(r=(i-s)/(1-s)),[n[0],s*100,r*100]};ae.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};ae.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};ae.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};ae.gray.hsl=function(n){return[0,0,n[0]]};ae.gray.hsv=ae.gray.hsl;ae.gray.hwb=function(n){return[0,100,n[0]]};ae.gray.cmyk=function(n){return[0,0,0,n[0]]};ae.gray.lab=function(n){return[n[0],0,0]};ae.gray.hex=function(n){const e=Math.round(n[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i};ae.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]};const vc=U_;function UF(){const n={},e=Object.keys(vc);for(let t=e.length,i=0;i<t;i++)n[e[i]]={distance:-1,parent:null};return n}function zF(n){const e=UF(),t=[n];for(e[n].distance=0;t.length;){const i=t.pop(),s=Object.keys(vc[i]);for(let r=s.length,o=0;o<r;o++){const a=s[o],l=e[a];l.distance===-1&&(l.distance=e[i].distance+1,l.parent=i,t.unshift(a))}}return e}function WF(n,e){return function(t){return e(n(t))}}function KF(n,e){const t=[e[n].parent,n];let i=vc[e[n].parent][n],s=e[n].parent;for(;e[s].parent;)t.unshift(e[s].parent),i=WF(vc[e[s].parent][s],i),s=e[s].parent;return i.conversion=t,i}var qF=function(n){const e=zF(n),t={},i=Object.keys(e);for(let s=i.length,r=0;r<s;r++){const o=i[r];e[o].parent!==null&&(t[o]=KF(o,e))}return t};const wf=U_,GF=qF,Co={},ZF=Object.keys(wf);function JF(n){const e=function(...t){const i=t[0];return i==null?i:(i.length>1&&(t=i),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function YF(n){const e=function(...t){const i=t[0];if(i==null)return i;i.length>1&&(t=i);const s=n(t);if(typeof s=="object")for(let r=s.length,o=0;o<r;o++)s[o]=Math.round(s[o]);return s};return"conversion"in n&&(e.conversion=n.conversion),e}ZF.forEach(n=>{Co[n]={},Object.defineProperty(Co[n],"channels",{value:wf[n].channels}),Object.defineProperty(Co[n],"labels",{value:wf[n].labels});const e=GF(n);Object.keys(e).forEach(i=>{const s=e[i];Co[n][i]=YF(s),Co[n][i].raw=JF(s)})});/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class z_ extends pe{constructor(e,t){super(e);const i=`ck-labeled-field-view-${oi()}`,s=`ck-labeled-field-view-status-${oi()}`;this.fieldView=t(this,i,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(o,a)=>o||a);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",o=>!o),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new ou(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new pe(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",s=>!s)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XF extends pe{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new sn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),tabindex:t.to("tabIndex"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById"),"aria-label":t.to("ariaLabel")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=QF(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function QF(n){return!n.value}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eN extends XF{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tN extends eN{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nN extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():gt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Jr extends pe{constructor(e,t,i){super(e);const s=this.bindTemplate;this.buttonView=t,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Gn,this.focusTracker=new sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",r=>!r)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(t,i,s)=>{if(s)if(this.panelPosition==="auto"){const r=Jr._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(t,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(t,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(t,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:i,southWest:s,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:l,northMiddleEast:c,northMiddleWest:u}=Jr.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,s,a,l,e,r,o,c,u,t]:[s,i,l,a,e,o,r,u,c,t]}}Jr.defaultPanelPositions={south:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/2,name:"s"}),southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),southMiddleEast:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)/4,name:"sme"}),southMiddleWest:(n,e)=>({top:n.bottom,left:n.left-(e.width-n.width)*3/4,name:"smw"}),north:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/2,name:"n"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),northMiddleEast:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)/4,name:"nme"}),northMiddleWest:(n,e)=>({top:n.top-e.height,left:n.left-(e.width-n.width)*3/4,name:"nmw"})};Jr._getOptimalPosition=iu;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class iN extends _t{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Fi;return e.content=tm,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ni extends Ge(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const s of i)e.keystrokeHandler.set(s,(r,o)=>{this[t](),o()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(Xu)||null}get last(){return this.focusables.filter(Xu).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const s=t.element===this.focusTracker.focusedElement;return s&&(e=i),s}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;if(e&&this.focusables.getIndex(e)===this.current){this.fire("forwardCycle");return}e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;if(e&&this.focusables.getIndex(e)===this.current){this.fire("backwardCycle");return}e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const i=this.current;if(i===null)return this[e===1?"first":"last"];let s=this.focusables.get(i),r=(i+t+e)%t;do{const o=this.focusables.get(r);if(Xu(o)){s=o;break}r=(r+t+e)%t}while(r!==i);return s}}function Xu(n){return il(n)&&Js(n.element)}function il(n){return"focus"in n&&typeof n.focus=="function"}function sN(n){return il(n)&&"focusCycler"in n&&n.focusCycler instanceof Ni}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class W_ extends pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rN extends pe{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function oN(n){return n.bindTemplate.to(e=>{e.target===n.element&&e.preventDefault()})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function K_(n){if(Array.isArray(n))return{items:n,removeItems:[]};const e={items:[],removeItems:[]};return n?{...e,...n}:e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const aN={alignLeft:Qe.alignLeft,bold:Qe.bold,importExport:Qe.importExport,paragraph:Qe.paragraph,plus:Qe.plus,text:Qe.text,threeVerticalDots:Qe.threeVerticalDots,pilcrow:Qe.pilcrow,dragIndicator:Qe.dragIndicator};class q_ extends pe{constructor(e,t){super(e);const i=this.bindTemplate,s=this.t;this.options=t||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new sn,this.keystrokes=new Gn,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new lN(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r=e.uiLanguageDirection==="rtl";this._focusCycler=new Ni({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:oN(this)}}),this._behavior=this.options.shouldGroupWhenFull?new uN(this):new cN(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){const s=K_(e),r=i||s.removeItems;return this._cleanItemsConfiguration(s.items,t,r).map(a=>ct(a)?this._createNestedToolbarDropdown(a,t,r):a==="|"?new W_:a==="-"?new rN:t.create(a)).filter(a=>!!a)}_cleanItemsConfiguration(e,t,i){const s=e.filter((r,o,a)=>r==="|"?!0:i.indexOf(r)!==-1?!1:r==="-"?this.options.shouldGroupWhenFull?(gt("toolbarview-line-break-ignored-when-grouping-items",a),!1):!0:!ct(r)&&!t.has(r)?(gt("toolbarview-item-unavailable",{item:r}),!1):!0);return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const t=o=>o!=="-"&&o!=="|",i=e.length,s=e.findIndex(t);if(s===-1)return[];const r=i-e.slice().reverse().findIndex(t);return e.slice(s,r).filter((o,a,l)=>t(o)?!0:!(a>0&&l[a-1]===o))}_createNestedToolbarDropdown(e,t,i){let{label:s,icon:r,items:o,tooltip:a=!0,withText:l=!1}=e;if(o=this._cleanItemsConfiguration(o,t,i),!o.length)return null;const c=this.locale,u=sm(c);return s||gt("toolbarview-nested-toolbar-dropdown-missing-label",e),u.class="ck-toolbar__nested-toolbar-dropdown",u.buttonView.set({label:s,tooltip:a,withText:!!l}),r!==!1?u.buttonView.icon=aN[r]||r||Qe.threeVerticalDots:u.buttonView.withText=!0,Z_(u,()=>u.toolbarView._buildItemsFromConfig(o,t,i)),u}}class lN extends pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class cN{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>il(i)?i:null),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class uN{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(t,i)=>{const s=i.index,r=Array.from(i.added);for(const o of i.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=s;o<s+r.length;o++){const a=r[o-s];o>this.ungroupedItems.length?this.groupedItems.add(a,o-this.ungroupedItems.length):this.ungroupedItems.add(a,o)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Js(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new Ae(e.lastChild),s=new Ae(e);if(!this.cachedPadding){const r=ce.window.getComputedStyle(e),o=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(r[o])}return t==="ltr"?i.right>s.right-this.cachedPadding:i.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Xe(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new W_),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=sm(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Z_(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Qe.threeVerticalDots}),i}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{il(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yr extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nm extends pe{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zl extends pe{constructor(e,t=new ou){super(e);const i=this.bindTemplate,s=new im(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,s]),s.set({role:"group",ariaLabelledBy:t.id}),s.focusTracker.destroy(),s.keystrokes.destroy(),this.items=s.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",i.if("isVisible","ck-hidden",r=>!r)]},children:this.children})}focus(){if(this.items){const e=this.items.find(t=>!(t instanceof nm));e&&e.focus()}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class im extends pe{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new Vi,this.items=this.createCollection(),this.focusTracker=new sn,this.keystrokes=new Gn,this._focusCycler=new Ni({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof zl?this._registerFocusableItemsGroup(e):e instanceof Yr&&this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const i of t.removed)i instanceof zl?this._deregisterFocusableItemsGroup(i):i instanceof Yr&&this._deregisterFocusableListItem(i);for(const i of Array.from(t.added).reverse())i instanceof zl?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(const s of i.removed)this._deregisterFocusableListItem(s);for(const s of Array.from(i.added).reverse())this._registerFocusableListItem(s,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((s,r)=>{const o=typeof t<"u"?t+r:void 0;this._registerFocusableListItem(s,o)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class G_ extends pe{constructor(e,t){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Gn,this.focusTracker=new sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new _t;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new _t,t=e.bindTemplate;return e.icon=tm,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function sm(n,e=iN){const t=typeof e=="function"?new e(n):e,i=new nN(n),s=new Jr(n,t,i);return t.bind("isEnabled").to(s),t instanceof G_?t.arrowView.bind("isOn").to(s,"isOpen"):t.bind("isOn").to(s,"isOpen"),fN(s),s}function Z_(n,e,t={}){n.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),n.isOpen?F1(n,e,t):n.once("change:isOpen",()=>F1(n,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&J_(n,()=>n.toolbarView.items.find(i=>i.isOn))}function F1(n,e,t){const i=n.locale,s=i.t,r=n.toolbarView=new q_(i),o=typeof e=="function"?e():e;r.ariaLabel=t.ariaLabel||s("Dropdown toolbar"),t.maxWidth&&(r.maxWidth=t.maxWidth),t.class&&(r.class=t.class),t.isCompact&&(r.isCompact=t.isCompact),t.isVertical&&(r.isVertical=!0),o instanceof Vi?r.items.bindTo(o).using(a=>a):r.items.addMany(o),n.panelView.children.add(r),r.items.delegate("execute").to(n)}function dN(n,e,t={}){n.isOpen?N1(n,e,t):n.once("change:isOpen",()=>N1(n,e,t),{priority:"highest"}),J_(n,()=>n.listView.items.find(i=>i instanceof Yr?i.children.first.isOn:!1))}function N1(n,e,t){const i=n.locale,s=n.listView=new im(i),r=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel,s.role=t.role,Y_(n,s.items,r,i),n.panelView.children.add(s),s.items.delegate("execute").to(n)}function J_(n,e){n.on("change:isOpen",()=>{if(!n.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():gt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:$s.low-10})}function fN(n){hN(n),mN(n),pN(n),gN(n),bN(n),vN(n)}function hN(n){n.on("render",()=>{Uh({emitter:n,activator:()=>n.isOpen,callback:()=>{n.isOpen=!1},contextElements:()=>[n.element,...n.focusTracker._elements]})})}function mN(n){n.on("execute",e=>{e.source instanceof em||(n.isOpen=!1)})}function pN(n){n.focusTracker.on("change:isFocused",(e,t,i)=>{n.isOpen&&!i&&(n.isOpen=!1)})}function gN(n){n.keystrokes.set("arrowdown",(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set("arrowup",(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function bN(n){n.on("change:isOpen",(e,t,i)=>{if(i)return;const s=n.panelView.element;s&&s.contains(ce.document.activeElement)&&n.buttonView.focus()})}function vN(n){n.on("change:isOpen",(e,t,i)=>{i&&n.panelView.focus()},{priority:"low"})}function Y_(n,e,t,i){e.bindTo(t).using(s=>{if(s.type==="separator")return new nm(i);if(s.type==="group"){const r=new zl(i);return r.set({label:s.label}),Y_(n,r.items,s.items,i),r.items.delegate("execute").to(n),r}else if(s.type==="button"||s.type==="switchbutton"){const r=new Yr(i);let o;return s.type==="button"?(o=new _t(i),o.bind("ariaChecked").to(o,"isOn")):o=new em(i),o.bind(...Object.keys(s.model)).to(s.model),o.delegate("execute").to(r),r.children.add(o),r}return null})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const X_=(n,e,t)=>{const i=new tN(n.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(n,"isEnabled",s=>!s),i.bind("hasError").to(n,"errorText",s=>!!s),i.on("input",()=>{n.errorText=null}),n.bind("isEmpty","isFocused","placeholder").to(i),i};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yN{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Qu(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new k("componentfactory-item-missing",this,{name:e});return this._components.get(Qu(e)).callback(this.editor.locale)}has(e){return this._components.has(Qu(e))}}function Qu(n){return String(n).toLowerCase()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class wN extends pe{constructor(e,t={}){super(e);const i=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",i.to("class")]},children:this.children}),t.icon&&(this.iconView=new Fi,this.iconView.content=t.icon,this.children.add(this.iconView));const s=new pe(e);s.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:i.to("label")}]}),this.children.add(s)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function _N(n){class e extends n{constructor(...i){super(...i),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(ce.document,"mouseup",this._onDragEndBound),this.listenTo(ce.document,"touchend",this._onDragEndBound),this.listenTo(ce.document,"mousemove",this._onDragBound),this.listenTo(ce.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(ce.document,"mouseup",this._onDragEndBound),this.stopListening(ce.document,"touchend",this._onDragEndBound),this.stopListening(ce.document,"mousemove",this._onDragBound),this.stopListening(ce.document,"touchmove",this._onDragBound)}_onDragStart(i,s){if(!this._isHandleElementPressed(s))return;this._attachDragListeners();let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),this._lastDraggingCoordinates={x:r,y:o},this.isDragging=!0}_onDrag(i,s){if(!this.isDragging){this._detachDragListeners();return}let r=0,o=0;s instanceof MouseEvent?(r=s.clientX,o=s.clientY):(r=s.touches[0].clientX,o=s.touches[0].clientY),s.preventDefault(),this.fire("drag",{deltaX:Math.round(r-this._lastDraggingCoordinates.x),deltaY:Math.round(o-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:r,y:o}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return this.dragHandleElement?this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target):!1}}return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class CN extends pe{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Gn,this._focusTracker=new sn,this._focusables=new Vi,this.focusCycler=new Ni({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const i=new _t(this.locale);let s;i.on("execute",()=>t.onExecute()),t.onCreate&&t.onCreate(i);for(s in t)s!="onExecute"&&s!="onCreate"&&i.set(s,t[s]);this.children.add(i)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kN extends pe{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Mn={SCREEN_CENTER:"screen-center",EDITOR_CENTER:"editor-center",EDITOR_TOP_SIDE:"editor-top-side",EDITOR_TOP_CENTER:"editor-top-center",EDITOR_BOTTOM_CENTER:"editor-bottom-center",EDITOR_ABOVE_CENTER:"editor-above-center",EDITOR_BELOW_CENTER:"editor-below-center"},H1=ao("px");class Xr extends _N(pe){constructor(e,{getCurrentDomRoot:t,getViewportOffset:i}){super(e),this.wasMoved=!1;const s=this.bindTemplate,r=e.t;this.set("className",""),this.set("ariaLabel",r("Editor dialog")),this.set("isModal",!1),this.set("position",Mn.SCREEN_CENTER),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=t,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Gn,this.focusTracker=new sn,this._focusables=new Vi,this._focusCycler=new Ni({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",s.if("isModal","ck-dialog-overlay__transparent",o=>!o),s.if("_isVisible","ck-hidden",o=>!o)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",s.to("className")],role:"dialog","aria-label":s.to("ariaLabel"),style:{top:s.to("_top",o=>H1(o)),left:s.to("_left",o=>H1(o)),visibility:s.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,t)=>{this.fire("close",{source:"escKeyPress"}),t()}),this.on("drag",(e,{deltaX:t,deltaY:i})=>{this.wasMoved=!0,this.moveBy(t,i)}),this.listenTo(ce.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(ce.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,t,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:e,title:t,hasCloseButton:i=!0,content:s,actionButtons:r}){t&&(this.headerView=new wN(this.locale,{icon:e}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=t,this.ariaLabel=t,this.parts.add(this.headerView,0)),s&&(s instanceof pe&&(s=[s]),this.contentView=new kN(this.locale),this.contentView.children.addMany(s),this.parts.add(this.contentView)),r&&(this.actionsView=new CN(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const i=this._getViewportRect(),s=this._getDialogRect();e+s.width>i.right&&(e=i.right-s.width),e<i.left&&(e=i.left),t<i.top&&(t=i.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t=this.position,i;this._getCurrentDomRoot()?i=this._getVisibleDomRootRect(e):t=Mn.SCREEN_CENTER;const s=Xr.defaultOffset,r=this._getDialogRect();switch(t){case Mn.EDITOR_TOP_SIDE:{if(i){const o=this.locale.contentLanguageDirection==="ltr"?i.right-r.width-s:i.left+s;this.moveTo(o,i.top+s)}else this._moveOffScreen();break}case Mn.EDITOR_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),Math.round(i.top+i.height/2-r.height/2)):this._moveOffScreen();break}case Mn.SCREEN_CENTER:{this.moveTo(Math.round((e.width-r.width)/2),Math.round((e.height-r.height)/2));break}case Mn.EDITOR_TOP_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.top+s):this._moveOffScreen();break}case Mn.EDITOR_BOTTOM_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.bottom-r.height-s):this._moveOffScreen();break}case Mn.EDITOR_ABOVE_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.top-r.height-s):this._moveOffScreen();break}case Mn.EDITOR_BELOW_CENTER:{i?this.moveTo(Math.round(i.left+i.width/2-r.width/2),i.bottom+s):this._moveOffScreen();break}}}_getVisibleDomRootRect(e){let t=new Ae(this._getCurrentDomRoot()).getVisible();if(t){if(t=e.getIntersection(t),!t)return null}else return null;return t}_getDialogRect(){return new Ae(this.element.firstElementChild)}_getViewportRect(){return EN(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)il(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element),sN(t)&&(this.listenTo(t.focusCycler,"forwardCycle",i=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}),this.listenTo(t.focusCycler,"backwardCycle",i=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&i.stop()}))})}_createCloseButton(){const e=new _t(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:Qe.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}}Xr.defaultOffset=15;function EN(n){n=Object.assign({top:0,bottom:0,left:0,right:0},n);const e=new Ae(ce.window);return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e.left+=n.left,e.right-=n.right,e.width-=n.left+n.right,e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bi extends Te{static get pluginName(){return"Dialog"}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",(e,t)=>{this._show(t)}),this.on("show",(e,t)=>{t.onShow&&t.onShow(this)},{priority:"low"}),this.on("hide",()=>{bi._visibleDialogPlugin&&bi._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(t,i)=>{!this.isOpen||this.view.isModal||(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),i())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const i of t)i.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:t,title:i,hasCloseButton:s=!0,content:r,actionButtons:o,className:a,isModal:l,position:c,onHide:u}){const d=this.editor;this.view=new Xr(d.locale,{getCurrentDomRoot:()=>d.editing.view.getDomRoot(d.model.document.selection.anchor.root.rootName),getViewportOffset:()=>d.ui.viewportOffset});const f=this.view;f.on("close",()=>{this.hide()}),d.ui.view.body.add(f),d.ui.focusTracker.add(f.element),d.keystrokes.listenTo(f.element),c||(c=l?Mn.SCREEN_CENTER:Mn.EDITOR_CENTER),f.set({position:c,_isVisible:!0,className:a,isModal:l}),f.setupParts({icon:t,title:i,hasCloseButton:s,content:r,actionButtons:o}),this.id=e,u&&(this._onHide=u),this.isOpen=!0,bi._visibleDialogPlugin=this}hide(){bi._visibleDialogPlugin&&bi._visibleDialogPlugin.fire(`hide:${bi._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,bi._visibleDialogPlugin=null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const j1=ao("px"),U1=ce.document.body,TN={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class tn extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",i=>`ck-balloon-panel_${i}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",j1),left:t.to("left",j1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=tn.defaultPositions,i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:U1,fitInViewport:!0},e),s=tn._getOptimalPosition(i)||TN,r=parseInt(s.left),o=parseInt(s.top),a=s.name,l=s.config||{},{withArrow:c=!0}=l;this.top=o,this.left=r,this.position=a,this.withArrow=c}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=_f(e.target),i=e.limiter?_f(e.limiter):U1;this.listenTo(ce.document,"scroll",(s,r)=>{const o=r.target,a=t&&o.contains(t),l=i&&o.contains(i);(a||l||!t||!i)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(ce.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ce.document,"scroll"),this.stopListening(ce.window,"resize")}}tn.arrowSideOffset=25;tn.arrowHeightOffset=10;tn.stickyVerticalOffset=20;tn._getOptimalPosition=iu;tn.defaultPositions=Q_();function _f(n){return Zs(n)?n:nu(n)?n.commonAncestorContainer:typeof n=="function"?_f(n()):null}function Q_(n={}){const{sideOffset:e=tn.arrowSideOffset,heightOffset:t=tn.arrowHeightOffset,stickyVerticalOffset:i=tn.stickyVerticalOffset,config:s}=n;return{northWestArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(a,l)=>({top:r(a,l),left:a.left-l.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left-l.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(a,l)=>({top:r(a,l),left:a.left+a.width/2-l.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(a,l)=>({top:r(a,l),left:a.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(a,l)=>({top:r(a,l),left:a.right-l.width*.25-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(a,l)=>({top:r(a,l),left:a.right-l.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(a,l)=>({top:r(a,l),left:a.right-l.width*.75+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(a,l)=>({top:r(a,l),left:a.right-l.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:a=>({top:o(a),left:a.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(a,l)=>({top:o(a),left:a.left-l.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(a,l)=>({top:o(a),left:a.left-l.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:a=>({top:o(a),left:a.left+a.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(a,l)=>({top:o(a),left:a.left+a.width/2-l.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:a=>({top:o(a),left:a.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(a,l)=>({top:o(a),left:a.right-l.width*.25-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(a,l)=>({top:o(a),left:a.right-l.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(a,l)=>({top:o(a),left:a.right-l.width*.75+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(a,l)=>({top:o(a),left:a.right-l.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.left-l.width-t,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(a,l)=>({top:a.top+a.height/2-l.height/2,left:a.right+t,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(a,l,c,u)=>{const d=u||c;return!a.getIntersection(d)||d.height-a.height>i?null:{top:d.top+i,left:a.left+a.width/2-l.width/2,name:"arrowless",config:{withArrow:!1,...s}}}};function r(a,l){return a.top-l.height-t}function o(a){return a.bottom+t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const z1="ck-tooltip";class xt extends qn(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,xt._editors.add(e),xt._instance)return xt._instance;xt._instance=this,this.tooltipTextView=new pe(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new tn(e.locale),this.balloonPanelView.class=z1,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=SN(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=Kr(this._pinTooltip,600),this._unpinTooltipDebounced=Kr(this._unpinTooltip,400),this.listenTo(ce.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(ce.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ce.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ce.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ce.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ce.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;xt._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),xt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),xt._instance=null)}static getPositioningFunctions(e){const t=xt.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){t.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,{target:t}){const i=ed(t);if(!i){e.name==="focus"&&this._unpinTooltip();return}i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,W1(i)))}_onLeaveOrBlur(e,{target:t,relatedTarget:i}){if(e.name==="mouseleave"){if(!Zs(t))return;const s=this.balloonPanelView.element,r=s&&(s===i||s.contains(i)),o=!r&&t===s;if(r){this._unpinTooltipDebounced.cancel();return}if(!o&&this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const a=ed(t),l=ed(i);(o||a&&a!==l)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:i,cssClass:s}){this._unpinTooltip();const r=Ii(xt._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:xt.getPositioningFunctions(i)}),this._resizeObserver=new Xe(e,()=>{Js(e)||this._unpinTooltip()}),this._mutationObserver.attach(e),this.balloonPanelView.class=[z1,s].filter(o=>o).join(" ");for(const o of xt._editors)this.listenTo(o.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of xt._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=W1(this._currentElementWithTooltip);if(!Js(this._currentElementWithTooltip)||!e.text){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:xt.getPositioningFunctions(e.position)})}}xt.defaultBalloonPositions=Q_({heightOffset:5,sideOffset:13});xt._editors=new Set;xt._instance=null;function ed(n){return Zs(n)?n.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function W1(n){return{text:n.dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}}function SN(n){const e=new MutationObserver(()=>{n()});return{attach(t){e.observe(t,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){e.disconnect()}}}const PN=`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const AN=53,xN=10,ON=50,IN=350,RN="Powered by";class MN extends qn(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=uc(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor,t=!!e.config.get("ui.poweredBy.forceVisible");/* istanbul ignore next -- @preserve */!t&&kL(e.config.get("licenseKey"))==="VALID"||e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,s,r)=>{this._updateLastFocusedEditableElement(),r?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,s,r)=>{this._updateLastFocusedEditableElement(),r&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new tn,i=t2(e),s=new LN(e.locale,i.label);t.content.add(s),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=BN(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i){this._lastFocusedEditableElement=null;return}const s=Array.from(e.ui.getEditableElementsNames()).map(r=>e.ui.getEditableElement(r));s.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=s[0]}}class LN extends pe{constructor(e,t){super(e);const i=new Fi,s=this.bindTemplate;i.set({content:PN,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:AN+"px",height:xN+"px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:s.to(r=>r.preventDefault())}}]})}}function BN(n,e){const t=t2(n),i=t.side==="right"?DN(e,t):VN(e,t);return{target:e,positions:[i]}}function DN(n,e){return e2(n,e,(t,i)=>t.left+t.width-i.width-e.horizontalOffset)}function VN(n,e){return e2(n,e,t=>t.left+e.horizontalOffset)}function e2(n,e,t){return(i,s)=>{const r=new Ae(n);if(r.width<IN||r.height<ON)return null;let o;e.position==="inside"?o=r.bottom-s.height:o=r.bottom-s.height/2,o-=e.verticalOffset;const a=t(r,s),c=i.clone().moveTo(a,o).getIntersection(s.clone().moveTo(a,o)).getVisible();return!c||c.getArea()<s.getArea()?null:{top:o,left:a,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function t2(n){const e=n.config.get("ui.poweredBy"),t=e&&e.position||"border";return{position:t,label:RN,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:n.locale.contentLanguageDirection==="ltr"?"right":"left",...e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const K1={POLITE:"polite",ASSERTIVE:"assertive"};class $N{constructor(e){this.editor=e,e.once("ready",()=>{for(const t of Object.values(K1))this.announce("",t)})}announce(e,t=K1.POLITE){const i=this.editor;if(!i.ui.view)return;this.view||(this.view=new FN(i.locale),i.ui.view.body.add(this.view));const{politeness:s,isUnsafeHTML:r}=typeof t=="string"?{politeness:t}:t;let o=this.view.regionViews.find(a=>a.politeness===s);o||(o=new NN(i,s),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:r})}}class FN extends pe{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class NN extends pe{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:t}){if(!e.trim().length)return;const i=document.createElement("li");t?this._domConverter.setContentOf(i,e):i.innerText=e,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HN extends pt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new yN(e),this.focusTracker=new sn,this.tooltipManager=new xt(e),this.poweredBy=new MN(e),this.ariaLiveAnnouncer=new $N(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let i,s;e.keystrokes.set("Alt+F10",(r,o)=>{const a=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(a)&&!Array.from(t.domRoots.values()).includes(a)&&(i=a);const l=this._getCurrentFocusedToolbarDefinition();(!l||!s)&&(s=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<s.length;c++){const u=s.shift();if(s.push(u),u!==l&&this._focusFocusableCandidateToolbar(u)){l&&l.options.afterBlur&&l.options.afterBlur();break}}o()}),e.keystrokes.set("Esc",(r,o)=>{const a=this._getCurrentFocusedToolbarDefinition();a&&(i?(i.focus(),i=null):e.editing.view.focus(),a.options.afterBlur&&a.options.afterBlur(),o())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:s}=t;(Js(i.element)||s.beforeFocus)&&e.push(t)}return e.sort((t,i)=>q1(t)-q1(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),Js(t.element)?(t.focus(),!0):!1}_handleScrollToTheSelection(e,t){const i={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}}function q1(n){const{toolbarView:e,options:t}=n;let i=10;return Js(e.element)&&i--,t.isContextual&&i--,i}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jN extends pe{constructor(e){super(e),this.body=new VF(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class UN extends jN{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new ou;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class zN extends pe{constructor(e,t,i){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?i(this):t(this);function t(s){e.change(r=>{const o=e.document.getRoot(s.name);r.addClass(s.isFocused?"ck-focused":"ck-blurred",o),r.removeClass(s.isFocused?"ck-blurred":"ck-focused",o)})}function i(s){e.once("change:isRenderingInProgress",(r,o,a)=>{a?i(s):t(s)})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class WN extends zN{constructor(e,t,i,s={}){super(e,t,i);const r=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class KN extends pt(){constructor(e,t){super(),t&&tw(this,t),e&&this.set(e)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Sl=ao("px");class G1 extends Te{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,s=t.document.selection.editableElement;return s?t.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new k("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new k("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new k("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new tn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new qN(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,s)=>!s&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,s)=>{if(s<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new GN(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:s=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class qN extends pe{constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new sn,this.buttonPrevView=this._createButtonView(t("Previous"),Qe.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),Qe.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new _t(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class GN extends pe{constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:i.to("top",Sl),left:i.to("left",Sl),width:i.to("width",Sl),height:i.to("height",Sl)}},children:this.content}),this.on("change:numberOfPanels",(s,r,o,a)=>{o>a?this._addPanels(o-a):this._removePanels(a-o),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new pe;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:s}=new Ae(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:s})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const pr=ao("px");class ZN extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ii({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?pr(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new ii({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?pr(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",i=>i&&pr(i)),bottom:t.to("_stickyBottomOffset",i=>i&&pr(i)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(ce.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive){this._unstick();return}const e=new Ae(this.limiterElement);let t=e.getVisible();if(t){const i=new Ae(ce.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,t=t.getIntersection(i)}if(t&&e.top<t.top){const i=t.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const s=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-s>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(s):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=pr(-ce.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=pr(-ce.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ae(this.contentPanelElement)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class JN extends z_{constructor(e,t){const i=e.t,s=Object.assign({},{showResetButton:!0,showIcon:!0,creator:X_},t);super(e,s.creator),this.label=t.label,this._viewConfig=s,this._viewConfig.showIcon&&(this.iconView=new Fi,this.iconView.content=Qe.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new _t(e),this.resetButtonView.set({label:i("Clear"),icon:Qe.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",r=>!r),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YN extends pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class XN extends pe{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new sn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ni({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class QN extends pe{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new sn,this.keystrokes=new Gn,this.resultsView=new XN(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new YN,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ni({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:s,totalItemsCount:r})=>{this.resultsCount=s,this.totalItemsCount=r}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(PM(e),"ig"):null,i=this.filteredView.filter(t);this.fire("search",{query:e,...i})}_createSearchTextQueryView(){const e=new JN(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;this.on("search",(s,r)=>{if(r.resultsCount)t.set({isVisible:!1});else{const o=this._config.infoView&&this._config.infoView.text;let a,l;r.totalItemsCount?o&&o.notFound?(a=o.notFound.primary,l=o.notFound.secondary):(a=e("No results found"),l=""):o&&o.noSearchableItems?(a=o.noSearchableItems.primary,l=o.noSearchableItems.secondary):(a=e("No searchable items"),l=""),t.set({primaryText:i(a,r),secondaryText:i(l,r),isVisible:!0})}});function i(s,{query:r,resultsCount:o,totalItemsCount:a}){return typeof s=="function"?s(r,o,a):s}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class La extends QN{constructor(e,t){super(e,t),this._config=t;const i=ao("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const s=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[s.if("isVisible","ck-hidden",r=>!r),s.to("_position",r=>`ck-search__results_${r}`)],style:{width:s.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(r,o,a)=>{this._updateResultsVisibility(),a?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(r,o)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,o())}),this.listenTo(ce.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(r,{value:o})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=o,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ae(this.queryView.fieldView.element).width;const e=La._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:La.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=typeof this._config.queryMinChars>"u"?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}}La.defaultResultsPositions=[n=>({top:n.bottom,left:n.left,name:"s"}),(n,e)=>({top:n.top-e.height,left:n.left,name:"n"})];La._getOptimalPosition=iu;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class eH extends _t{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i)),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Fi;return e.content=tm,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rm extends Yr{constructor(e,t){super(e);const i=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:i.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Pl=5,ko={toggleMenusAndFocusItemsOnHover(n){n.on("menu:mouseenter",e=>{if(n.isOpen){for(const t of n.menus){const i=e.path[0],s=i instanceof rm&&i.children.first===t;t.isOpen=(e.path.includes(t)||s)&&t.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(n){const e=n.locale.uiLanguageDirection==="rtl";n.on("menu:arrowright",i=>{t(i.source,e?-1:1)}),n.on("menu:arrowleft",i=>{t(i.source,e?1:-1)});function t(i,s){const r=n.children.getIndex(i),o=i.isOpen,a=n.children.length,l=n.children.get((r+a+s)%a);i.isOpen=!1,o&&(l.isOpen=!0),l.buttonView.focus()}},closeMenusWhenTheBarCloses(n){n.on("change:isOpen",()=>{n.isOpen||n.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(n){n.on("menu:change:isOpen",(e,t,i)=>{i&&n.menus.filter(s=>e.source.parentMenuView===s.parentMenuView&&e.source!==s&&s.isOpen).forEach(s=>{s.isOpen=!1})})},closeOnClickOutside(n){Uh({emitter:n,activator:()=>n.isOpen,callback:()=>n.close(),contextElements:()=>n.children.map(e=>e.element)})}},Es={openAndFocusPanelOnArrowDownKey(n){n.keystrokes.set("arrowdown",(e,t)=>{n.focusTracker.focusedElement===n.buttonView.element&&(n.isOpen||(n.isOpen=!0),n.panelView.focus(),t())})},openOnArrowRightKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";n.keystrokes.set(e,(t,i)=>{n.focusTracker.focusedElement!==n.buttonView.element||!n.isEnabled||(n.isOpen||(n.isOpen=!0),n.panelView.focus(),i())})},openOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!0,n.panelView.focus()})},toggleOnButtonClick(n){n.buttonView.on("execute",()=>{n.isOpen=!n.isOpen,n.isOpen&&n.panelView.focus()})},closeOnArrowLeftKey(n){const e=n.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";n.keystrokes.set(e,(t,i)=>{n.isOpen&&(n.isOpen=!1,n.focus(),i())})},closeOnEscKey(n){n.keystrokes.set("esc",(e,t)=>{n.isOpen&&(n.isOpen=!1,n.focus(),t())})},closeOnParentClose(n){n.parentMenuView.on("change:isOpen",(e,t,i)=>{!i&&e.source===n.parentMenuView&&(n.isOpen=!1)})}},tH={southEast:n=>({top:n.bottom,left:n.left,name:"se"}),southWest:(n,e)=>({top:n.bottom,left:n.left-e.width+n.width,name:"sw"}),northEast:(n,e)=>({top:n.top-e.height,left:n.left,name:"ne"}),northWest:(n,e)=>({top:n.top-e.height,left:n.left-e.width+n.width,name:"nw"}),eastSouth:n=>({top:n.top,left:n.right-Pl,name:"es"}),eastNorth:(n,e)=>({top:n.top-e.height,left:n.right-Pl,name:"en"}),westSouth:(n,e)=>({top:n.top,left:n.left-e.width+Pl,name:"ws"}),westNorth:(n,e)=>({top:n.top-e.height,left:n.left-e.width+Pl,name:"wn"})},nH=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function iH(n){let e;return!("items"in n)||!n.items?e={items:Kn(nH),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...n}:e={items:n.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...n},e}function sH({normalizedConfig:n,locale:e,componentFactory:t}){const i=Kn(n);return rH(n,i),oH(n,i),aH(n,i,t),n2(n,i),lH(i,e),i}function rH(n,e){const t=e.removeItems,i=[];e.items=e.items.filter(({menuId:s})=>t.includes(s)?(i.push(s),!1):!0),co(e.items,s=>{s.groups=s.groups.filter(({groupId:r})=>t.includes(r)?(i.push(r),!1):!0);for(const r of s.groups)r.items=r.items.filter(o=>{const a=i2(o);return t.includes(a)?(i.push(a),!1):!0})});for(const s of t)i.includes(s)||gt("menu-bar-item-could-not-be-removed",{menuBarConfig:n,itemName:s})}function oH(n,e){const t=e.addItems,i=[];for(const s of t){const r=dH(s.position),o=fH(s.position);if(cH(s))if(!o)r==="start"?(e.items.unshift(s.menu),i.push(s)):r==="end"&&(e.items.push(s.menu),i.push(s));else{const a=e.items.findIndex(l=>l.menuId===o);a!=-1?r==="before"?(e.items.splice(a,0,s.menu),i.push(s)):r==="after"&&(e.items.splice(a+1,0,s.menu),i.push(s)):Z1(e,s.menu,o,r)&&i.push(s)}else uH(s)?co(e.items,a=>{if(a.menuId===o)r==="start"?(a.groups.unshift(s.group),i.push(s)):r==="end"&&(a.groups.push(s.group),i.push(s));else{const l=a.groups.findIndex(c=>c.groupId===o);l!==-1&&(r==="before"?(a.groups.splice(l,0,s.group),i.push(s)):r==="after"&&(a.groups.splice(l+1,0,s.group),i.push(s)))}}):Z1(e,s.item,o,r)&&i.push(s)}for(const s of t)i.includes(s)||gt("menu-bar-item-could-not-be-added",{menuBarConfig:n,addedItemConfig:s})}function Z1(n,e,t,i){let s=!1;return co(n.items,r=>{for(const{groupId:o,items:a}of r.groups){if(s)return;if(o===t)i==="start"?(a.unshift(e),s=!0):i==="end"&&(a.push(e),s=!0);else{const l=a.findIndex(c=>i2(c)===t);l!==-1&&(i==="before"?(a.splice(l,0,e),s=!0):i==="after"&&(a.splice(l+1,0,e),s=!0))}}}),s}function aH(n,e,t){co(e.items,i=>{for(const s of i.groups)s.items=s.items.filter(r=>{const o=typeof r=="string"&&!t.has(r);return o&&!e.isUsingDefaultConfig&&gt("menu-bar-item-unavailable",{menuBarConfig:n,parentMenuConfig:Kn(i),componentName:r}),!o})})}function n2(n,e){const t=e.isUsingDefaultConfig;let i=!1;if(e.items=e.items.filter(s=>s.groups.length?!0:(td(n,s,t),!1)),!e.items.length){td(n,n,t);return}co(e.items,s=>{s.groups=s.groups.filter(r=>r.items.length?!0:(i=!0,!1));for(const r of s.groups)r.items=r.items.filter(o=>s2(o)&&!o.groups.length?(td(n,o,t),i=!0,!1):!0)}),i&&n2(n,e)}function td(n,e,t){t||gt("menu-bar-menu-empty",{menuBarConfig:n,emptyMenuConfig:e})}function lH(n,e){const t=e.t,i={File:t({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:t({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:t({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:t({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:t({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:t({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:t({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:t({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:t({string:"Font",id:"MENU_BAR_MENU_FONT"})};co(n.items,s=>{s.label in i&&(s.label=i[s.label])})}function co(n,e){if(Array.isArray(n))for(const i of n)t(i);function t(i){e(i);for(const s of i.groups)for(const r of s.items)s2(r)&&t(r)}}function cH(n){return typeof n=="object"&&"menu"in n}function uH(n){return typeof n=="object"&&"group"in n}function dH(n){return n.startsWith("start")?"start":n.startsWith("end")?"end":n.startsWith("after")?"after":"before"}function fH(n){const e=n.match(/^[^:]+:(.+)/);return e?e[1]:null}function i2(n){return typeof n=="string"?n:n.menuId}function s2(n){return typeof n=="object"&&"menuId"in n}function hH(n,e){const t=e.element;n.ui.focusTracker.add(t),n.keystrokes.listenTo(t);const i=iH(n.config.get("menuBar")||{});e.fillFromConfig(i,n.ui.componentFactory),n.keystrokes.set("Esc",(s,r)=>{t.contains(n.ui.focusTracker.focusedElement)&&(n.editing.view.focus(),r())}),n.keystrokes.set("Alt+F9",(s,r)=>{t.contains(n.ui.focusTracker.focusedElement)||(e.focus(),r())})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mH extends pe{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",i=>`ck-menu-bar__menu__panel_position_${i}`),t.if("isVisible","ck-hidden",i=>!i)],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class js extends pe{constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new eH(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new mH(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Gn,this.focusTracker=new sn,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",i=>!i),t.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Es.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Es.openOnButtonClick(this),Es.openOnArrowRightKey(this),Es.closeOnArrowLeftKey(this),Es.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Es.openAndFocusPanelOnArrowDownKey(this),Es.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,t)=>{this.fire("arrowright"),t()}),this.keystrokes.set("arrowleft",(e,t)=>{this.fire("arrowleft"),t()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,t,i)=>{if(!i)return;const s=js._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=s?s.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:i,northWest:s,westSouth:r,eastSouth:o,westNorth:a,eastNorth:l}=tH;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[o,l,r,a]:[e,t,i,s]:this.parentMenuView?[r,a,o,l]:[t,e,s,i]}}js._getOptimalPosition=iu;/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Cf extends im{constructor(e){super(e),this.role="menu"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bs extends _t{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pH extends FF{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const J1=["mouseenter","arrowleft","arrowright","change:isOpen"];class gH extends pe{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const i=this.locale,r=sH({normalizedConfig:e,locale:i,componentFactory:t}).items.map(o=>this._createMenu({componentFactory:t,menuDefinition:o}));this.children.addMany(r)}render(){super.render(),ko.toggleMenusAndFocusItemsOnHover(this),ko.closeMenusWhenTheBarCloses(this),ko.closeMenuWhenAnotherOnTheSameLevelOpens(this),ko.focusCycleMenusOnArrows(this),ko.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,t=null){t?(e.delegate(...J1).to(t),e.parentMenuView=t):e.delegate(...J1).to(this,i=>"menu:"+i),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:t,parentMenuView:i}){const s=this.locale,r=new js(s);return this.registerMenu(r,i),r.buttonView.set({label:t.label}),r.once("change:isOpen",()=>{const o=new Cf(s);o.ariaLabel=t.label,r.panelView.children.add(o),o.items.addMany(this._createMenuItems({menuDefinition:t,parentMenuView:r,componentFactory:e}))}),r}_createMenuItems({menuDefinition:e,parentMenuView:t,componentFactory:i}){const s=this.locale,r=[];for(const o of e.groups){for(const a of o.items){const l=new rm(s,t);if(ct(a))l.children.add(this._createMenu({componentFactory:i,menuDefinition:a,parentMenuView:t}));else{const c=this._createMenuItemContentFromFactory({componentName:a,componentFactory:i,parentMenuView:t});if(!c)continue;l.children.add(c)}r.push(l)}o!==e.groups[e.groups.length-1]&&r.push(new nm(s))}return r}_createMenuItemContentFromFactory({componentName:e,parentMenuView:t,componentFactory:i}){const s=i.create(e);return s instanceof js||s instanceof bs||s instanceof pH?(this._registerMenuTree(s,t),s.on("execute",()=>{this.close()}),s):(gt("menu-bar-component-unsupported",{componentName:e,componentView:s}),null)}_registerMenuTree(e,t){if(!(e instanceof js)){e.delegate("mouseenter").to(t);return}this.registerMenu(e,t);const i=e.panelView.children.filter(r=>r instanceof Cf)[0];if(!i){e.delegate("mouseenter").to(t);return}const s=i.items.filter(r=>r instanceof Yr);for(const r of s)this._registerMenuTree(r.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(t,i,s)=>{clearTimeout(e),s?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(r=>r.isOpen)},0)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bH extends HN{constructor(e,t){super(e),this.view=t,this._toolbarConfig=K_(e.config.get("toolbar")),this._elementReplacer=new zM,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,s=t.editing.view,r=i.editable,o=s.document.getRoot();r.name=o.rootName,i.render();const a=r.element;this.setEditableElement(r.name,a),i.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(a),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),i.menuBarView&&hH(t,i.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),s=e.sourceElement;let r;const o=e.config.get("placeholder");o&&(r=typeof o=="string"?o:o[this.view.editable.name]),!r&&s&&s.tagName.toLowerCase()==="textarea"&&(r=s.getAttribute("placeholder")),r&&(i.placeholder=r),jL({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,i){const s=this.view.stickyPanel;if(s.isSticky){const r=new Ae(s.element).height;t.viewportOffset.top+=r}else{const r=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(s,"change:isSticky",r),setTimeout(()=>{this.stopListening(s,"change:isSticky",r)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",()=>{const i=t.view;i.on("moveTo",(s,r)=>{if(!e.isSticky||i.wasMoved)return;const o=new Ae(e.contentPanelElement);r[1]<o.bottom+Xr.defaultOffset&&(r[1]=o.bottom+Xr.defaultOffset)},{priority:"high"})},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vH extends UN{constructor(e,t,i={}){super(e),this.stickyPanel=new ZN(e),this.toolbar=new q_(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),i.useMenuBar&&(this.menuBarView=new gH(e)),this.editable=new WN(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r2{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const s of i)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function kf(n,e=new Set){const t=[n],i=new Set;let s=0;for(;t.length>s;){const r=t[s++];if(!(i.has(r)||!yH(r)||e.has(r)))if(i.add(r),Symbol.iterator in r)try{for(const o of r)t.push(o)}catch{}else for(const o in r)o!=="defaultValue"&&t.push(r[o])}return i}function yH(n){const e=Object.prototype.toString.call(n),t=typeof n;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||n===void 0||n===null||n._watchdogExcluded||n instanceof EventTarget||n instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function o2(n,e,t=new Set){if(n===e&&wH(n))return!0;const i=kf(n,t),s=kf(e,t);for(const r of i)if(s.has(r))return!0;return!1}function wH(n){return typeof n=="object"&&n!==null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class a2 extends r2{constructor(e,t={}){super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=uc(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,s)=>e.create(i,s)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],i=this._config.rootsAttributes||{},s={};for(const[o,a]of Object.entries(this._data.roots))a.isLoaded?(e[o]="",s[o]=i[o]||{}):t.push(o);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:s,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(_H),this._initUsingData?this.create(e,r,r.context):Zs(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(a=>a.isAttached()&&a.rootName!="$graveyard"),{plugins:i}=e,s=i.has("CommentsRepository")&&i.get("CommentsRepository"),r=i.has("TrackChanges")&&i.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(a=>{o.roots[a.rootName]={content:JSON.stringify(Array.from(a.getChildren())),attributes:JSON.stringify(Array.from(a.getAttributes())),isLoaded:a._isLoaded}});for(const a of e.model.markers)a._affectsData&&(o.markers[a.name]={rangeJSON:a.getRange().toJSON(),usingOperation:a._managedUsingOperations,affectsData:a._affectsData});return s&&(o.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(o.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return o2(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Lh(e,(t,i)=>{if(Zs(t)||i==="context")return t})}}class _H{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const i=e.createElement(t.name,t.attributes);if(t.children)for(const s of t.children)i._appendChild(this._createNode(e,s));return i}else return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([i,{content:s,attributes:r}])=>{const o=JSON.parse(s),a=JSON.parse(r),l=t.model.document.getRoot(i);for(const[c,u]of a)e.setAttribute(c,u,l);for(const c of o){const u=this._createNode(e,c);e.insert(u,l,"end")}}),Object.entries(this._data.markers).forEach(([i,s])=>{const{document:r}=t.model,{rangeJSON:{start:o,end:a},...l}=s,c=r.getRoot(o.root),u=e.createPositionFromPath(c,o.path,o.stickiness),d=e.createPositionFromPath(c,a.path,a.stickiness),f=e.createRange(u,d);e.addMarker(i,{range:f,...l})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(i=>{const s=this.editor.config.get("collaboration.channelId"),r=this.editor.plugins.get("CommentsRepository");r.hasCommentThread(i.threadId)&&r.getCommentThread(i.threadId).remove(),r.addCommentThread({channelId:s,...i})}),t.forEach(i=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(i.id)){const r=s.getSuggestion(i.id);r.attributes=i.attributes}else s.addSuggestionData(i)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Go=Symbol("MainQueueId");class CH extends r2{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new kH,this._watchdogConfig=t,this._creator=i=>e.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Go,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=Y1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return s=new a2(null,this._watchdogConfig),s.setCreator(i.creator),s._setExcludedProperties(this._contextProps),i.destructor&&s.setDestructor(i.destructor),this._watchdogs.set(i.id,s),s.on("error",(r,{error:o,causesRestart:a})=>{this._fire("itemError",{itemId:i.id,error:o}),a&&this._actionQueues.enqueue(i.id,()=>new Promise(l=>{const c=()=>{s.off("restart",c),this._fire("itemRestart",{itemId:i.id}),l()};s.on("restart",c)}))}),s.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(e){const t=Y1(e);return Promise.all(t.map(i=>this._actionQueues.enqueue(i,()=>{const s=this._getWatchdog(i);return this._watchdogs.delete(i),s.destroy()})))}destroy(){return this._actionQueues.enqueue(Go,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Go,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=kf(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return o2(this._context,e.context)}}class kH{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Go;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Go),this._queues.get(e)])).then(t),o=r.catch(()=>{});return this._queues.set(e,o),r.finally(()=>{this._activeActions--,this._queues.get(e)===o&&this._activeActions===0&&this._onEmptyCallbacks.forEach(a=>a())})}}function Y1(n){return Array.isArray(n)?n:[n]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class au extends yf(_$){constructor(e,t={}){if(!Wl(e)&&t.initialData!==void 0)throw new k("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",EH(e)),Wl(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=this.config.get("menuBar"),r=new vH(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i,useMenuBar:s.isVisible});this.ui=new bH(this,r),C$(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const s=new this(e,t);i(s.initPlugins().then(()=>s.ui.init(Wl(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}au.Context=Yw;au.EditorWatchdog=a2;au.ContextWatchdog=CH;function EH(n){return Wl(n)?ZM(n):n}function Wl(n){return Zs(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ba extends ar{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"});function i(s){return(r,o)=>{o.preventDefault();const a=o.dropRange?[o.dropRange]:null,l=new Oi(t,s);t.fire(l,{dataTransfer:o.dataTransfer,method:r.name,targetRanges:a,target:o.target,domEvent:o.domEvent}),l.stop.called&&o.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",s={dataTransfer:new f_(t,{cacheFiles:i})};(e.type=="drop"||e.type=="dragover")&&(s.dropRange=TH(this.view,e)),this.fire(e.type,e,s)}}function TH(n,e){const t=e.target.ownerDocument,i=e.clientX,s=e.clientY;let r;return t.caretRangeFromPoint&&t.caretRangeFromPoint(i,s)?r=t.caretRangeFromPoint(i,s):e.rangeParent&&(r=t.createRange(),r.setStart(e.rangeParent,e.rangeOffset),r.collapse(!0)),r?n.domConverter.domRangeToView(r):null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function SH(n){return n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(n.includes("</p><p>")||n.includes("<br>"))&&(n=`<p>${n}</p>`),n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function PH(n){return n.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const X1=["figcaption","li"],Q1=["ol","ul"];function l2(n){if(n.is("$text")||n.is("$textProxy"))return n.data;if(n.is("element","img")&&n.hasAttribute("alt"))return n.getAttribute("alt");if(n.is("element","br"))return`
`;let e="",t=null;for(const i of n.getChildren())e+=AH(i,t)+l2(i),t=i;return e}function AH(n,e){return e?n.is("element","li")&&!n.isEmpty&&n.getChild(0).is("containerElement")||Q1.includes(n.name)&&Q1.includes(e.name)?`

`:!n.is("containerElement")&&!e.is("containerElement")?"":X1.includes(n.name)||X1.includes(e.name)?`
`:`

`:""}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class c2 extends Te{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t,i=s=>s.model.getSelectedContent(s.model.document.selection)){return this.editor.model.change(s=>{const r=s.model.document.selection;s.setSelection(t);const o=this._insertFakeMarkersIntoSelection(s,s.model.document.selection,e),a=i(s),l=this._removeFakeMarkersInsideElement(s,a);for(const[c,u]of Object.entries(o)){l[c]||(l[c]=s.createRangeIn(a));for(const d of u)s.remove(d)}a.markers.clear();for(const[c,u]of Object.entries(l))a.markers.set(c,u);return s.setSelection(r),a})}_pasteMarkersIntoTransformedElement(e,t){const i=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(s=>{const r=this._insertFakeMarkersElements(s,i),o=t(s),a=this._removeFakeMarkersInsideElement(s,o);for(const l of Object.values(r).flat())s.remove(l);for(const[l,c]of Object.entries(a))s.model.markers.has(l)||s.addMarker(l,{usingOperation:!0,affectsData:!0,range:c});return o})}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const i of t)e.markers.set(i.name,i.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t,i={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const s=this._markersToCopy.get(e);this._markersToCopy.set(e,i),t(),s?this._markersToCopy.set(e,s):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const i=this._getMarkerClipboardConfig(e);if(!i)return!1;if(!t)return!0;const{allowedActions:s}=i;return s==="all"||s.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,i){const s=this._getCopyableMarkersFromSelection(e,t,i);return this._insertFakeMarkersElements(e,s)}_getCopyableMarkersFromSelection(e,t,i){const s=Array.from(t.getRanges()),r=new Set(s.flatMap(a=>Array.from(e.model.markers.getMarkersIntersectingRange(a)))),o=a=>{if(!this._isMarkerCopyable(a.name,i))return!1;const{copyPartiallySelected:c}=this._getMarkerClipboardConfig(a.name);if(!c){const u=a.getRange();return s.some(d=>d.containsRange(u,!0))}return!0};return Array.from(r).filter(o).map(a=>({name:i==="dragstart"?this._getUniqueMarkerName(a.name):a.name,range:a.getRange()}))}_getPasteMarkersFromRangeMap(e,t=null){const{model:i}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([r,o])=>{if(!this._hasMarkerConfiguration(r))return[{name:r,range:o}];if(this._isMarkerCopyable(r,t)){const a=this._getMarkerClipboardConfig(r),l=i.markers.has(r)&&i.markers.get(r).getRange().root.rootName==="$graveyard";return(a.duplicateOnPaste||l)&&(r=this._getUniqueMarkerName(r)),[{name:r,range:o}]}return[]})}_insertFakeMarkersElements(e,t){const i={},s=t.flatMap(r=>{const{start:o,end:a}=r.range;return[{position:o,marker:r,type:"start"},{position:a,marker:r,type:"end"}]}).sort(({position:r},{position:o})=>r.isBefore(o)?1:-1);for(const{position:r,marker:o,type:a}of s){const l=e.createElement("$marker",{"data-name":o.name,"data-type":a});i[o.name]||(i[o.name]=[]),i[o.name].push(l),e.insert(l,r)}return i}_removeFakeMarkersInsideElement(e,t){const s=this._getAllFakeMarkersFromElement(e,t).reduce((r,o)=>{const a=o.markerElement&&e.createPositionBefore(o.markerElement);let l=r[o.name],c=!1;return l&&l.start&&l.end&&(this._getMarkerClipboardConfig(o.name).duplicateOnPaste?r[this._getUniqueMarkerName(o.name)]=r[o.name]:c=!0,l=null),c||(r[o.name]={...l,[o.type]:a}),o.markerElement&&e.remove(o.markerElement),r},{});return IM(s,r=>new x(r.start||e.createPositionFromPath(t,[0]),r.end||e.createPositionAt(t,"end")))}_getAllFakeMarkersFromElement(e,t){const i=Array.from(e.createRangeIn(t)).flatMap(({item:o})=>{if(!o.is("element","$marker"))return[];const a=o.getAttribute("data-name"),l=o.getAttribute("data-type");return[{markerElement:o,name:a,type:l}]}),s=[],r=[];for(const o of i)o.type==="end"&&(i.some(l=>l.name===o.name&&l.type==="start")||s.push({markerElement:null,name:o.name,type:"start"})),o.type==="start"&&(i.some(l=>l.name===o.name&&l.type==="end")||r.unshift({markerElement:null,name:o.name,type:"end"}));return[...s,...i,...r]}_getUniqueMarkerName(e){const t=e.split(":"),i=oi().substring(1,6);return t.length===3?`${t.slice(0,2).join(":")}:${i}`:`${t.join(":")}:${i}`}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qr extends Te{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[c2]}init(){this.editor.editing.view.addObserver(Ba),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){const s=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:i==="cut"},()=>{const r=s._copySelectedFragmentWithMarkers(i,t);this.fire("outputTransformation",{dataTransfer:e,content:r,method:i})})}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(s,"clipboardInput",(o,a)=>{a.method=="paste"&&!e.model.canEditAt(e.model.document.selection)&&o.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(o,a)=>{const l=a.dataTransfer;let c;if(a.content)c=a.content;else{let d="";l.getData("text/html")?d=PH(l.getData("text/html")):l.getData("text/plain")&&(d=SH(l.getData("text/plain"))),c=this.editor.data.htmlProcessor.toView(d)}const u=new Oi(this,"inputTransformation");this.fire(u,{content:c,dataTransfer:l,targetRanges:a.targetRanges,method:a.method}),u.stop.called&&o.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(o,a)=>{if(a.content.isEmpty)return;const c=this.editor.data.toModel(a.content,"$clipboardHolder");c.childCount!=0&&(o.stop(),t.change(()=>{this.fire("contentInsertion",{content:c,method:a.method,dataTransfer:a.dataTransfer,targetRanges:a.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(o,a)=>{a.resultRange=r._pasteFragmentWithMarkers(a.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,s=e.editing.view.document,r=(o,a)=>{const l=a.dataTransfer;a.preventDefault(),this._fireOutputTransformationEvent(l,t.selection,o.name)};this.listenTo(s,"copy",r,{priority:"low"}),this.listenTo(s,"cut",(o,a)=>{e.model.canEditAt(e.model.document.selection)?r(o,a):a.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(o,a)=>{const l=e.data.toView(a.content);s.fire("clipboardOutput",{dataTransfer:a.dataTransfer,content:l,method:a.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(o,a)=>{a.content.isEmpty||(a.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(a.content)),a.dataTransfer.setData("text/plain",l2(a.content))),a.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class u2{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xH extends rn{constructor(e,t){super(e),this._buffer=new u2(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,s=e.text||"",r=s.length;let o=i.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const a=e.resultRange;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const c=Array.from(i.selection.getAttributes());t.deleteContent(o),s&&t.insertContent(l.createText(s,c),o),a?l.setSelection(a):o.is("documentSelection")||l.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const e0=["insertText","insertReplacementText"];class OH extends $i{constructor(e){super(e),this.focusObserver=e.getObserver(gc),ke.isAndroid&&e0.push("insertCompositionText");const t=e.document;t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{data:r,targetRanges:o,inputType:a,domEvent:l}=s;if(!e0.includes(a))return;this.focusObserver.flush();const c=new Oi(t,"insertText");t.fire(c,new Zr(e,l,{text:r,selection:e.createSelection(o)})),c.stop.called&&i.stop()}),t.on("compositionend",(i,{data:s,domEvent:r})=>{!this.isEnabled||ke.isAndroid||s&&t.fire("insertText",new Zr(e,r,{text:s,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d2 extends Te{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,i=e.editing.view,s=t.document.selection;i.addObserver(OH);const r=new xH(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",r),e.commands.add("input",r),this.listenTo(i.document,"insertText",(o,a)=>{i.document.isComposing||a.preventDefault();const{text:l,selection:c,resultRange:u}=a,d=Array.from(c.getRanges()).map(m=>e.editing.mapper.toModelRange(m));let f=l;if(ke.isAndroid){const m=Array.from(d[0].getItems()).reduce((p,v)=>p+(v.is("$textProxy")?v.data:""),"");m&&(m.length<=f.length?f.startsWith(m)&&(f=f.substring(m.length),d[0].start=d[0].start.getShiftedBy(m.length)):m.startsWith(f)&&(d[0].start=d[0].start.getShiftedBy(f.length),f=""))}const h={text:f,selection:t.createSelection(d)};u&&(h.resultRange=e.editing.mapper.toModelRange(u)),e.execute("insertText",h),i.scrollToTheSelection()}),ke.isAndroid?this.listenTo(i.document,"keydown",(o,a)=>{s.isCollapsed||a.keyCode!=229||!i.document.isComposing||t0(t,r)}):this.listenTo(i.document,"compositionstart",()=>{s.isCollapsed||t0(t,r)})}}function t0(n,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class n0 extends rn{constructor(e,t){super(e),this.direction=t,this._buffer=new u2(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const r=s.createSelection(e.selection||i.selection);if(!t.canEditAt(r))return;const o=e.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&t.modifySelection(r,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o)){this._replaceEntireContentWithParagraph(s);return}if(this._shouldReplaceFirstBlockWithParagraph(r,o)){this.editor.execute("paragraph",{selection:r});return}if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach(c=>{l+=af(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(l),s.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(r))||!t.schema.checkChild(r,"paragraph"))return!1;const a=r.getChild(0);return!(a&&a.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,s=t.document.selection,r=t.schema.getLimitElement(s),o=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(o,r),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),r=i.schema.getLimitElement(s),o=r.getChild(0);return!(s.parent!=o||!e.containsEntireContent(o)||!i.schema.checkChild(r,"paragraph")||o.name=="paragraph")}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const IH="character",i0="word",RH="codePoint",ts="selection",Cr="backward",xo="forward",f2={deleteContent:{unit:ts,direction:Cr},deleteContentBackward:{unit:RH,direction:Cr},deleteWordBackward:{unit:i0,direction:Cr},deleteHardLineBackward:{unit:ts,direction:Cr},deleteSoftLineBackward:{unit:ts,direction:Cr},deleteContentForward:{unit:IH,direction:xo},deleteWordForward:{unit:i0,direction:xo},deleteHardLineForward:{unit:ts,direction:xo},deleteSoftLineForward:{unit:ts,direction:xo}};class MH extends $i{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:a,inputType:l}=r,c=f2[l];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:i};u.unit==ts&&(u.selectionToRemove=e.createSelection(o[0])),l==="deleteContentBackward"&&(ke.isAndroid&&(u.sequence=1),BH(o)&&(u.unit=ts,u.selectionToRemove=e.createSelection(o)));const d=new lo(t,"delete",o[0]);t.fire(d,new Zr(e,a,u)),d.stop.called&&s.stop()}),ke.isBlink&&LH(this)}observe(){}stopObserving(){}}function LH(n){const e=n.view,t=e.document;let i=null,s=!1;t.on("keydown",(a,{keyCode:l})=>{i=l,s=!1}),t.on("keyup",(a,{keyCode:l,domEvent:c})=>{const u=t.selection,d=n.isEnabled&&l==i&&r(l)&&!u.isCollapsed&&!s;if(i=null,d){const f=u.getFirstRange(),h=new lo(t,"delete",f),m={unit:ts,direction:o(l),selectionToRemove:u};t.fire(h,new Zr(e,c,m))}}),t.on("beforeinput",(a,{inputType:l})=>{const c=f2[l];r(i)&&c&&c.direction==o(i)&&(s=!0)},{priority:"high"}),t.on("beforeinput",(a,{inputType:l,data:c})=>{i==Re.delete&&l=="insertText"&&c==""&&a.stop()},{priority:"high"});function r(a){return a==Re.backspace||a==Re.delete}function o(a){return a==Re.backspace?Cr:xo}}function BH(n){if(n.length!=1||n[0].isCollapsed)return!1;const e=n[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:i,item:s}of e){if(i.parent.is("$text")){const r=i.parent.data,o=i.offset;if(Fh(r,o)||Nh(r,o)||zw(r,o))continue;t++}else(s.is("containerElement")||s.is("emptyElement"))&&t++;if(t>1)return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class lu extends Te{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.model.document;t.addObserver(MH),this._undoOnBackspace=!1;const r=new n0(e,"forward");e.commands.add("deleteForward",r),e.commands.add("forwardDelete",r),e.commands.add("delete",new n0(e,"backward")),this.listenTo(i,"delete",(o,a)=>{i.isComposing||a.preventDefault();const{direction:l,sequence:c,selectionToRemove:u,unit:d}=a,f=l==="forward"?"deleteForward":"delete",h={sequence:c};if(d=="selection"){const m=Array.from(u.getRanges()).map(p=>e.editing.mapper.toModelRange(p));h.selection=e.model.createSelection(m)}else h.unit=d;e.execute(f,h),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(o,a)=>{this._undoOnBackspace&&a.direction=="backward"&&a.sequence==1&&a.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),a.preventDefault(),o.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class DH extends Te{static get requires(){return[d2,lu]}static get pluginName(){return"Typing"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function h2(n,e){let t=n.start;return{text:Array.from(n.getWalker({ignoreElementEnd:!1})).reduce((s,{item:r})=>r.is("$text")||r.is("$textProxy")?s+r.data:(t=e.createPositionAfter(r),""),""),range:e.createRange(t,n.end)}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class VH extends pt(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(i,{directChange:s})=>{if(s){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(i,s)=>{s.isUndo||!s.isLocal||this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,r=i.document.selection,o=i.createRange(i.createPositionAt(r.focus.parent,0),r.focus),{text:a,range:l}=h2(o,i),c=this.testCallback(a);if(!c&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!c,c){const u=Object.assign(t,{text:a,range:l});typeof c=="object"&&Object.assign(u,c),this.fire(`matched:${e}`,u)}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s0 extends Te{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,i=e.editing.view,s=e.locale,r=t.document.selection;this.listenTo(i.document,"arrowKey",(o,a)=>{if(!r.isCollapsed||a.shiftKey||a.altKey||a.ctrlKey)return;const l=a.keyCode==Re.arrowright,c=a.keyCode==Re.arrowleft;if(!l&&!c)return;const u=s.contentLanguageDirection;let d=!1;u==="ltr"&&l||u==="rtl"&&c?d=this._handleForwardMovement(a):d=this._handleBackwardMovement(a),d===!0&&o.stop()},{context:"$text",priority:"highest"}),this.listenTo(r,"change:range",(o,a)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!a.directChange&&kn(r.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,i=this.editor.model,s=i.document.selection,r=s.getFirstPosition();return this._isGravityOverridden||r.isAtStart&&hi(s,t)?!1:kn(r,t)?(To(e),hi(s,t)&&kn(r,t,!0)?Eo(i,t):this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,s=i.document.selection,r=s.getFirstPosition();return this._isGravityOverridden?(To(e),this._restoreGravity(),kn(r,t,!0)?Eo(i,t):Al(i,t,r),!0):r.isAtStart?hi(s,t)?(To(e),Al(i,t,r),!0):!1:!hi(s,t)&&kn(r,t,!0)?(To(e),Al(i,t,r),!0):r0(r,t)?r.isAtEnd&&!hi(s,t)&&kn(r,t)?(To(e),Al(i,t,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}_enableClickingAfterNode(){const e=this.editor,t=e.model,i=t.document.selection,s=e.editing.view.document;e.editing.view.addObserver(Qh);let r=!1;this.listenTo(s,"mousedown",()=>{r=!0}),this.listenTo(s,"selectionChange",()=>{const o=this.attributes;if(!r||(r=!1,!i.isCollapsed)||!hi(i,o))return;const a=i.getFirstPosition();kn(a,o)&&(a.isAtStart||kn(a,o,!0)?Eo(t,o):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection,s=this.attributes;this.listenTo(t,"insertContent",()=>{const r=i.getFirstPosition();hi(i,s)&&kn(r,s)&&Eo(t,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,i=t.document.selection,s=e.editing.view;let r=!1,o=!1;this.listenTo(s.document,"delete",(a,l)=>{r=l.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{if(!r)return;const a=i.getFirstPosition();o=hi(i,this.attributes)&&!r0(a,this.attributes)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{r&&(r=!1,!o&&e.model.enqueueChange(()=>{const a=i.getFirstPosition();hi(i,this.attributes)&&kn(a,this.attributes)&&(a.isAtStart||kn(a,this.attributes,!0)?Eo(t,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function hi(n,e){for(const t of e)if(n.hasAttribute(t))return!0;return!1}function Al(n,e,t){const i=t.nodeBefore;n.change(s=>{if(i){const r=[],o=n.schema.isObject(i)&&n.schema.isInline(i);for(const[a,l]of i.getAttributes())n.schema.checkAttribute("$text",a)&&(!o||n.schema.getAttributeProperties(a).copyFromObject!==!1)&&r.push([a,l]);s.setSelectionAttribute(r)}else s.removeSelectionAttribute(e)})}function Eo(n,e){n.change(t=>{t.removeSelectionAttribute(e)})}function To(n){n.preventDefault()}function r0(n,e){const t=n.getShiftedBy(-1);return kn(t,e)}function kn(n,e,t=!1){const{nodeBefore:i,nodeAfter:s}=n;for(const r of e){const o=i?i.getAttribute(r):void 0,a=s?s.getAttribute(r):void 0;if(!(t&&(o===void 0||a===void 0))&&a!==o)return!0}return!1}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function cu(n,e,t,i){return i.createRange(o0(n,e,t,!0,i),o0(n,e,t,!1,i))}function o0(n,e,t,i,s){let r=n.textNode||(i?n.nodeBefore:n.nodeAfter),o=null;for(;r&&r.getAttribute(e)==t;)o=r,r=i?r.previousSibling:r.nextSibling;return o?s.createPositionAt(o,i?"before":"after"):n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $H(n,e,t,i){const s=n.editing.view,r=new Set;s.document.registerPostFixer(o=>{const a=n.model.document.selection;let l=!1;if(a.hasAttribute(e)){const c=cu(a.getFirstPosition(),e,a.getAttribute(e),n.model),u=n.editing.mapper.toViewRange(c);for(const d of u.getItems())d.is("element",t)&&!d.hasClass(i)&&(o.addClass(i,d),r.add(d),l=!0)}return l}),n.conversion.for("editingDowncast").add(o=>{o.on("insert",a,{priority:"highest"}),o.on("remove",a,{priority:"highest"}),o.on("attribute",a,{priority:"highest"}),o.on("selection",a,{priority:"highest"});function a(){s.change(l=>{for(const c of r.values())l.removeClass(i,c),r.delete(c)})}})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function*m2(n,e){for(const t of e)t&&n.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class FH extends rn{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,s=t.schema,r=i.isCollapsed,o=i.getFirstRange(),a=o.start.parent,l=o.end.parent;if(s.isLimit(a)||s.isLimit(l))return!r&&a==l&&t.deleteContent(i),!1;if(r){const c=m2(e.model.schema,i.getAttributes());return a0(e,o.start),e.setSelectionAttribute(c),!0}else{const c=!(o.start.isAtStart&&o.end.isAtEnd),u=a==l;if(t.deleteContent(i,{leaveUnmerged:c}),c){if(u)return a0(e,i.focus),!0;e.setSelection(l,0)}}return!1}}function a0(n,e){n.split(e),n.setSelection(e.parent.nextSibling,0)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const NH={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class p2 extends $i{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(s,r)=>{i=r.shiftKey}),t.on("beforeinput",(s,r)=>{if(!this.isEnabled)return;let o=r.inputType;ke.isSafari&&i&&o=="insertParagraph"&&(o="insertLineBreak");const a=r.domEvent,l=NH[o];if(!l)return;const c=new lo(t,"enter",r.targetRanges[0]);t.fire(c,new Zr(e,a,{isSoft:l.isSoft})),c.stop.called&&s.stop()})}observe(){}stopObserving(){}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class g2 extends Te{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,i=t.document,s=this.editor.t;t.addObserver(p2),e.commands.add("enter",new FH(e)),this.listenTo(i,"enter",(r,o)=>{i.isComposing||o.preventDefault(),!o.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:s("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class HH extends rn{execute(){const e=this.editor.model,t=e.document;e.change(i=>{UH(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=jH(e.schema,t.selection)}}function jH(n,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!n.checkChild(t,"softBreak"))return!1;const i=e.getFirstRange(),s=i.start.parent,r=i.end.parent;return!((Ef(s,n)||Ef(r,n))&&s!==r)}function UH(n,e,t){const i=t.isCollapsed,s=t.getFirstRange(),r=s.start.parent,o=s.end.parent,a=r==o;if(i){const l=m2(n.schema,t.getAttributes());l0(n,e,s.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(l)}else{const l=!(s.start.isAtStart&&s.end.isAtEnd);n.deleteContent(t,{leaveUnmerged:l}),a?l0(n,e,t.focus):l&&e.setSelection(o,0)}}function l0(n,e,t){const i=e.createElement("softBreak");n.insertContent(i,t),e.setSelection(i,"after")}function Ef(n,e){return n.is("rootElement")?!1:e.isLimit(n)||Ef(n.parent,e)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class b2 extends Te{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,i=e.conversion,s=e.editing.view,r=s.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(a,{writer:l})=>l.createEmptyElement("br")}),s.addObserver(p2),e.commands.add("shiftEnter",new HH(e)),this.listenTo(r,"enter",(a,l)=>{r.isComposing||l.preventDefault(),l.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Iz extends Ge(){constructor(){super(...arguments),this._stack=[]}add(e,t){const i=this._stack,s=i[0];this._insertDescriptor(e);const r=i[0];s!==r&&!nd(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}remove(e,t){const i=this._stack,s=i[0];this._removeDescriptor(e);const r=i[0];s!==r&&!nd(s,r)&&this.fire("change:top",{oldDescriptor:s,newDescriptor:r,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex(r=>r.id===e.id);if(nd(e,t[i]))return;i>-1&&t.splice(i,1);let s=0;for(;t[s]&&zH(t[s],e);)s++;t.splice(s,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex(s=>s.id===e);i>-1&&t.splice(i,1)}}function nd(n,e){return n&&e&&n.priority==e.priority&&yc(n.classes)==yc(e.classes)}function zH(n,e){return n.priority>e.priority?!0:n.priority<e.priority?!1:yc(n.classes)>yc(e.classes)}function yc(n){return Array.isArray(n)?n.sort().join(","):n}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const c0="ck-widget_selected";function Ot(n){return n.is("element")?!!n.getCustomProperty("widget"):!1}function WH(n){return n.getCustomProperty("widgetLabel").reduce((t,i)=>typeof i=="function"?t?t+". "+i():i():t?t+". "+i:i,"")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gi="widget-type-around";function Ts(n,e,t){return!!n&&Ot(n)&&!t.isInline(e)}function KH(n){return n.closest(".ck-widget__type-around__button")}function qH(n){return n.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function GH(n,e){const t=n.closest(".ck-widget");return e.mapDomToView(t)}function Ss(n){return n.getAttribute(gi)}const ZH='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const v2=["before","after"],JH=new DOMParser().parseFromString(ZH,"image/svg+xml").firstChild,u0="ck-widget__type-around_disabled";class YH extends Te{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[g2,lu]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,s,r)=>{t.change(o=>{for(const a of t.document.roots)r?o.removeClass(u0,a):o.addClass(u0,a)}),r||e.model.change(o=>{o.removeSelectionAttribute(gi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,s=i.editing.view,r=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:r}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,t,i,s){this.listenTo(e,t,(...r)=>{this.isEnabled&&i(...r)},s)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,s=Ss(i);if(!s)return!1;const r=i.getSelectedElement();return this._insertParagraph(r,s),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,s={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(r,o,a)=>{const l=a.mapper.toViewElement(o.item);l&&Ts(l,o.item,t)&&(XH(a.writer,s,l),l.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,s=t.schema,r=e.editing.view;this._listenToIfEnabled(r.document,"arrowKey",(a,l)=>{this._handleArrowKeyPress(a,l)},{context:[Ot,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(a,l)=>{l.directChange&&e.model.change(c=>{c.removeSelectionAttribute(gi)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const a=i.getSelectedElement();if(a){const l=e.editing.mapper.toViewElement(a);if(Ts(l,a,s))return}e.model.change(l=>{l.removeSelectionAttribute(gi)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(a,l,c)=>{const u=c.writer;if(this._currentFakeCaretModelElement){const m=c.mapper.toViewElement(this._currentFakeCaretModelElement);m&&(u.removeClass(v2.map(o),m),this._currentFakeCaretModelElement=null)}const d=l.selection.getSelectedElement();if(!d)return;const f=c.mapper.toViewElement(d);if(!Ts(f,d,s))return;const h=Ss(l.selection);h&&(u.addClass(o(h),f),this._currentFakeCaretModelElement=d)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(a,l,c)=>{c||e.model.change(u=>{u.removeSelectionAttribute(gi)})});function o(a){return`ck-widget_type-around_show-fake-caret_${a}`}}_handleArrowKeyPress(e,t){const i=this.editor,s=i.model,r=s.document.selection,o=s.schema,a=i.editing.view,l=t.keyCode,c=uL(l,i.locale.contentLanguageDirection),u=a.document.selection.getSelectedElement(),d=i.editing.mapper.toModelElement(u);let f;Ts(u,d,o)?f=this._handleArrowKeyPressOnSelectedWidget(c):r.isCollapsed?f=this._handleArrowKeyPressWhenSelectionNextToAWidget(c):t.shiftKey||(f=this._handleArrowKeyPressWhenNonCollapsedSelection(c)),f&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,s=i.document.selection,r=Ss(s);return i.change(o=>{if(r){if(!(r===(e?"after":"before")))return o.removeSelectionAttribute(gi),!0}else return o.setSelectionAttribute(gi,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,s=i.schema,r=t.plugins.get("Widget"),o=r._getObjectElementNextToSelection(e),a=t.editing.mapper.toViewElement(o);return Ts(a,o,s)?(i.change(l=>{r._setSelectionOverElement(o),l.setSelectionAttribute(gi,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,s=i.schema,r=t.editing.mapper,o=i.document.selection,a=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter,l=r.toViewElement(a);return Ts(l,a,s)?(i.change(c=>{c.setSelection(a,"on"),c.setSelectionAttribute(gi,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,s)=>{const r=KH(s.domTarget);if(!r)return;const o=qH(r),a=GH(r,t.domConverter),l=e.editing.mapper.toModelElement(a);this._insertParagraph(l,o),s.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(s,r)=>{if(s.eventPhase!="atTarget")return;const o=t.getSelectedElement(),a=e.editing.mapper.toViewElement(o),l=e.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:Ts(a,o,l)&&(this._insertParagraph(o,r.isSoft?"before":"after"),c=!0),c&&(r.preventDefault(),s.stop())},{context:Ot})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(i,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=t.selection)},{priority:"high"}),ke.isAndroid?this._listenToIfEnabled(t,"keydown",(i,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,s=i.schema;this._listenToIfEnabled(t.document,"delete",(r,o)=>{if(r.eventPhase!="atTarget")return;const a=Ss(i.document.selection);if(!a)return;const l=o.direction,c=i.document.selection.getSelectedElement(),u=a==="before",d=l=="forward";if(u===d)e.execute("delete",{selection:i.createSelection(c,"on")});else{const h=s.getNearestSelectionRange(i.createPositionAt(c,a),l);if(h)if(!h.isCollapsed)i.change(m=>{m.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const m=i.createSelection(h.start);if(i.modifySelection(m,{direction:l}),!m.focus.isEqual(h.start))i.change(p=>{p.setSelection(h),e.execute(d?"deleteForward":"delete")});else{const p=tj(s,h.start.parent);i.deleteContent(i.createSelection(p,"on"),{doNotAutoparagraph:!0})}}}o.preventDefault(),r.stop()},{context:Ot})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[r,o])=>{if(o&&!o.is("documentSelection"))return;const a=Ss(i);if(a)return s.stop(),t.change(l=>{const c=i.getSelectedElement(),u=t.createPositionAt(c,a),d=l.createSelection(u),f=t.insertContent(r,d);return l.setSelection(d),f})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,r)=>{const[,o,a={}]=r;if(o&&!o.is("documentSelection"))return;const l=Ss(i);l&&(a.findOptimalPosition=l,r[3]=a)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[r])=>{if(r&&!r.is("documentSelection"))return;Ss(i)&&s.stop()},{priority:"high"})}}function XH(n,e,t){const i=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(s){const r=this.toDomElement(s);return QH(r,e),ej(r),r});n.insert(n.createPositionAt(t,"end"),i)}function QH(n,e){for(const t of v2){const i=new ii({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[n.ownerDocument.importNode(JH,!0)]});n.appendChild(i.render())}}function ej(n){const e=new ii({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});n.appendChild(e.render())}function tj(n,e){let t=e;for(const i of e.getAncestors({parentFirst:!0})){if(i.childCount>1||n.isLimit(i))break;t=i}return t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function nj(n){const e=n.model;return(t,i)=>{const s=i.keyCode==Re.arrowup,r=i.keyCode==Re.arrowdown,o=i.shiftKey,a=e.document.selection;if(!s&&!r)return;const l=r;if(o&&rj(a,l))return;const c=ij(n,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(o)return}(c.isCollapsed||sj(n,c,l))&&(e.change(u=>{const d=l?c.end:c.start;if(o){const f=e.createSelection(a.anchor);f.setFocus(d),u.setSelection(f)}else u.setSelection(d)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function ij(n,e,t){const i=n.model;if(t){const s=e.isCollapsed?e.focus:e.getLastPosition(),r=d0(i,s,"forward");if(!r)return null;const o=i.createRange(s,r),a=f0(i.schema,o,"backward");return a?i.createRange(s,a):null}else{const s=e.isCollapsed?e.focus:e.getFirstPosition(),r=d0(i,s,"backward");if(!r)return null;const o=i.createRange(r,s),a=f0(i.schema,o,"forward");return a?i.createRange(a,s):null}}function d0(n,e,t){const i=n.schema,s=n.createRangeIn(e.root),r=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:o,item:a,type:l}of s.getWalker({startPosition:e,direction:t})){if(i.isLimit(a)&&!i.isInline(a))return o;if(l==r&&i.isBlock(a))return null}return null}function f0(n,e,t){const i=t=="backward"?e.end:e.start;if(n.checkChild(i,"$text"))return i;for(const{nextPosition:s}of e.getWalker({direction:t}))if(n.checkChild(s,"$text"))return s;return null}function sj(n,e,t){const i=n.model,s=n.view.domConverter;if(t){const c=i.createSelection(e.start);i.modifySelection(c),!c.focus.isAtEnd&&!e.start.isEqual(c.focus)&&(e=i.createRange(c.focus,e.end))}const r=n.mapper.toViewRange(e),o=s.viewRangeToDom(r),a=Ae.getDomRangeRects(o);let l;for(const c of a){if(l===void 0){l=Math.round(c.bottom);continue}if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}return!0}function rj(n,e){return!n.isCollapsed&&n.isBackward==e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class oj extends Te{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[YH,lu]}init(){const e=this.editor,t=e.editing.view,i=t.document,s=e.t;this.editor.editing.downcastDispatcher.on("selection",(r,o,a)=>{const l=a.writer,c=o.selection;if(c.isCollapsed)return;const u=c.getSelectedElement();if(!u)return;const d=e.editing.mapper.toViewElement(u);Ot(d)&&a.consumable.consume(c,"selection")&&l.setSelection(l.createRangeOn(d),{fake:!0,label:WH(d)})}),this.editor.editing.downcastDispatcher.on("selection",(r,o,a)=>{this._clearPreviouslySelectedWidgets(a.writer);const l=a.writer,c=l.document.selection;let u=null;for(const d of c.getRanges())for(const f of d){const h=f.item;Ot(h)&&!lj(h,u)&&(l.addClass(c0,h),this._previouslySelected.add(h),u=h)}},{priority:"low"}),t.addObserver(Qh),this.listenTo(i,"mousedown",(...r)=>this._onMousedown(...r)),this.listenTo(i,"arrowKey",(...r)=>{this._handleSelectionChangeOnArrowKeyPress(...r)},{context:[Ot,"$text"]}),this.listenTo(i,"arrowKey",(...r)=>{this._preventDefaultOnArrowKeyPress(...r)},{context:"$root"}),this.listenTo(i,"arrowKey",nj(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(r,o)=>{this._handleDelete(o.direction=="forward")&&(o.preventDefault(),r.stop())},{context:"$root"}),this.listenTo(i,"tab",(r,o)=>{r.eventPhase=="atTarget"&&(o.shiftKey||this._selectFirstNestedEditable()&&(o.preventDefault(),r.stop()))},{context:Ot,priority:"low"}),this.listenTo(i,"tab",(r,o)=>{o.shiftKey&&this._selectAncestorWidget()&&(o.preventDefault(),r.stop())},{priority:"low"}),this.listenTo(i,"keydown",(r,o)=>{o.keystroke==Re.esc&&this._selectAncestorWidget()&&(o.preventDefault(),r.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:s("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:s("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:s("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:s("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:s("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const i=this.editor,s=i.editing.view,r=s.document;let o=t.target;if(t.domEvent.detail>=3){this._selectBlockContent(o)&&t.preventDefault();return}if(aj(o)||!Ot(o)&&(o=o.findAncestor(Ot),!o))return;ke.isAndroid&&t.preventDefault(),r.isFocused||s.focus();const a=i.editing.mapper.toModelElement(o);this._setSelectionOverElement(a)}_selectBlockContent(e){const t=this.editor,i=t.model,s=t.editing.mapper,r=i.schema,o=s.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),a=cj(s.toModelElement(o),i.schema);return a?(i.change(l=>{const c=r.isLimit(a)?null:uj(l.createPositionAfter(a),r),u=l.createPositionAt(a,0),d=c?l.createPositionAt(c,0):l.createPositionAt(a,"end");l.setSelection(l.createRange(u,d))}),!0):!1}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,s=this.editor.model,r=s.schema,o=s.document.selection,a=o.getSelectedElement(),l=Uw(i,this.editor.locale.contentLanguageDirection),c=l=="down"||l=="right",u=l=="up"||l=="down";if(a&&r.isObject(a)){const f=c?o.getLastPosition():o.getFirstPosition(),h=r.getNearestSelectionRange(f,c?"forward":"backward");h&&(s.change(m=>{m.setSelection(h)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed&&!t.shiftKey){const f=o.getFirstPosition(),h=o.getLastPosition(),m=f.nodeAfter,p=h.nodeBefore;(m&&r.isObject(m)||p&&r.isObject(p))&&(s.change(v=>{v.setSelection(c?h:f)}),t.preventDefault(),e.stop());return}if(!o.isCollapsed)return;const d=this._getObjectElementNextToSelection(c);if(d&&r.isObject(d)){if(r.isInline(d)&&u)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,s=i.schema,r=i.document.selection.getSelectedElement();r&&s.isObject(r)&&(t.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);if(s)return this.editor.model.change(r=>{let o=i.anchor.parent;for(;o.isEmpty;){const a=o;o=a.parent,r.remove(a)}this._setSelectionOverElement(s)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,s=t.document.selection,r=t.createSelection(s);if(t.modifySelection(r,{direction:e?"forward":"backward"}),r.isEqual(s))return null;const o=e?r.focus.nodeBefore:r.focus.nodeAfter;return o&&i.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(c0,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const s of i.selection.getFirstRange().getItems())if(s.is("editableElement")){const r=e.editing.mapper.toModelElement(s);/* istanbul ignore next -- @preserve */if(!r)continue;const o=e.model.createPositionAt(r,0),a=e.model.schema.getNearestSelectionRange(o,"forward");return e.model.change(l=>{l.setSelection(a)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,o=(s.is("$text")?s.parent:s).findAncestor(Ot);if(!o)return!1;const a=t.toModelElement(o);/* istanbul ignore next -- @preserve */return a?(e.model.change(l=>{l.setSelection(a,"on")}),!0):!1}}function aj(n){let e=n;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Ot(e))return!1;e=e.parent}return!1}function lj(n,e){return e?Array.from(n.getAncestors()).includes(e):!1}function cj(n,e){for(const t of n.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(t,"$text"))return t;if(e.isLimit(t)&&!e.isObject(t))break}return null}function uj(n,e){const t=new _i({startPosition:n});for(const{item:i}of t){if(e.isLimit(i)||!i.is("element"))return null;if(e.checkChild(i,"$text"))return i}return null}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 *//* istanbul ignore file -- @preserve */const id=ao("px");class dj extends pe{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>id(t)),top:e.to("top",t=>id(t)),width:e.to("width",t=>id(t))}}})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xl extends Te{constructor(){super(...arguments),this.removeDropMarkerDelayed=$h(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=uc(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=uc(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new dj,this._domEmitter=new(qn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,s,r,o){this.removeDropMarkerDelayed.cancel();const a=h0(this.editor,e,t,i,s,r,o);/* istanbul ignore next -- @preserve */if(a){if(o&&o.containsRange(a))return this.removeDropMarker();this._updateDropMarkerThrottled(a)}}getFinalDropRange(e,t,i,s,r,o){const a=h0(this.editor,e,t,i,s,r,o);return this.removeDropMarker(),a}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(s=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const i=this.toDomElement(t);return i.append("",t.createElement("span"),""),i})}_updateDropTargetLine(e){const t=this.editor.editing,i=e.start.nodeBefore,s=e.start.nodeAfter,r=e.start.parent,o=i?t.mapper.toViewElement(i):null,a=o?t.view.domConverter.mapViewToDom(o):null,l=s?t.mapper.toViewElement(s):null,c=l?t.view.domConverter.mapViewToDom(l):null,u=t.mapper.toViewElement(r);if(!u)return;const d=t.view.domConverter.mapViewToDom(u),f=this._getScrollableRect(u),{scrollX:h,scrollY:m}=ce.window,p=a?new Ae(a):null,v=c?new Ae(c):null,_=new Ae(d).excludeScrollbarsAndBorders(),E=p?p.bottom:_.top,w=v?v.top:_.bottom,C=ce.window.getComputedStyle(d),P=E<=w?(E+w)/2:w;if(f.top<P&&P<f.bottom){const b=_.left+parseFloat(C.paddingLeft),M=_.right-parseFloat(C.paddingRight),T=Math.max(b+h,f.left),L=Math.min(M+h,f.right);this._dropTargetLineView.set({isVisible:!0,left:T,top:P+m,width:L-T})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{const s=this.editor.editing.view.domConverter.mapViewToDom(e);i=hj(s),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new Xe(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:r})}return new Ae(i).excludeScrollbarsAndBorders()}}function h0(n,e,t,i,s,r,o){const a=n.model,l=n.editing.mapper;let u=m0(n,e);for(;u;){if(!r){if(a.schema.checkChild(u,"$text")){if(t){const d=t[0].start,f=l.toModelPosition(d);if(!o||Array.from(o.getItems()).every(m=>a.schema.checkChild(f,m))){if(a.schema.checkChild(f,"$text"))return a.createRange(f);if(d)return Ol(n,m0(n,d.parent),i,s)}}}else if(a.schema.isInline(u))return Ol(n,u,i,s)}if(a.schema.isBlock(u))return Ol(n,u,i,s);if(a.schema.checkChild(u,"$block")){const d=Array.from(u.getChildren()).filter(m=>m.is("element")&&!fj(n,m));let f=0,h=d.length;if(h==0)return a.createRange(a.createPositionAt(u,"end"));for(;f<h-1;){const m=Math.floor((f+h)/2);y2(n,d[m],i,s)=="before"?h=m:f=m}return Ol(n,d[f],i,s)}u=u.parent}return null}function fj(n,e){const t=n.editing.mapper,i=n.editing.view.domConverter,s=t.toViewElement(e);if(!s)return!0;const r=i.mapViewToDom(s);return ce.window.getComputedStyle(r).float!="none"}function Ol(n,e,t,i){const s=n.model;return s.createRange(s.createPositionAt(e,y2(n,e,t,i)))}function y2(n,e,t,i){const s=n.editing.mapper,r=n.editing.view.domConverter,o=s.toViewElement(e),a=r.mapViewToDom(o),l=new Ae(a);return n.model.schema.isInline(e)?t<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function m0(n,e){const t=n.editing.mapper,i=n.editing.view,s=t.toModelElement(e);if(s)return s;const r=i.createPositionBefore(e),o=t.findMappedViewAncestor(r);return t.toModelElement(o)}function hj(n){let e=n;do{e=e.parentElement;const t=ce.window.getComputedStyle(e).overflowY;if(t=="auto"||t=="scroll")break}while(e.tagName!="BODY");return e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class mj extends Te{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(qn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,i,s)=>{s?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),ke.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(s,r)=>this._handleBlockDragStart(r)),this._domEmitter.listenTo(ce.document,"dragover",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(ce.document,"drop",(s,r)=>this._handleBlockDragging(r)),this._domEmitter.listenTo(ce.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(s,r,o)=>{i.setAttribute("draggable",o?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,i=t.document.selection,s=this.editor.editing.view,r=Array.from(i.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(r[0]),t.createPositionAfter(r[r.length-1]));t.change(a=>a.setSelection(o)),this._isBlockDragging=!0,s.focus(),s.getObserver(Ba).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,s=document.elementFromPoint(t,i),r=this.editor.editing.view;!s||!s.closest(".ck-editor__editable")||r.getObserver(Ba).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:s,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class pj extends Te{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=$h(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(qn())}static get pluginName(){return"DragDrop"}static get requires(){return[Qr,oj,xl,mj]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Ba),t.addObserver(Qh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,s,r)=>{r?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,s,r)=>{r||this._finalizeDragging(!1)}),ke.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=e.plugins.get(xl);this.listenTo(s,"dragstart",(o,a)=>{if(a.target&&a.target.is("editableElement")){a.preventDefault();return}if(this._prepareDraggedRange(a.target),!this._draggedRange){a.preventDefault();return}this._draggingUid=oi(),a.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",a.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const l=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(a.dataTransfer,l,"dragstart");const{dataTransfer:u,domTarget:d,domEvent:f}=a,{clientX:h}=f;this._updatePreview({dataTransfer:u,domTarget:d,clientX:h}),a.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(o,a)=>{this._finalizeDragging(!a.dataTransfer.isCanceled&&a.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(ce.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(s,"dragleave",()=>{r.removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(o,a)=>{if(!this.isEnabled){a.dataTransfer.dropEffect="none";return}const{clientX:l,clientY:c}=a.domEvent;r.updateDropMarker(a.target,a.targetRanges,l,c,this._blockMode,this._draggedRange),this._draggedRange||(a.dataTransfer.dropEffect="copy"),ke.isGecko||(a.dataTransfer.effectAllowed=="copy"?a.dataTransfer.dropEffect="copy":["all","copyMove"].includes(a.dataTransfer.effectAllowed)&&(a.dataTransfer.dropEffect="move")),o.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,s=e.plugins.get(xl);this.listenTo(i,"clipboardInput",(r,o)=>{if(o.method!="drop")return;const{clientX:a,clientY:l}=o.domEvent,c=s.getFinalDropRange(o.target,o.targetRanges,a,l,this._blockMode,this._draggedRange);if(!c){this._finalizeDragging(!1),r.stop();return}if(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),p0(o.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0)){this._finalizeDragging(!1),r.stop();return}o.targetRanges=[e.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Qr);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=i.targetRanges.map(r=>this.editor.editing.mapper.toModelRange(r));this.editor.model.change(r=>r.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const s=p0(i.dataTransfer)=="move",r=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(r&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(s,r)=>{if(ke.isAndroid||!r)return;this._clearDraggableAttributesDelayed.cancel();let o=g0(r.target);if(ke.isBlink&&!e.isReadOnly&&!o&&!i.selection.isCollapsed){const a=i.selection.getSelectedElement();(!a||!Ot(a))&&(o=i.selection.editableElement)}o&&(t.change(a=>{a.setAttribute("draggable","true",o)}),this._draggableElement=e.editing.mapper.toModelElement(o))}),this.listenTo(i,"mouseup",()=>{ke.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,i=t.model;t.plugins.get(xl).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(r=>{const o=i.createSelection(this._draggedRange);i.deleteContent(o,{doNotAutoparagraph:!0});const a=o.getFirstPosition().parent;a.isEmpty&&!i.schema.checkChild(a,"$text")&&i.schema.checkChild(a,"paragraph")&&r.insertElement("paragraph",a,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,i=t.model,s=i.document.selection,r=e?g0(e):null;if(r){const c=t.editing.mapper.toModelElement(r);this._draggedRange=Fn.fromRange(i.createRangeOn(c)),this._blockMode=i.schema.isBlock(c),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(s.isCollapsed&&!s.getFirstPosition().parent.isEmpty)return;const o=Array.from(s.getSelectedBlocks()),a=s.getFirstRange();if(o.length==0){this._draggedRange=Fn.fromRange(a);return}const l=w2(i,o);if(o.length>1)this._draggedRange=Fn.fromRange(l),this._blockMode=!0;else if(o.length==1){const c=a.start.isTouching(l.start)&&a.end.isTouching(l.end);this._draggedRange=Fn.fromRange(c?l:a),this._blockMode=c}i.change(c=>c.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){const s=this.editor.editing.view,r=s.document.selection.editableElement,o=s.domConverter.mapViewToDom(r),a=ce.window.getComputedStyle(o);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Ln(ce.document,"div",{style:"position: fixed; left: -999999px;"}),ce.document.body.appendChild(this._previewContainer));const l=new Ae(o);if(o.contains(t))return;const c=parseFloat(a.paddingLeft),u=Ln(ce.document,"div");u.className="ck ck-content",u.style.width=a.width,u.style.paddingLeft=`${l.left-i+c}px`,ke.isiOS&&(u.style.backgroundColor="white"),u.innerHTML=e.getData("text/html"),e.setDragImage(u,0,0),this._previewContainer.appendChild(u)}}function p0(n){return ke.isGecko?n.dropEffect:["all","copyMove"].includes(n.effectAllowed)?"move":"copy"}function g0(n){if(n.is("editableElement"))return null;if(n.hasClass("ck-widget__selection-handle"))return n.findAncestor(Ot);if(Ot(n))return n;const e=n.findAncestor(t=>Ot(t)||t.is("editableElement"));return Ot(e)?e:null}function w2(n,e){const t=e[0],i=e[e.length-1],s=t.getCommonAncestor(i),r=n.createPositionBefore(t),o=n.createPositionAfter(i);if(s&&s.is("element")&&!n.schema.isLimit(s)){const a=n.createRangeOn(s),l=r.isTouching(a.start),c=o.isTouching(a.end);if(l&&c)return w2(n,[s])}return n.createRange(r,o)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gj extends Te{static get pluginName(){return"PastePlainText"}static get requires(){return[Qr]}init(){const e=this.editor,t=e.model,i=e.editing.view,s=i.document,r=t.document.selection;let o=!1;i.addObserver(Ba),this.listenTo(s,"keydown",(a,l)=>{o=l.shiftKey}),e.plugins.get(Qr).on("contentInsertion",(a,l)=>{!o&&!bj(l.content,t.schema)||t.change(c=>{const u=Array.from(r.getAttributes()).filter(([f])=>t.schema.getAttributeProperties(f).isFormatting);r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),u.push(...r.getAttributes());const d=c.createRangeIn(l.content);for(const f of d.getItems())f.is("$textProxy")&&c.setAttributes(u,f)})})}}function bj(n,e){if(n.childCount>1)return!1;const t=n.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vj extends Te{static get pluginName(){return"Clipboard"}static get requires(){return[c2,Qr,pj,gj]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yj extends rn{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!b0(e.schema,i))do if(i=i.parent,!i)return;while(!b0(e.schema,i));e.change(s=>{s.setSelection(i,"in")})}}function b0(n,e){return n.isLimit(e)&&(n.checkChild(e,"$text")||n.checkChild(e,"paragraph"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const wj=Vh("Ctrl+A");class _j extends Te{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,s=e.editing.view.document;e.commands.add("selectAll",new yj(e)),this.listenTo(s,"keydown",(r,o)=>{qr(o)===wj&&(e.execute("selectAll"),o.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}const Cj='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kj extends Te{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const t=this._createButton(_t);return t.set({tooltip:!0}),t}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(bs))}_createButton(e){const t=this.editor,i=t.locale,s=t.commands.get("selectAll"),r=new e(t.locale),o=i.t;return r.set({label:o("Select all"),icon:Cj,keystroke:"Ctrl+A"}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),r}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ej extends Te{static get requires(){return[_j,kj]}static get pluginName(){return"SelectAll"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _2 extends rn{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,i)=>{i[1]={...i[1]};const s=i[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const s=this.editor.model,r=s.document,o=[],a=e.map(c=>c.getTransformedByOperations(i)),l=a.flat();for(const c of a){const u=c.filter(d=>d.root!=r.graveyard).filter(d=>!Sj(d,l));u.length&&(Tj(u),o.push(u[0]))}o.length&&s.change(c=>{c.setSelection(o,{backward:t})})}_undo(e,t){const i=this.editor.model,s=i.document;this._createdBatches.add(t);const r=e.operations.slice().filter(o=>o.isDocumentOperation);r.reverse();for(const o of r){const a=o.baseVersion+1,l=Array.from(s.history.getOperations(a)),u=IV([o.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let d of u){const f=d.affectedSelectable;f&&!i.canEditAt(f)&&(d=new Pt(d.baseVersion)),t.addOperation(d),i.applyOperation(d),s.history.setOperationAsUndone(o,d)}}}}function Tj(n){n.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<n.length;e++){const i=n[e-1].getJoined(n[e],!0);i&&(e--,n.splice(e,2,i))}}function Sj(n,e){return e.some(t=>t!==n&&t.containsRange(n,!0))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Pj extends _2{execute(e=null){const t=e?this._stack.findIndex(r=>r.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(i.batch,s);const r=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,r)}),this.fire("revert",i.batch,s),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Aj extends _2{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)}),this.refresh()}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xj extends Te{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new Pj(e),this._redoCommand=new Aj(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,s)=>{const r=s[0];if(!r.isDocumentOperation)return;const o=r.batch,a=this._redoCommand.createdBatches.has(o),l=this._undoCommand.createdBatches.has(o);this._batchRegistry.has(o)||(this._batchRegistry.add(o),o.isUndoable&&(a?this._undoCommand.addBatch(o):l||(this._undoCommand.addBatch(o),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,s,r)=>{this._redoCommand.addBatch(r)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Oj extends Te{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,i=e.t,s=t.uiLanguageDirection=="ltr"?Qe.undo:Qe.redo,r=t.uiLanguageDirection=="ltr"?Qe.redo:Qe.undo;this._addButtonsToFactory("undo",i("Undo"),"CTRL+Z",s),this._addButtonsToFactory("redo",i("Redo"),"CTRL+Y",r)}_addButtonsToFactory(e,t,i,s){const r=this.editor;r.ui.componentFactory.add(e,()=>{const o=this._createButton(_t,e,t,i,s);return o.set({tooltip:!0}),o}),r.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(bs,e,t,i,s))}_createButton(e,t,i,s,r){const o=this.editor,a=o.locale,l=o.commands.get(t),c=new e(a);return c.set({label:i,icon:r,keystroke:s}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{o.execute(t),o.editing.view.focus()}),c}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ij extends Te{static get requires(){return[xj,Oj]}static get pluginName(){return"Undo"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rj extends Te{static get requires(){return[DF,vj,g2,Ej,b2,DH,Ij]}static get pluginName(){return"Essentials"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class C2 extends rn{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,s=t.document.selection,r=e.forceValue===void 0?!this.value:e.forceValue;t.change(o=>{if(s.isCollapsed)r?o.setSelectionAttribute(this.attributeKey,!0):o.removeSelectionAttribute(this.attributeKey);else{const a=t.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const l of a)r?o.setAttribute(this.attributeKey,r,l):o.removeAttribute(this.attributeKey,l)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const s of i.getRanges())for(const r of s.getItems())if(t.checkAttribute(r,this.attributeKey))return r.hasAttribute(this.attributeKey);return!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const gr="bold";class Mj extends Te{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:gr}),e.model.schema.setAttributeProperties(gr,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:gr,view:"strong",upcastAlso:["b",i=>{const s=i.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(gr,new C2(e,gr)),e.keystrokes.set("CTRL+B",gr),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function k2({editor:n,commandName:e,plugin:t,icon:i,label:s,keystroke:r}){return o=>{const a=n.commands.get(e),l=new o(n.locale);return l.set({label:s,icon:i,keystroke:r,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),t.listenTo(l,"execute",()=>{n.execute(e),n.editing.view.focus()}),l}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Il="bold";class Lj extends Te{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,i=e.commands.get(Il),s=k2({editor:e,commandName:Il,plugin:this,icon:Qe.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(Il,()=>{const r=s(_t);return r.set({tooltip:!0}),r.bind("isOn").to(i,"value"),r}),e.ui.componentFactory.add("menuBar:"+Il,()=>s(bs))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bj extends Te{static get requires(){return[Mj,Lj]}static get pluginName(){return"Bold"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const br="italic";class Dj extends Te{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:br}),e.model.schema.setAttributeProperties(br,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:br,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(br,new C2(e,br)),e.keystrokes.set("CTRL+I",br),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const Vj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Rl="italic";class $j extends Te{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(Rl),i=e.locale.t,s=k2({editor:e,commandName:Rl,plugin:this,icon:Vj,keystroke:"CTRL+I",label:i("Italic")});e.ui.componentFactory.add(Rl,()=>{const r=s(_t);return r.set({tooltip:!0}),r.bind("isOn").to(t,"value"),r}),e.ui.componentFactory.add("menuBar:"+Rl,()=>s(bs))}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Fj extends Te{static get requires(){return[Dj,$j]}static get pluginName(){return"Italic"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nj{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,s)=>{if(!s.consumable.test(i.item,"attribute:linkHref")||!(i.item.is("selection")||s.schema.isInline(i.item)))return;const r=s.writer,o=r.document.selection;for(const a of this._definitions){const l=r.createAttributeElement("a",a.attributes,{priority:5});a.classes&&r.addClass(a.classes,l);for(const c in a.styles)r.setStyle(c,a.styles[c],l);r.setCustomProperty("link",!0,l),a.callback(i.attributeNewValue)?i.item.is("selection")?r.wrap(o.getFirstRange(),l):r.wrap(s.mapper.toViewRange(i.range),l):r.unwrap(s.mapper.toViewRange(i.range),l)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:s,mapper:r})=>{const o=r.toViewElement(i.item),a=Array.from(o.getChildren()).find(l=>l.is("element","a"));for(const l of this._definitions){const c=Ri(l.attributes);if(l.callback(i.attributeNewValue)){for(const[u,d]of c)u==="class"?s.addClass(d,a):s.setAttribute(u,d,a);l.classes&&s.addClass(l.classes,a);for(const u in l.styles)s.setStyle(u,l.styles[u],a)}else{for(const[u,d]of c)u==="class"?s.removeClass(d,a):s.removeAttribute(u,a);l.classes&&s.removeClass(l.classes,a);for(const u in l.styles)s.removeStyle(u,a)}}})}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Hj=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,jj="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))",Uj=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,zj=/^((\w+:(\/{2,})?)|(\W))/i,Wj=["https?","ftps?","mailto"],Ml="Ctrl+K";function Kj(n){return n.is("attributeElement")&&!!n.getCustomProperty("link")}function v0(n,{writer:e}){const t=e.createAttributeElement("a",{href:n},{priority:5});return e.setCustomProperty("link",!0,t),t}function E2(n,e=Wj){const t=String(n),i=e.join("|"),s=new RegExp(`${jj.replace("<protocols>",i)}`,"i");return qj(t,s)?t:"#"}function qj(n,e){return!!n.replace(Hj,"").match(e)}function Gj(n,e){const t={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return e.forEach(i=>("label"in i&&t[i.label]&&(i.label=t[i.label]),i)),e}function Zj(n){const e=[];if(n)for(const[t,i]of Object.entries(n)){const s=Object.assign({},i,{id:`link${qO(t)}`});e.push(s)}return e}function Tf(n,e){return n?e.checkAttribute(n.name,"linkHref"):!1}function Jj(n){return Uj.test(n)}function om(n,e){const t=Jj(n)?"mailto:":e,i=!!t&&!T2(n);return n&&i?t+n:n}function T2(n){return zj.test(n)}function y0(n){window.open(n,"_blank","noopener")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Yj extends rn{constructor(){super(...arguments),this.manualDecorators=new ps,this.automaticDecorators=new Nj}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||Ii(t.getSelectedBlocks());Tf(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,t={}){const i=this.editor.model,s=i.document.selection,r=[],o=[];for(const a in t)t[a]?r.push(a):o.push(a);i.change(a=>{if(s.isCollapsed){const l=s.getFirstPosition();if(s.hasAttribute("linkHref")){const c=w0(s);let u=cu(l,"linkHref",s.getAttribute("linkHref"),i);s.getAttribute("linkHref")===c&&(u=this._updateLinkContent(i,a,u,e)),a.setAttribute("linkHref",e,u),r.forEach(d=>{a.setAttribute(d,!0,u)}),o.forEach(d=>{a.removeAttribute(d,u)}),a.setSelection(a.createPositionAfter(u.end.nodeBefore))}else if(e!==""){const c=Ri(s.getAttributes());c.set("linkHref",e),r.forEach(d=>{c.set(d,!0)});const{end:u}=i.insertContent(a.createText(e,c),l);a.setSelection(u)}["linkHref",...r,...o].forEach(c=>{a.removeSelectionAttribute(c)})}else{const l=i.schema.getValidRanges(s.getRanges(),"linkHref"),c=[];for(const d of s.getSelectedBlocks())i.schema.checkAttribute(d,"linkHref")&&c.push(a.createRangeOn(d));const u=c.slice();for(const d of l)this._isRangeToUpdate(d,c)&&u.push(d);for(const d of u){let f=d;if(u.length===1){const h=w0(s);s.getAttribute("linkHref")===h&&(f=this._updateLinkContent(i,a,d,e),a.setSelection(a.createSelection(f)))}a.setAttribute("linkHref",e,f),r.forEach(h=>{a.setAttribute(h,!0,f)}),o.forEach(h=>{a.removeAttribute(h,f)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,s=i.getSelectedElement();return Tf(s,t.schema)?s.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,t,i,s){const r=t.createText(s,{linkHref:s});return e.insertContent(r,i)}}function w0(n){if(n.isCollapsed){const e=n.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(n.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Xj extends rn{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();Tf(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,i=t.document.selection,s=e.commands.get("link");t.change(r=>{const o=i.isCollapsed?[cu(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(const a of o)if(r.removeAttribute("linkHref",a),s)for(const l of s.manualDecorators)r.removeAttribute(l.id,a)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Qj extends pt(){constructor({id:e,label:t,attributes:i,classes:s,styles:r,defaultValue:o}){super(),this.id=e,this.set("value",void 0),this.defaultValue=o,this.label=t,this.attributes=i,this.classes=s,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const eU="ck-link_selected",_0="automatic",tU="manual",nU=/^(https?:)?\/\//;class S2 extends Te{static get pluginName(){return"LinkEditing"}static get requires(){return[s0,d2,Qr]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:v0}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(r,o)=>v0(E2(r,t),o)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:r=>r.getAttribute("href")}}),e.commands.add("link",new Yj(e)),e.commands.add("unlink",new Xj(e));const i=Gj(e.t,Zj(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(r=>r.mode===_0)),this._enableManualDecorators(i.filter(r=>r.mode===tU)),e.plugins.get(s0).registerAttribute("linkHref"),$H(e,"linkHref","a",eU),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,s=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:_0,callback:r=>!!r&&nU.test(r),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&t.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,s=t.commands.get("link").manualDecorators;e.forEach(r=>{t.model.schema.extend("$text",{allowAttributes:r.id});const o=new Qj(r);s.add(o),t.conversion.for("downcast").attributeToElement({model:o.id,view:(a,{writer:l,schema:c},{item:u})=>{if((u.is("selection")||c.isInline(u))&&a){const d=l.createAttributeElement("a",o.attributes,{priority:5});o.classes&&l.addClass(o.classes,d);for(const f in o.styles)l.setStyle(f,o.styles[f],d);return l.setCustomProperty("link",!0,d),d}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(s,r)=>{if(!(ke.isMac?r.domEvent.metaKey:r.domEvent.ctrlKey))return;let a=r.domTarget;if(a.tagName.toLowerCase()!="a"&&(a=a.closest("a")),!a)return;const l=a.getAttribute("href");l&&(s.stop(),r.preventDefault(),y0(l))},{context:"$capture"}),this.listenTo(i,"keydown",(s,r)=>{const a=e.commands.get("link").value;a&&r.keyCode===Re.enter&&r.altKey&&(s.stop(),y0(a))})}_enableSelectionAttributesFixer(){const t=this.editor.model,i=t.document.selection;this.listenTo(i,"change:attribute",(s,{attributeKeys:r})=>{!r.includes("linkHref")||i.hasAttribute("linkHref")||t.change(o=>{iU(o,sU(t.schema))})})}_enableClipboardIntegration(){const e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,r)=>{t.change(o=>{const a=o.createRangeIn(r.content);for(const l of a.getItems())if(l.hasAttribute("linkHref")){const c=om(l.getAttribute("linkHref"),i);o.setAttribute("linkHref",c,l)}})})}}function iU(n,e){n.removeSelectionAttribute("linkHref");for(const t of e)n.removeSelectionAttribute(t)}function sU(n){return n.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rU extends pe{constructor(e,t,i){super(e),this.focusTracker=new sn,this.keystrokes=new Gn,this._focusables=new Vi;const s=e.t;this._validators=i,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Qe.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Qe.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Ni({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const r=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&r.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),HL({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new z_(this.locale,X_);return t.label=e("Link URL"),t}_createButton(e,t,i,s){const r=new _t(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.extendTemplate({attributes:{class:i}}),s&&r.delegate("execute").to(this,s),r}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const s=new em(this.locale);s.set({name:i.id,label:i.label,withText:!0}),s.bind("isOn").toMany([i,e],"value",(r,o)=>o===void 0&&r===void 0?!!i.defaultValue:!!r),s.on("execute",()=>{i.set("value",!s.isOn)}),t.add(s)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const i=new pe;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(i)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}const oU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class aU extends pe{constructor(e,t={}){super(e),this.focusTracker=new sn,this.keystrokes=new Gn,this._focusables=new Vi;const i=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),oU,"unlink"),this.editButtonView=this._createButton(i("Edit link"),Qe.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Ni({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){const s=new _t(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.delegate("execute").to(this,i),s}_createPreviewButton(){const e=new _t(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",s=>s&&E2(s,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||i("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const lU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Yn="link-ui";class cU extends Te{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[G1]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(g$),this._balloon=e.plugins.get(G1),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Yn,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Yn,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:Ml},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new aU(e.locale,e.config.get("link")),i=e.commands.get("link"),s=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(r,o)=>{this._hideUI(),o()}),t.keystrokes.set(Ml,(r,o)=>{this._addFormView(),o()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),s=new(NL(rU))(e.locale,t,uU(e));return s.urlInputView.fieldView.bind("value").to(t,"value"),s.urlInputView.bind("isEnabled").to(t,"isEnabled"),s.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(s,"submit",()=>{if(s.isValid()){const{value:r}=s.urlInputView.fieldView.element,o=om(r,i);e.execute("link",o,s.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(s.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(r,o)=>{this._closeFormView(),o()}),s}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const i=this._createButton(_t);return i.set({tooltip:!0,isToggleable:!0}),i.bind("isOn").to(t,"value",s=>!!s),i}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(bs))}_createButton(e){const t=this.editor,i=t.locale,s=t.commands.get("link"),r=new e(t.locale),o=i.t;return r.set({label:o("Link"),icon:lU,keystroke:Ml}),r.bind("isEnabled").to(s,"isEnabled"),this.listenTo(r,"execute",()=>this._showUI(!0)),r}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Ml,(i,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Uh({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=t.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),s=o();const r=()=>{const a=this._getSelectedLinkElement(),l=o();i&&!a||!i&&l!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=a,s=l};function o(){return t.selection.focus.getAncestors().reverse().find(a=>a.is("element"))}this.listenTo(e.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,i=e.document;let s;if(t.markers.has(Yn)){const r=Array.from(this.editor.editing.mapper.markerNameToElements(Yn)),o=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));s=e.domConverter.viewRangeToDom(o)}else s=()=>{const r=this._getSelectedLinkElement();return r?e.domConverter.mapViewToDom(r):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&Ot(i))return sd(t.getFirstPosition());{const s=t.getFirstRange().getTrimmed(),r=sd(s.start),o=sd(s.end);return!r||r!=o?null:e.createRangeIn(r).getTrimmed().isEqual(s)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(Yn))t.updateMarker(Yn,{range:i});else if(i.start.isAtEnd){const s=i.start.getLastMatchingPosition(({item:r})=>!e.schema.isContent(r),{boundaries:i});t.addMarker(Yn,{usingOperation:!1,affectsData:!1,range:t.createRange(s,i.end)})}else t.addMarker(Yn,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Yn)&&e.change(t=>{t.removeMarker(Yn)})}}function sd(n){return n.getAncestors().find(e=>Kj(e))||null}function uU(n){const e=n.t,t=n.config.get("link.allowCreatingEmptyLinks");return[i=>{if(!t&&!i.url.length)return e("Link URL must not be empty.")}]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const dU=4,P2=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),fU=2;class hU extends Te{static get requires(){return[lu,S2]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?cu(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const s=this.editor.model,r=s.document.selection,o=r.getFirstPosition(),a=r.getLastPosition();let l=t.getJoined(this._expandLinkRange(s,o)||t);l&&(l=l.getJoined(this._expandLinkRange(s,a)||t)),l&&(l.start.isBefore(o)||l.end.isAfter(a))&&e.setSelection(l)}_enablePasteLinking(){const e=this.editor,t=e.model,i=t.document.selection,s=e.plugins.get("ClipboardPipeline"),r=e.commands.get("link");s.on("inputTransformation",(o,a)=>{if(!this.isEnabled||!r.isEnabled||i.isCollapsed||a.method!=="paste"||i.rangeCount>1)return;const l=i.getFirstRange(),c=a.dataTransfer.getData("text/plain");if(!c)return;const u=c.match(P2);u&&u[2]===c&&(t.change(d=>{this._selectEntireLinks(d,l),r.execute(c)}),o.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new VH(e.model,i=>{if(!mU(i))return;const s=C0(i.substr(0,i.length-1));if(s)return{url:s}});t.on("matched:data",(i,s)=>{const{batch:r,range:o,url:a}=s;if(!r.isTyping)return;const l=o.end.getShiftedBy(-1),c=l.getShiftedBy(-a.length),u=e.model.createRange(c,l);this._applyAutoLink(a,u)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const r=t.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(r)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const s=t.document.selection.getFirstPosition(),r=t.createRange(t.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(r)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:s}=h2(e,t),r=C0(i);if(r){const o=t.createRange(s.end.getShiftedBy(-r.length),s.end);this._applyAutoLink(r,o)}}_applyAutoLink(e,t){const i=this.editor.model,s=this.editor.config.get("link.defaultProtocol"),r=om(e,s);!this.isEnabled||!pU(t,i)||!T2(r)||gU(t)||this._persistAutoLink(r,t)}_persistAutoLink(e,t){const i=this.editor.model,s=this.editor.plugins.get("Delete");i.enqueueChange(r=>{r.setAttribute("linkHref",e,t),i.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function mU(n){return n.length>dU&&n[n.length-1]===" "&&n[n.length-2]!==" "}function C0(n){const e=P2.exec(n);return e?e[fU]:null}function pU(n,e){return e.schema.checkAttributeInSelection(e.createSelection(n),"linkHref")}function gU(n){const e=n.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class bU extends Te{static get requires(){return[S2,cU,hU]}static get pluginName(){return"Link"}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class vU extends rn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=e.document,i=Ii(t.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&k0(i,e.schema)}execute(e={}){const t=this.editor.model,i=t.document,s=e.selection||i.selection;t.canEditAt(s)&&t.change(r=>{const o=s.getSelectedBlocks();for(const a of o)!a.is("element","paragraph")&&k0(a,t.schema)&&r.rename(a,"paragraph")})}}function k0(n,e){return e.checkChild(n.parent,"paragraph")&&!e.isObject(n)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class yU extends rn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,i=e.attributes;let s=e.position;t.canEditAt(s)&&t.change(r=>{if(s=this._findPositionToInsertParagraph(s,r),!s)return;const o=r.createElement("paragraph");i&&t.schema.setAllowedAttributes(o,i,r),t.insertContent(o,s),r.setSelection(o,"in")})}_findPositionToInsertParagraph(e,t){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const s=i.schema.findAllowedParent(e,"paragraph");if(!s)return null;const r=e.parent,o=i.schema.checkChild(r,"$text");return r.isEmpty||o&&e.isAtEnd?i.createPositionAfter(r):!r.isEmpty&&o&&e.isAtStart?i.createPositionBefore(r):t.split(e,s).position}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class uu extends Te{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new vU(e)),e.commands.add("insertParagraph",new yU(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(i,{writer:s})=>!uu.paragraphLikeElements.has(i.name)||i.isEmpty?null:s.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}uu.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function wc(n){const e=n.t,t=n.config.get("codeBlock.languages");for(const i of t)i.label==="Plain text"&&(i.label=e("Plain text")),i.class===void 0&&(i.class=`language-${i.language}`);return t}function _c(n,e,t){const i={};for(const s of n)if(e==="class"){const r=s[e].split(" ").shift();i[r]=s[t]}else i[s[e]]=s[t];return i}function am(n){return n.data.match(/^(\s*)/)[0]}function wU(n,e){const t=n.createDocumentFragment(),i=e.split(`
`),s=i.reduce((r,o,a)=>(r.push(o),a<i.length-1&&r.push(n.createElement("br")),r),[]);return n.appendChild(s,t),t}function Sf(n){const e=n.document.selection,t=[];if(e.isCollapsed)return[e.anchor];const i=e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:s}of i){if(!s.is("$textProxy"))continue;const{parent:r,startOffset:o}=s.textNode;if(!r.is("element","codeBlock"))continue;const a=am(s.textNode),l=n.createPositionAt(r,o+a.length);t.push(l)}return t}function A2(n){const e=Ii(n.getSelectedBlocks());return!!e&&e.is("element","codeBlock")}function E0(n,e){return e.is("rootElement")||n.isLimit(e)?!1:n.checkChild(e.parent,"codeBlock")}function T0(n,e,t,i){const s=_c(e,"language","label"),r=t.getAttribute("language");if(r in s){const o=s[r];return n(i==="enter"?"Entering %0 code snippet":"Leaving %0 code snippet",o)}return n(i==="enter"?"Entering code snippet":"Leaving code snippet")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _U extends rn{constructor(e){super(e),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor,i=t.model,s=i.document.selection,o=wc(t)[0],a=Array.from(s.getSelectedBlocks()),l=e.forceValue==null?!this.value:e.forceValue,c=CU(e,this._lastLanguage,o.language);i.change(u=>{l?this._applyCodeBlock(u,a,c):this._removeCodeBlock(u,a)})}_getValue(){const e=this.editor.model.document.selection,t=Ii(e.getSelectedBlocks());return!!(t&&t.is("element","codeBlock"))?t.getAttribute("language"):!1}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=Ii(e.getSelectedBlocks());return i?E0(t,i):!1}_applyCodeBlock(e,t,i){this._lastLanguage=i;const s=this.editor.model.schema,r=t.filter(o=>E0(s,o));for(const o of r)e.rename(o,"codeBlock"),e.setAttribute("language",i,o),s.removeDisallowedAttributes([o],e),Array.from(o.getChildren()).filter(a=>!s.checkChild(o,a)).forEach(a=>e.remove(a));r.reverse().forEach((o,a)=>{const l=r[a+1];o.previousSibling===l&&(e.appendElement("softBreak",l),e.merge(e.createPositionBefore(o)))})}_removeCodeBlock(e,t){const i=t.filter(s=>s.is("element","codeBlock"));for(const s of i){const r=e.createRangeOn(s);for(const o of Array.from(r.getItems()).reverse())if(o.is("element","softBreak")&&o.parent.is("element","codeBlock")){const{position:a}=e.split(e.createPositionBefore(o)),l=a.nodeAfter;e.rename(l,"paragraph"),e.removeAttribute("language",l),e.remove(o)}e.rename(s,"paragraph"),e.removeAttribute("language",s)}}}function CU(n,e,t){return n.language?n.language:n.usePreviousLanguageChoice&&e?e:t}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kU extends rn{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(i=>{const s=Sf(t);for(const r of s){const o=i.createText(this._indentSequence);t.insertContent(o,r)}})}_checkEnabled(){return this._indentSequence?A2(this.editor.model.document.selection):!1}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class EU extends rn{constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;t.change(()=>{const i=Sf(t);for(const s of i){const r=S0(t,s,this._indentSequence);r&&t.deleteContent(t.createSelection(r))}})}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return A2(e.document.selection)?Sf(e).some(t=>S0(e,t,this._indentSequence)):!1}}function S0(n,e,t){const i=TU(e);if(!i)return null;const s=am(i),r=s.lastIndexOf(t);if(r+t.length!==s.length||r===-1)return null;const{parent:o,startOffset:a}=i;return n.createRange(n.createPositionAt(o,a+r),n.createPositionAt(o,a+r+t.length))}function TU(n){let e=n.parent.getChild(n.index);return(!e||e.is("element","softBreak"))&&(e=n.nodeBefore),!e||e.is("element","softBreak")?null:e}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function P0(n,e,t=!1){const i=_c(e,"language","class"),s=_c(e,"language","label");return(r,o,a)=>{const{writer:l,mapper:c,consumable:u}=a;if(!u.consume(o.item,"insert"))return;const d=o.item.getAttribute("language"),f=c.toViewPosition(n.createPositionBefore(o.item)),h={};t&&(h["data-language"]=s[d],h.spellcheck="false");const m=i[d]?{class:i[d]}:void 0,p=l.createContainerElement("code",m),v=l.createContainerElement("pre",h,p);l.insert(f,v),c.bindElements(o.item,p)}}function SU(n){return(e,t,i)=>{if(t.item.parent.name!=="codeBlock")return;const{writer:s,mapper:r,consumable:o}=i;if(!o.consume(t.item,"insert"))return;const a=r.toViewPosition(n.createPositionBefore(t.item));s.insert(a,s.createText(`
`))}}function PU(n,e){const t=_c(e,"class","language"),i=e[0].language;return(s,r,o)=>{const a=r.viewItem,l=a.parent;if(!l||!l.is("element","pre")||r.modelCursor.findAncestor("codeBlock"))return;const{consumable:c,writer:u}=o;if(!c.test(a,{name:!0}))return;const d=u.createElement("codeBlock"),f=[...a.getClassNames()];f.length||f.push("");for(const h of f){const m=t[h];if(m){u.setAttribute("language",m,d);break}}d.hasAttribute("language")||u.setAttribute("language",i,d),o.convertChildren(a,d),o.safeInsert(d,r.modelCursor)&&(c.consume(a,{name:!0}),o.updateConversionResult(d,r))}}function AU(){return(n,e,{consumable:t,writer:i})=>{let s=e.modelCursor;if(!t.test(e.viewItem)||!s.findAncestor("codeBlock"))return;t.consume(e.viewItem);const o=e.viewItem.data.split(`
`).map(l=>i.createText(l)),a=o[o.length-1];for(const l of o)if(i.insert(l,s),s=s.getShiftedBy(l.offsetSize),l!==a){const c=i.createElement("softBreak");i.insert(c,s),s=i.createPositionAfter(c)}e.modelRange=i.createRange(e.modelCursor,s),e.modelCursor=s}}function xU(){return(n,e,{consumable:t})=>{const i=e.viewItem;if(i.findAncestor("pre"))return;const s=Array.from(i.getChildren()),r=s.find(o=>o.is("element","code"));if(r)for(const o of s)o===r||!o.is("$text")||t.consume(o,{name:!0})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const x2="paragraph";class OU extends Te{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[b2]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const e=this.editor,t=e.model.schema,i=e.model,s=e.editing.view,r=e.plugins.has("ListEditing")?e.plugins.get("ListEditing"):null,o=wc(e);e.commands.add("codeBlock",new _U(e)),e.commands.add("indentCodeBlock",new kU(e)),e.commands.add("outdentCodeBlock",new EU(e)),this.listenTo(s.document,"tab",(a,l)=>{const c=l.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(c).isEnabled&&(e.execute(c),l.stopPropagation(),l.preventDefault(),a.stop())},{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),t.addAttributeCheck((a,l)=>{if(a.endsWith("codeBlock")&&r&&r.getListAttributeNames().includes(l))return!0;if(a.endsWith("codeBlock $text"))return!1}),e.model.schema.addChildCheck((a,l)=>{if(a.endsWith("codeBlock")&&l.isObject)return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",P0(i,o,!0)),e.data.downcastDispatcher.on("insert:codeBlock",P0(i,o)),e.data.downcastDispatcher.on("insert:softBreak",SU(i),{priority:"high"}),e.data.upcastDispatcher.on("element:code",PU(s,o)),e.data.upcastDispatcher.on("text",AU()),e.data.upcastDispatcher.on("element:pre",xU(),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",(a,l)=>{let c=i.createRange(i.document.selection.anchor);if(l.targetRanges&&(c=e.editing.mapper.toModelRange(l.targetRanges[0])),!c.start.parent.is("element","codeBlock"))return;const u=l.dataTransfer.getData("text/plain"),d=new b$(e.editing.view.document);l.content=wU(d,u)}),this.listenTo(i,"getSelectedContent",(a,[l])=>{const c=l.anchor;l.isCollapsed||!c.parent.is("element","codeBlock")||!c.hasSameParentAs(l.focus)||i.change(u=>{const d=a.return;if(c.parent.is("element")&&(d.childCount>1||l.containsEntireContent(c.parent))){const h=u.createElement("codeBlock",c.parent.getAttributes());u.append(d,h);const m=u.createDocumentFragment();u.append(h,m),a.return=m;return}const f=d.getChild(0);t.checkAttribute(f,"code")&&u.setAttribute("code",!0,f)})})}afterInit(){const e=this.editor,t=e.commands,i=t.get("indent"),s=t.get("outdent");i&&i.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),s&&s.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",(r,o)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(!RU(e,o.isSoft)&&!MU(e,o.isSoft)&&IU(e),o.preventDefault(),r.stop())},{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:e,ui:t,t:i}=this.editor,s=wc(this.editor);let r=null;e.document.selection.on("change:range",()=>{const o=e.document.selection.focus.parent;!t||r===o||!o.is("element")||(r&&r.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(T0(i,s,r,"leave")),o.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(T0(i,s,o,"enter")),r=o)})}}function IU(n){const t=n.model.document,i=t.selection.getLastPosition(),s=i.nodeBefore||i.textNode;let r;s&&s.is("$text")&&(r=am(s)),n.model.change(o=>{n.execute("shiftEnter"),r&&o.insertText(r,t.selection.anchor)})}function RU(n,e){const i=n.model.document,s=n.editing.view,r=i.selection.getLastPosition(),o=r.nodeAfter;return e||!i.selection.isCollapsed||!r.isAtStart||!Ps(o)?!1:(n.model.change(a=>{n.execute("enter");const l=i.selection.anchor.parent.previousSibling;a.rename(l,x2),a.setSelection(l,"in"),n.model.schema.removeDisallowedAttributes([l],a),a.remove(o)}),s.scrollToTheSelection(),!0)}function MU(n,e){const t=n.model,i=t.document,s=n.editing.view,r=i.selection.getLastPosition(),o=r.nodeBefore;let a;if(e||!i.selection.isCollapsed||!r.isAtEnd||!o||!o.previousSibling)return!1;if(Ps(o)&&Ps(o.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling),t.createPositionAfter(o));else if(rd(o)&&Ps(o.previousSibling)&&Ps(o.previousSibling.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling),t.createPositionAfter(o));else if(rd(o)&&Ps(o.previousSibling)&&rd(o.previousSibling.previousSibling)&&o.previousSibling.previousSibling&&Ps(o.previousSibling.previousSibling.previousSibling))a=t.createRange(t.createPositionBefore(o.previousSibling.previousSibling.previousSibling),t.createPositionAfter(o));else return!1;return n.model.change(l=>{l.remove(a),n.execute("enter");const c=i.selection.anchor.parent;l.rename(c,x2),n.model.schema.removeDisallowedAttributes([c],l)}),s.scrollToTheSelection(),!0}function rd(n){return n&&n.is("$text")&&!n.data.match(/\S/)}function Ps(n){return n&&n.is("element","softBreak")}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class LU extends Te{static get pluginName(){return"CodeBlockUI"}init(){const e=this.editor,t=e.t,i=e.ui.componentFactory,s=wc(e),r=this._getLanguageListItemDefinitions(s),o=e.commands.get("codeBlock");i.add("codeBlock",a=>{const l=sm(a,G_),c=l.buttonView,u=t("Insert code block");return c.set({label:u,tooltip:!0,icon:Qe.codeBlock,isToggleable:!0}),c.bind("isOn").to(o,"value",d=>!!d),c.on("execute",()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),l.on("execute",d=>{e.execute("codeBlock",{language:d.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),l.class="ck-code-block-dropdown",l.bind("isEnabled").to(o),dN(l,r,{role:"menu",ariaLabel:u}),l}),i.add("menuBar:codeBlock",a=>{const l=new js(a);l.buttonView.set({label:t("Code block"),icon:Qe.codeBlock}),l.bind("isEnabled").to(o);const c=new Cf(a);c.set({ariaLabel:t("Insert code block")});for(const u of r){const d=new rm(a,l),f=new bs(a);f.bind(...Object.keys(u.model)).to(u.model),f.bind("ariaChecked").to(f,"isOn"),f.delegate("execute").to(l),f.on("execute",()=>{e.execute("codeBlock",{language:u.model._codeBlockLanguage,forceValue:o.value!=u.model._codeBlockLanguage}),e.editing.view.focus()}),d.children.add(f),c.items.add(d)}return l.panelView.children.add(c),l})}_getLanguageListItemDefinitions(e){const i=this.editor.commands.get("codeBlock"),s=new ps;for(const r of e){const o={type:"button",model:new KN({_codeBlockLanguage:r.language,label:r.label,role:"menuitemradio",withText:!0})};o.model.bind("isOn").to(i,"value",a=>a===o.model._codeBlockLanguage),s.add(o)}return s}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class BU extends Te{static get requires(){return[OU,LU]}static get pluginName(){return"CodeBlock"}}class DU{static getLastElement(e){return e.includes("/")?e.slice(e.lastIndexOf("/")+1):e}}const VU=n=>(Fa("data-v-b189d33b"),n=n(),Na(),n),$U={class:"flexColumn alignCenter"},FU={class:"flexColumn block wide"},NU={class:"h2 flexRow alignCenter"},HU={id:"editorWrapper"},jU=["innerHTML"],UU={key:2},zU=["src"],WU={key:3,class:"flexColumn"},KU=VU(()=>R("div",{class:"h1"},":",-1)),qU={id:"files",class:"flexColumn sub"},GU=["href"],ZU=Ct({__name:"Lesson",async setup(n){let e,t;const i=Za(),s=ui(),r=se({editor:au,visible:!1,data:"",config:{plugins:[Rj,Bj,Fj,bU,uu,BU],toolbar:{items:["bold","italic","link","undo","redo","codeBlock"]}}}),o=se(parseInt(i.params.id)),a=se(""),l=se(""),c=se(""),u=se([]);try{const f=([e,t]=ht(()=>Kt.lesson(o.value)),e=await e,t(),e);a.value=f.name,l.value=f.description,c.value=f.video??"",u.value=([e,t]=ht(()=>Kt.lessonFiles(o.value)),e=await e,t(),e);for(const h of u.value)h.name=decodeURIComponent(DU.getLastElement(h.other_file))}catch(f){An(f)}function d(){r.value.data=l.value,r.value.visible=!0}return(f,h)=>{const m=Tt("ckeditor");return S(),$("div",$U,[I(A(Xa)),R("div",FU,[R("div",NU,[R("div",null,_e(a.value),1),A(s).isTeacher?(S(),fe(A(mt),{key:0,icon:"pi pi-file-edit",text:"",onClick:d,disabled:r.value.visible},null,8,["disabled"])):me("",!0)]),I(A(os)),R("div",HU,[r.value.visible?(S(),fe(m,{key:0,editor:r.value.editor,modelValue:r.value.data,"onUpdate:modelValue":h[0]||(h[0]=p=>r.value.data=p),config:r.value.config},null,8,["editor","modelValue","config"])):me("",!0)]),l.value&&!r.value.visible?(S(),$("div",{key:0,innerHTML:l.value},null,8,jU)):me("",!0),l.value&&!r.value.visible?(S(),fe(A(os),{key:1})):me("",!0),c.value?(S(),$("div",UU,[R("video",{controls:"",width:"320",height:"240",src:c.value},null,8,zU),I(A(os))])):me("",!0),u.value.length?(S(),$("div",WU,[KU,R("div",qU,[(S(!0),$(ye,null,Ft(u.value,p=>(S(),$("a",{key:p.id,href:p.other_file},_e(p.name),9,GU))),128))])])):me("",!0)])])}}}),JU=Li(ZU,[["__scopeId","data-v-b189d33b"]]);var YU={root:function(e){var t=e.instance,i=e.props;return["p-radiobutton p-component",{"p-highlight":t.checked,"p-disabled":i.disabled,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":t.$primevue.config.inputStyle==="filled"}]},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},XU=Je.extend({name:"radiobutton",classes:YU}),QU={name:"BaseRadioButton",extends:ut,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:XU,provide:function(){return{$parentInstance:this}}},O2={name:"RadioButton",extends:QU,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var t=this.binary?!this.checked:this.value;this.$emit("update:modelValue",t),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue!=null&&(this.binary?!!this.modelValue:ve.equals(this.modelValue,this.value))}}},ez=["data-p-highlight","data-p-disabled"],tz=["id","value","name","checked","tabindex","disabled","readonly","aria-labelledby","aria-label","aria-invalid"];function nz(n,e,t,i,s,r){return S(),$("div",B({class:n.cx("root")},r.getPTOptions("root"),{"data-p-highlight":r.checked,"data-p-disabled":n.disabled}),[R("input",B({id:n.inputId,type:"radio",class:[n.cx("input"),n.inputClass],style:n.inputStyle,value:n.value,name:n.name,checked:r.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,"aria-labelledby":n.ariaLabelledby,"aria-label":n.ariaLabel,"aria-invalid":n.invalid||void 0,onFocus:e[0]||(e[0]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:e[1]||(e[1]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onChange:e[2]||(e[2]=function(){return r.onChange&&r.onChange.apply(r,arguments)})},r.getPTOptions("input")),null,16,tz),R("div",B({class:n.cx("box")},r.getPTOptions("box")),[R("div",B({class:n.cx("icon")},r.getPTOptions("icon")),null,16)],16)],16,ez)}O2.render=nz;var iz={root:"p-confirm-dialog",icon:"p-confirm-dialog-icon",message:"p-confirm-dialog-message",rejectButton:function(e){var t=e.instance;return["p-confirm-dialog-reject",t.confirmation&&!t.confirmation.rejectClass?"p-button-text":null]},acceptButton:"p-confirm-dialog-accept"},sz=Je.extend({name:"confirmdialog",classes:iz}),rz={name:"BaseConfirmDialog",extends:ut,props:{group:String,breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0}},style:sz,provide:function(){return{$parentInstance:this}}},I2={name:"ConfirmDialog",extends:rz,confirmListener:null,closeListener:null,data:function(){return{visible:!1,confirmation:null}},mounted:function(){var e=this;this.confirmListener=function(t){t&&t.group===e.group&&(e.confirmation=t,e.confirmation.onShow&&e.confirmation.onShow(),e.visible=!0)},this.closeListener=function(){e.visible=!1,e.confirmation=null},kr.on("confirm",this.confirmListener),kr.on("close",this.closeListener)},beforeUnmount:function(){kr.off("confirm",this.confirmListener),kr.off("close",this.closeListener)},methods:{accept:function(){this.confirmation.accept&&this.confirmation.accept(),this.visible=!1},reject:function(){this.confirmation.reject&&this.confirmation.reject(),this.visible=!1},onHide:function(){this.confirmation.onHide&&this.confirmation.onHide(),this.visible=!1},getCXOptions:function(e,t){return{contenxt:{icon:e,iconClass:t.class}}}},computed:{header:function(){return this.confirmation?this.confirmation.header:null},message:function(){return this.confirmation?this.confirmation.message:null},blockScroll:function(){return this.confirmation?this.confirmation.blockScroll:!0},position:function(){return this.confirmation?this.confirmation.position:null},acceptLabel:function(){return this.confirmation?this.confirmation.acceptLabel||this.$primevue.config.locale.accept:null},rejectLabel:function(){return this.confirmation?this.confirmation.rejectLabel||this.$primevue.config.locale.reject:null},acceptIcon:function(){return this.confirmation?this.confirmation.acceptIcon:null},rejectIcon:function(){return this.confirmation?this.confirmation.rejectIcon:null},autoFocusAccept:function(){return this.confirmation.defaultFocus===void 0||this.confirmation.defaultFocus==="accept"},autoFocusReject:function(){return this.confirmation.defaultFocus==="reject"},closeOnEscape:function(){return this.confirmation?this.confirmation.closeOnEscape:!0}},components:{CDialog:as,CDButton:mt}};function oz(n,e,t,i,s,r){var o=Tt("CDButton"),a=Tt("CDialog");return S(),fe(a,{visible:s.visible,"onUpdate:visible":[e[2]||(e[2]=function(l){return s.visible=l}),r.onHide],role:"alertdialog",class:Nt(n.cx("root")),modal:!0,header:r.header,blockScroll:r.blockScroll,position:r.position,breakpoints:n.breakpoints,closeOnEscape:r.closeOnEscape,draggable:n.draggable,pt:n.pt,unstyled:n.unstyled},Io({default:ie(function(){return[n.$slots.container?me("",!0):(S(),$(ye,{key:0},[n.$slots.message?(S(),fe(kt(n.$slots.message),{key:1,message:s.confirmation},null,8,["message"])):(S(),$(ye,{key:0},[Ie(n.$slots,"icon",{},function(){return[n.$slots.icon?(S(),fe(kt(n.$slots.icon),{key:0,class:Nt(n.cx("icon"))},null,8,["class"])):s.confirmation.icon?(S(),$("span",B({key:1,class:[s.confirmation.icon,n.cx("icon")]},n.ptm("icon")),null,16)):me("",!0)]}),R("span",B({class:n.cx("message")},n.ptm("message")),_e(r.message),17)],64))],64))]}),_:2},[n.$slots.container?{name:"container",fn:ie(function(l){return[Ie(n.$slots,"container",{message:s.confirmation,onClose:l.onClose,onAccept:r.accept,onReject:r.reject,closeCallback:l.onclose,acceptCallback:r.accept,rejectCallback:r.reject})]}),key:"0"}:void 0,n.$slots.container?void 0:{name:"footer",fn:ie(function(){return[I(o,{label:r.rejectLabel,class:Nt([n.cx("rejectButton"),s.confirmation.rejectClass]),onClick:e[0]||(e[0]=function(l){return r.reject()}),autofocus:r.autoFocusReject,unstyled:n.unstyled,pt:n.ptm("rejectButton")},Io({_:2},[r.rejectIcon||n.$slots.rejecticon?{name:"icon",fn:ie(function(l){return[Ie(n.$slots,"rejecticon",{},function(){return[R("span",B({class:[r.rejectIcon,l.class]},n.ptm("rejectButton").icon,{"data-pc-section":"rejectbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1032,["label","class","autofocus","unstyled","pt"]),I(o,{label:r.acceptLabel,class:Nt([n.cx("acceptButton"),s.confirmation.acceptClass]),onClick:e[1]||(e[1]=function(l){return r.accept()}),autofocus:r.autoFocusAccept,unstyled:n.unstyled,pt:n.ptm("acceptButton")},Io({_:2},[r.acceptIcon||n.$slots.accepticon?{name:"icon",fn:ie(function(l){return[Ie(n.$slots,"accepticon",{},function(){return[R("span",B({class:[r.acceptIcon,l.class]},n.ptm("acceptButton").icon,{"data-pc-section":"acceptbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1032,["label","class","autofocus","unstyled","pt"])]}),key:"1"}]),1032,["visible","class","header","blockScroll","position","breakpoints","closeOnEscape","draggable","onUpdate:visible","pt","unstyled"])}I2.render=oz;const az={class:"flexColumn alignCenter"},lz={class:"flexColumn block wide"},cz={class:"h2"},uz={key:0,class:"flexRow"},dz=R("div",null,"     .  : ",-1),fz={class:"flexColumn sub"},hz=["for"],mz=Ct({__name:"Checkpoint",async setup(n){let e,t;const i=Za(),s=se(parseInt(i.params.id)),r=se(""),o=se(0),a=se([]),l=ui(),c=at("showWarn"),u=OE(),d=se(!0),f=se(!1),h=se(0),m={2:"danger",3:"warning",4:"info",5:"success"};try{const v=([e,t]=ht(()=>sc.checkpoint(s.value)),e=await e,t(),e);if(r.value=v.name,o.value=v.checkpoint_number,a.value=v.questions,l.isStudent){const _=([e,t]=ht(()=>ni.getStudentGradeOnCheckpoint(l.id,s.value)),e=await e,t(),e);_!=="-"?(f.value=!0,d.value=!1,h.value=_):d.value=!1}}catch(v){An(v)}async function p(){for(const v of a.value)if(!v.chosenAnswer){c("     ","  ");return}u.require({message:" ,     ?",header:" ",icon:"pi pi-exclamation-triangle",rejectClass:"p-button-success p-button-outlined",rejectLabel:"",acceptClass:"p-button-danger",acceptLabel:"",async accept(){try{for(const v of a.value)await o3.sendQuestionChoice(l.id,v.id,v.chosenAnswer,s.value);await sc.sendResult(l.id,s.value)}catch(v){An(v)}}})}return(v,_)=>(S(),$(ye,null,[R("div",az,[I(A(Xa)),R("div",lz,[R("div",cz,"  "+_e(o.value)+". "+_e(r.value),1),I(A(os)),f.value?(S(),$("div",uz,[dz,I(A(yh),{value:h.value,severity:m[h.value]},null,8,["value","severity"])])):me("",!0),(S(!0),$(ye,null,Ft(a.value,(E,w)=>(S(),$("div",{key:E.id,class:"flexColumn alignStretch"},[I(A(wh),null,{title:ie(()=>[Lt(_e(w+1)+". "+_e(E.question_text),1)]),content:ie(()=>[R("div",fz,[(S(!0),$(ye,null,Ft(E.answers,C=>(S(),$("div",{key:C.id,class:"flexRow"},[I(A(O2),{modelValue:E.chosenAnswer,"onUpdate:modelValue":P=>E.chosenAnswer=P,inputId:`${C.id}`,value:C.id,disabled:!d.value},null,8,["modelValue","onUpdate:modelValue","inputId","value","disabled"]),R("label",{for:`${C.id}`},_e(C.answer_text),9,hz)]))),128))])]),_:2},1024)]))),128)),I(A(mt),{label:"",severity:"danger",class:"alignSelfCenter",onClick:p,disabled:!d.value},null,8,["disabled"])])]),I(A(I2))],64))}}),pz=[{name:"signIn",path:"/sign-in",component:RP},{name:"signUp",path:"/sign-up",component:UP},{name:"resetPassword",path:"/reset-password",component:KP},{name:"settings",path:"/settings",component:ZP},{name:"student",path:"/student",component:_A},{name:"teacher",path:"/teacher/:id",component:TA},{name:"course",path:"/course/:id",component:Ex},{name:"lesson",path:"/lesson/:id",component:JU},{name:"checkpoint",path:"/checkpoint/:id",component:mz}],gz=c4({routes:pz,history:$3()}),vs=_v(g7),bz=Wk();vs.use(bz);vs.use(gz);vs.use(PE);vs.use(xE);vs.use(IE);vs.use(hT);vs.directive("tooltip",lT);vs.mount("#app")});export default vz();
